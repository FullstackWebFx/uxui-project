<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>UX/UI Про — Портфоліо → Працевлаштування | Інтенсивний курс</title>
  <meta name="description" content="UX/UI інтенсив: від першого вайрфрейму до готового портфоліо і працевлаштування. 6 місяців, 10 практичних проєктів, live-сесії та менторські рев’ю." />
  <meta property="og:title" content="UX/UI Про — Портфоліо → Працевлаштування" />
  <meta property="og:description" content="6 місяців • 10 практичних проєктів • Live + записи. Отримайте портфоліо і працевлаштування." />
  <meta property="og:image" content="/assets/images/og-hero.webp" />
  <meta name="twitter:card" content="summary_large_image" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script src="https://unpkg.com/focus-trap@6.10.2/dist/focus-trap.umd.js"></script>
  <link rel="stylesheet" href="css/styles.css">
  <style>
:root{
  --accent:#0ea5a4;
  --bg:#0f172a;
  --muted:#6b7280;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  font-family: Inter, system-ui, Arial, sans-serif;
  line-height:1.4;
  color:#0b1220;
  background:#fff;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
.container{max-width:1200px;margin-left:auto;margin-right:auto}
.mx-auto{margin-left:auto;margin-right:auto}
.px-6{padding-left:1.5rem;padding-right:1.5rem}
.py-12{padding-top:3rem;padding-bottom:3rem}
.py-20{padding-top:5rem;padding-bottom:5rem}
.pt-3{padding-top:.75rem}
.pb-4{padding-bottom:1rem}
.mb-2{margin-bottom:.5rem}
.mb-3{margin-bottom:.75rem}
.mb-4{margin-bottom:1rem}
.mb-6{margin-bottom:1.5rem}
.mt-1{margin-top:.25rem}
.mt-2{margin-top:.5rem}
.mt-3{margin-top:.75rem}
.mt-4{margin-top:1rem}
.mt-6{margin-top:1.5rem}
.mb-1{margin-bottom:.25rem}
.grid{display:block}
@media(min-width:1024px){
  .grid.lg\:grid-cols-2{display:grid;grid-template-columns:repeat(2,1fr)}
  .grid.lg\:grid-cols-3{display:grid;grid-template-columns:repeat(3,1fr)}
}
.blur-up{filter:blur(20px);transform:scale(1.02);transition:filter .6s ease,transform .6s ease}
.loaded{filter:blur(0);transform:scale(1)}
.focus-ring:focus{outline:3px solid rgba(14,165,164,.18);outline-offset:3px;border-radius:8px}
.pill{background:rgba(14,165,164,.08);color:var(--accent);padding:.4rem .7rem;border-radius:999px;font-weight:600;font-size:.9rem}
.card{background:#fff;border-radius:12px;padding:1rem;border:1px solid rgba(2,6,23,.04);box-shadow:0 6px 20px rgba(2,6,23,.04)}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
.hero-media{border-radius:14px;overflow:hidden}
.relative{position:relative}
.absolute{position:absolute}
.left-1\/2{left:50%}
.transform{transform:translateX(0)}
.-translate-x-1\/2{transform:translateX(-50%)}
.text-sm{font-size:.9rem}
.text-xs{font-size:.75rem}
.text-lg{font-size:1.125rem}
.text-2xl{font-size:1.5rem}
.text-4xl{font-size:2.25rem}
.font-bold{font-weight:700}
.font-semibold{font-weight:600}
.font-medium{font-weight:500}
.font-extrabold{font-weight:800}
.text-gray-500{color:#6b7280}
.text-slate-600{color:#475569}
.text-slate-700{color:#334155}
.text-gray-600{color:#4b5563}
.bg-gray-50{background:#f9fafb}
.bg-white{background:#fff}
.bg-white\/90{background:rgba(255,255,255,.9)}
.bg-emerald-500{background:#10b981}
.text-emerald-600{color:#059669}
.bg-emerald-50{background:#ecfdf5}
.text-gray-400{color:#9ca3af}
.text-gray-200{color:#e5e7eb}
button, a.button{cursor:pointer;border:0;background:transparent}
button:disabled{cursor:not-allowed;opacity:.6}
.list-disc{list-style-type:disc}
.pl-5{padding-left:1.25rem}
@media (min-width:640px){
  .sm\:grid-cols-2{display:grid;grid-template-columns:repeat(2,1fr)}
}
@media (min-width:1024px){
  .lg\:grid-cols-4{display:grid;grid-template-columns:repeat(4,1fr)}
  .lg\:py-20{padding-top:5rem;padding-bottom:5rem}
}
.hidden{display:none}
.fixed{position:fixed}
.inset-0{top:0;right:0;bottom:0;left:0}
.z-50{z-index:50}
.z-60{z-index:60}
.border-b{border-bottom:1px solid rgba(2,6,23,.04)}
.border-t{border-top:1px solid rgba(2,6,23,.04)}
.border{border:1px solid rgba(2,6,23,.06)}
.rounded{border-radius:8px}
.rounded-md{border-radius:8px}
.rounded-lg{border-radius:12px}
.shadow{box-shadow:0 6px 20px rgba(2,6,23,.04)}
.object-cover{object-fit:cover}
.w-full{width:100%}
.h-40{height:10rem}
.h-8{height:2rem}
.h-16{height:4rem}
.w-16{width:4rem}
.rounded-full{border-radius:9999px}
.text-center{text-align:center}
.ml-auto{margin-left:auto}
.flex{display:flex}
.items-center{align-items:center}
.justify-between{justify-content:space-between}
.gap-3{gap:.75rem}
.gap-4{gap:1rem}
.gap-6{gap:1.5rem}
.flex-wrap{flex-wrap:wrap}
  </style>
</head>
<body class="antialiased bg-white">
<header id="site-header" class="site-header" role="banner">
  <a class="skip-link" href="#main-content">Пропустити до контенту</a>
  <div class="header-row header-top">
    <div class="wrap">
      <a class="brand" href="#pro-kurs" aria-label="Головна — UX/UI Про">
        <svg class="brand-logo" width="44" height="44" viewBox="0 0 100 100" aria-hidden="true" focusable="false">
          <rect rx="18" width="100" height="100" fill="#0F4C81"></rect>
          <text x="50" y="60" text-anchor="middle" font-size="44" font-weight="700" fill="#fff" font-family="Inter, Arial">UX</text>
        </svg>
        <div class="brand-text">
          <div class="brand-title">UX/UI Про</div>
          <div class="brand-sub">Інтенсив • Портфоліо → Працевлаштування</div>
        </div>
      </a>
      <nav class="global-nav" aria-label="Глобальна навігація">
        <a href="#school">Школа</a>
       <a href="#ux-courses-section">Курси</a>

        <a href="#karera" id="#karera">Карʼєра</a>
        <a href="#careers">Працевлаштування</a>
        <a href="#mega-blog-section">Блог</a>
        <a href="#main-form">Контакти</a>
      </nav>
      <button id="hdr-burger" class="burger" aria-controls="mobile-menu" aria-expanded="false" aria-label="Відкрити меню">
        <span class="b-line"></span>
        <span class="b-line"></span>
        <span class="b-line"></span>
      </button>
    </div>
  </div>
  <div class="header-row header-bottom" role="navigation" aria-label="Навігація по сторінці">
    <div class="wrap">
      <nav id="anchor-nav" class="anchor-nav">
        <a href="#pro-kurs" class="anchor-link">Про курс</a>
        <a href="#tekhnologii" class="anchor-link">Технології</a>
        <a href="#mentors-section-v2" class="anchor-link">Ментори</a>
        <a href="#program-section" class="anchor-link">Програма</a>
        <a href="#navchannya" class="anchor-link">Навчання</a>
        <a href="#cases-ua" class="anchor-link">Історії успіху</a>
        <a href="#perevagi" class="anchor-link">Переваги</a>
        <a href="#pytannya" class="anchor-link">Питання</a>
      </nav>
      <div class="header-cta-wrap">
        <a id="cta-signup" class="anchor-cta" href="#contacts-only">Записатися</a>
      </div>
    </div>
  </div>
  <div id="mobile-menu" class="mobile-menu" aria-hidden="true" hidden>
    <div class="mobile-inner" role="dialog" aria-modal="true" aria-label="Мобільне меню">
      <nav class="mobile-section">
        <a href="#pro-kurs">Про курс</a>
        <a href="#tekhnologii" class="anchor-link">Технології</a>
        <a href="#mentors-section-v2">Ментори</a>
        <a href="#program-section">Програма</a>
        <a href="#navchannya">Навчання</a>
        <a href="#cases-ua">Історії успіху</a>
        <a href="#perevagi">Переваги</a>
        <a href="#pytannya">Питання</a>
        <a class="mobile-cta" href="#contacts-only">Записатися</a>
      </nav>
    </div>
  </div>
</header>
</body>
</html>

<script>
(function(){
  const BTN_TEXT = 'Отримати консультацію';
  const HEADER_SELECTOR = '#site-header, header';
  const RIGHT_OFFSET = 20;
  const GAP_AFTER_HEADER = 10;
  const SHOW_ON_MOBILE = false;

  const css = `
.uxt-wrap{ position:fixed; right:${RIGHT_OFFSET}px; z-index:13000; transition:top .18s ease, opacity .18s ease; }
.uxt-btn{ display:inline-block; padding:10px 18px; border-radius:10px; background:linear-gradient(90deg,#10b981,#06b6d4); color:#fff; border:0; font-weight:700; box-shadow:0 12px 40px rgba(2,6,23,0.12); cursor:pointer; }
@media (max-width:720px){
  .uxt-wrap.mobile-hidden{ display:none !important; }
}
.uxt-modal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:14000; }
.uxt-modal[aria-hidden="false"]{ display:flex; }
.uxt-back{ position:absolute; inset:0; background:rgba(2,6,23,0.56); backdrop-filter: blur(2px); }
.uxt-card{ position:relative; z-index:1; width:min(920px,96%); max-height:90vh; overflow:auto; background:#fff; border-radius:12px; padding:20px; box-shadow:0 40px 120px rgba(2,6,23,0.35); outline:none; }
.uxt-close{ background:transparent;border:none;font-size:20px;cursor:pointer; }
.uxt-form .row{ display:flex; gap:10px; }
.uxt-form input, .uxt-form select, .uxt-form textarea{ width:100%; padding:10px;border-radius:8px;border:1px solid rgba(11,18,32,0.06); font-size:14px; }
.uxt-form textarea{ min-height:110px; resize:vertical; }
.uxt-ghost{ padding:8px 12px;border-radius:8px;border:1px solid rgba(11,18,32,0.06); background:#fff; cursor:pointer; }
.uxt-primary{ padding:8px 12px;border-radius:8px;border:0; background:linear-gradient(90deg,#10b981,#06b6d4); color:#fff; cursor:pointer; }
@media (max-width:640px){ .uxt-card{ padding:14px; } .uxt-form .row{ flex-direction:column; } }
`;
  const st = document.createElement('style');
  st.setAttribute('data-uxt-style','');
  st.textContent = css;
  document.head.appendChild(st);

  const header = document.querySelector(HEADER_SELECTOR);

  const wrap = document.createElement('div');
  wrap.className = 'uxt-wrap' + (SHOW_ON_MOBILE ? '' : ' mobile-hidden');
  wrap.style.top = '80px';
  wrap.innerHTML = `<button id="uxt-btn" class="uxt-btn" aria-haspopup="dialog">${BTN_TEXT}</button>`;
  document.body.appendChild(wrap);

  const modal = document.createElement('div');
  modal.id = 'uxt-modal';
  modal.className = 'uxt-modal';
  modal.setAttribute('aria-hidden','true');
  modal.setAttribute('role','dialog');
  modal.innerHTML = `
    <div class="uxt-back" data-uxt-close></div>
    <div class="uxt-card" role="document" tabindex="-1">
      <header style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
        <h3 style="margin:0;font-size:18px;">Замовити консультацію</h3>
        <button class="uxt-close" aria-label="Закрити" data-uxt-close>✕</button>
      </header>

      <form id="uxt-form" class="uxt-form" novalidate>
        <div class="row">
          <input name="name" type="text" placeholder="Ім'я *" required>
          <input name="email" type="email" placeholder="Email *" required>
        </div>
        <div class="row" style="margin-top:8px;">
          <input name="phone" type="tel" placeholder="Телефон">
          <select name="goal" aria-label="Мета">
            <option value="program">Отримати програму</option>
            <option value="career">Career call</option>
            <option value="hire">Hiring / partnership</option>
          </select>
        </div>
        <textarea name="notes" placeholder="Коротко про мету / роль / очікування" style="margin-top:10px;"></textarea>

        <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px;">
          <button type="reset" class="uxt-ghost">Очистити</button>
          <button type="submit" class="uxt-primary">Надіслати</button>
        </div>

        <div id="uxt-msg" style="margin-top:10px;font-size:13px;color:#374151" aria-live="polite"></div>
      </form>
    </div>
  `;
  document.body.appendChild(modal);

  function placeButtonUnderHeader(){
    if(!header){
      wrap.style.top = (GAP_AFTER_HEADER) + 'px';
      wrap.style.right = RIGHT_OFFSET + 'px';
      wrap.style.position = 'fixed';
      return;
    }
    const rect = header.getBoundingClientRect();
    const topPx = rect.bottom + GAP_AFTER_HEADER;
    wrap.style.position = 'fixed';
    wrap.style.top = topPx + 'px';
    wrap.style.right = RIGHT_OFFSET + 'px';
  }

  let raf = null;
  function schedulePlace(){
    if(raf) cancelAnimationFrame(raf);
    raf = requestAnimationFrame(function(){ placeButtonUnderHeader(); raf = null; });
  }
  window.addEventListener('load', schedulePlace);
  window.addEventListener('resize', schedulePlace);
  window.addEventListener('scroll', schedulePlace);
  schedulePlace();

  const btn = document.getElementById('uxt-btn');
  const uxtModal = document.getElementById('uxt-modal');
  const uxtBackdrop = uxtModal.querySelector('.uxt-back');
  const closeBtns = uxtModal.querySelectorAll('[data-uxt-close]');
  const card = uxtModal.querySelector('.uxt-card');
  const form = document.getElementById('uxt-form');
  const msg = document.getElementById('uxt-msg');
  let lastFocus = null;

  function openModal(e){
    if(e) e.preventDefault();
    lastFocus = document.activeElement;
    uxtModal.setAttribute('aria-hidden','false');
    document.body.style.overflow = 'hidden';
    setTimeout(function(){ const f = card.querySelector('input, textarea, select, button'); if(f) f.focus(); },20);
    trapFocus(card);
  }
  function closeModal(){
    uxtModal.setAttribute('aria-hidden','true');
    document.body.style.overflow = '';
    if(lastFocus && lastFocus.focus) lastFocus.focus();
    msg.textContent = '';
    form && form.reset();
  }

  if(btn) btn.addEventListener('click', openModal);
  uxtBackdrop.addEventListener('click', closeModal);
  closeBtns.forEach(function(n){ n.addEventListener('click', closeModal); });
  document.addEventListener('keydown', function(e){ if(e.key === 'Escape' && uxtModal.getAttribute('aria-hidden') === 'false') closeModal(); });

  if(form){
    form.addEventListener('submit', function(e){
      e.preventDefault();
      const fd = new FormData(form);
      const name = (fd.get('name')||'').trim();
      const email = (fd.get('email')||'').trim();
      if(!name || !email){ msg.style.color = '#b45309'; msg.textContent = 'Вкажіть імʼя та email.'; return; }
      msg.style.color = '#059669'; msg.textContent = 'Надсилаємо...';
      setTimeout(function(){ msg.textContent = 'Дякуємо! Ми звʼяжемося з вами.'; setTimeout(closeModal,900); },800);
    });
  }

  function trapFocus(container){
    var focusable = Array.prototype.slice.call(container.querySelectorAll('a[href],button,textarea, input, select,[tabindex]:not([tabindex="-1"])'))
      .filter(function(n){ return !n.hasAttribute('disabled') && n.offsetParent !== null; });
    if(!focusable.length) return;
    var first = focusable[0], last = focusable[focusable.length-1];
    function keyHandler(e){
      if(e.key !== 'Tab') return;
      if(e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
      else if(!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
    }
    container.addEventListener('keydown', keyHandler);
    var mo = new MutationObserver(function(){ if(uxtModal.getAttribute('aria-hidden') === 'true'){ container.removeEventListener('keydown', keyHandler); mo.disconnect(); }});
    mo.observe(uxtModal, { attributes:true, attributeFilter:['aria-hidden'] });
  }

})();
</script>

<style>
  :root{
    --bg: #ffffff;
    --text: #0B1220;        /* чорний для заголовків/лінків */
    --muted: #6B7280;
    --green: #10B981;       /* кнопка запису */
    --border: #eef2f6;
    --container: 1200px;
  }

  /* Skip link */
  .skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
  .skip-link:focus{position:static;left:auto;width:auto;height:auto;padding:8px 12px;background:var(--text);color:#fff;border-radius:6px;z-index:200}

  /* Header overall */
  .site-header{position:sticky;top:0;z-index:120;background:rgba(255,255,255,0.9);backdrop-filter:blur(6px);border-bottom:1px solid var(--border)}
  .wrap{max-width:var(--container);margin:0 auto;padding:0 20px;display:flex;align-items:center;gap:16px}

  .header-row{display:block}
  .header-top .wrap{height:72px;align-items:center;justify-content:space-between}
  .header-bottom{border-top:1px solid #f6f8fb}
  .header-bottom .wrap{height:56px;align-items:center;justify-content:space-between}

  /* Brand */
  .brand{display:flex;align-items:center;gap:12px;text-decoration:none;color:var(--text)}
  .brand-logo{flex:0 0 44px}
  .brand-title{font-weight:700;font-size:16px;line-height:1}
  .brand-sub{font-size:12px;color:var(--muted);margin-top:2px}

  /* Global nav (top row) */
  .global-nav{display:flex;gap:18px;align-items:center}
  .global-nav a{color:var(--muted);text-decoration:none;font-size:14px;padding:6px 4px;border-radius:6px}
  .global-nav a:hover{color:var(--text);text-decoration:underline}

  /* Actions */
  .actions{display:flex;align-items:center;gap:12px}
  .cta-green{display:inline-block;padding:10px 14px;background:var(--green);color:#fff;border-radius:10px;font-weight:700;text-decoration:none;box-shadow:0 1px 0 rgba(0,0,0,0.04)}
  .cta-green:focus{outline:3px solid rgba(16,185,129,0.14);outline-offset:3px}

  /* Burger */
  .burger{display:none;background:transparent;border:0;padding:8px;border-radius:8px;cursor:pointer}
  .b-line{display:block;width:20px;height:2px;background:var(--text);margin:3px 0;border-radius:2px}

  /* Anchor nav (bottom row) */
  .anchor-nav{display:flex;gap:18px;align-items:center;flex-wrap:wrap}
  .anchor-link{color:var(--text);text-decoration:none;font-size:14px;padding:8px 6px;border-radius:8px}
  .anchor-link:hover{background:#fbfdff}
  .anchor-link.active{background:#f2fbf6;color:var(--text);font-weight:700}

  .anchor-cta{display:none;background:var(--green);color:#fff;padding:8px 12px;border-radius:8px;font-weight:700;text-decoration:none}

  /* Mobile menu */
  .mobile-menu{position:fixed;inset:0;z-index:140;background:rgba(255,255,255,0.98);overflow:auto;padding-top:72px}
  .mobile-inner{max-width:var(--container);margin:0 auto;padding:20px}
  .mobile-section{display:flex;flex-direction:column;gap:8px}
  .mobile-section a{padding:10px 12px;border-radius:8px;color:var(--text);text-decoration:none;background:transparent}
  .mobile-cta{background:var(--green);color:#fff;padding:12px;border-radius:10px;text-align:center;font-weight:700}
  hr{border:0;border-top:1px solid #eef2f6;margin:12px 0}

  /* Responsive behaviour */
  @media (max-width: 980px){
    .global-nav{display:none}
    .anchor-nav{display:none}
    .anchor-cta{display:inline-block}
    .burger{display:inline-flex}
    .cta-green{display:none}
  }
  @media (min-width:981px){
    .mobile-menu{display:none !important}
    .anchor-cta{display:none}
  }
</style>


<script>
  (function () {
    // Mobile menu toggle
    const burger = document.getElementById('hdr-burger') || document.getElementById('hdr-burger') || document.getElementById('hdr-burger') ;
    const mobileMenu = document.getElementById('mobile-menu') || document.getElementById('mobile-menu');

    // Try fallback id 'hdr-burger' — if not present, try buttons with class 'burger'
    const burgerBtn = document.getElementById('hdr-burger') || document.querySelector('.burger') || document.getElementById('hdr-burger');

    const menuEl = document.getElementById('mobile-menu');

    if (burgerBtn && menuEl) {
      burgerBtn.addEventListener('click', () => {
        const expanded = burgerBtn.getAttribute('aria-expanded') === 'true';
        if (expanded) {
          menuEl.setAttribute('hidden', '');
          menuEl.setAttribute('aria-hidden', 'true');
          burgerBtn.setAttribute('aria-expanded', 'false');
          menuEl.style.display = 'none';
        } else {
          menuEl.removeAttribute('hidden');
          menuEl.setAttribute('aria-hidden', 'false');
          burgerBtn.setAttribute('aria-expanded', 'true');
          menuEl.style.display = 'block';
          // move focus to first link for keyboard users
          const firstLink = menuEl.querySelector('a[href^="#"], a[href^="/"]');
          if (firstLink) firstLink.focus();
        }
      });

      // close on anchor click inside mobile menu
      menuEl.querySelectorAll('a[href^="#"]').forEach(a => {
        a.addEventListener('click', () => {
          menuEl.setAttribute('hidden', '');
          menuEl.setAttribute('aria-hidden', 'true');
          burgerBtn.setAttribute('aria-expanded', 'false');
          menuEl.style.display = 'none';
        });
      });

      // close on Escape
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          menuEl.setAttribute('hidden', '');
          menuEl.setAttribute('aria-hidden', 'true');
          burgerBtn.setAttribute('aria-expanded', 'false');
          menuEl.style.display = 'none';
        }
      });
    }

    // Smooth scroll polyfill: already handled by CSS scroll-behavior: smooth;
    // Scrollspy: add .active to anchor corresponding to visible section
    const anchors = Array.from(document.querySelectorAll('.anchor-link'));
    const sections = anchors.map(a => document.getElementById(a.getAttribute('href').slice(1))).filter(Boolean);

    if ('IntersectionObserver' in window && sections.length) {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          const id = entry.target.id;
          const link = document.querySelector('.anchor-link[href="#' + id + '"]');
          if (link) {
            if (entry.isIntersecting && entry.intersectionRatio > 0.45) {
              // activate
              document.querySelectorAll('.anchor-link.active').forEach(el => el.classList.remove('active'));
              link.classList.add('active');
            } else {
              // We do not immediately remove here to avoid flicker;
              // the observer on other sections will set the active class.
            }
          }
        });
      }, { threshold: [0.45, 0.6] });

      sections.forEach(s => observer.observe(s));
    } else {
      // Fallback: on scroll measure which section top is nearest to viewport top
      window.addEventListener('scroll', () => {
        let nearest = null;
        let minDist = Infinity;
        sections.forEach(s => {
          const rect = s.getBoundingClientRect();
          const dist = Math.abs(rect.top - 120); // 120px offset for header
          if (dist < minDist) { minDist = dist; nearest = s; }
        });
        if (nearest) {
          document.querySelectorAll('.anchor-link.active').forEach(el => el.classList.remove('active'));
          const link = document.querySelector('.anchor-link[href="#' + nearest.id + '"]');
          if (link) link.classList.add('active');
        }
      }, { passive: true });
    }

    // Ensure anchor links have black text color (in case site CSS overrides)
    document.querySelectorAll('.anchor-link, .anchor-nav a, .global-nav a').forEach(a => {
      a.style.color = 'var(--text)';
      a.style.fontWeight = '600'; // slightly bolder for visibility
    });
  })();
</script>


<style>
/* ---------- Partners section: reliable centering CSS ---------- */
/* 1) Ensure section is full width and centers inner wrapper */
#partners-mini {
  width: 100%;
  box-sizing: border-box;
  display: block; /* keep normal flow */
  padding-left: 12px;
  padding-right: 12px;
}

/* center the content wrapper (pm-wrap) in the page */
#partners-mini .pm-wrap {
  max-width: 1100px;    /* change if you want wider/narrower */
  width: 100%;
  margin: 0 auto;       /* THIS centers horizontally */
  box-sizing: border-box;
  padding-top: 40px;
  padding-bottom: 40px;
}

/* make sure partners grid is centered visually */
#partners-mini .pm-partners {
  display: grid;
  grid-template-columns: 1fr;
  gap: 16px;
  justify-items: center;       /* centers each card content */
  align-items: start;
  margin: 0 auto 18px;
  width: 100%;
}

/* larger screens show 3 columns but keep centered content */
@media (min-width: 800px) {
  #partners-mini .pm-partners {
    grid-template-columns: repeat(3, minmax(220px, 1fr));
    gap: 20px;
    max-width: 900px;          /* keep the grid narrower so it visually centers */
    justify-content: center;   /* center the whole grid inside wrapper */
  }
}

/* ensure each card has limited width so grid stays centered */
#partners-mini .pm-card {
  max-width: 260px;
  width: 100%;
  box-sizing: border-box;
}

/* center CTA button */
#partners-mini .pm-cta {
  display: flex;
  justify-content: center;
  margin-top: 18px;
}

/* 2) OPTIONAL: full viewport centering (vertical + horizontal)
   Add class "pm-viewport-center" to the section element to enable it:
   <section id="partners-mini" class="pm-viewport-center"> ... </section>
   If you have a fixed header, set --site-header-height variable on :root or body.
*/
#partners-mini.pm-viewport-center {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  min-height: calc(100vh - var(--site-header-height, 0px)) !important;
  padding-left: 20px;
  padding-right: 20px;
}
#partners-mini.pm-viewport-center .pm-wrap {
  margin: 0; /* no auto margin when we're centering by flex */
}

/* small screens safety */
@media (max-width: 520px) {
  #partners-mini .pm-wrap { padding-left: 12px; padding-right: 12px; }
  #partners-mini .pm-card { max-width: 100%; }
  #partners-mini.pm-viewport-center { min-height: auto; padding-top: 40px; padding-bottom: 40px; }
}

/* high-specificity override (if some global layout forces left alignment).
   Uncomment if needed (use only if other styles still break centering).
*/
/*
#partners-mini, #partners-mini .pm-wrap, #partners-mini .pm-partners {
  margin-left: auto !important;
  margin-right: auto !important;
}
*/
</style>

<style>
  :root{
    --bg: #ffffff;
    --text: #0B1220;
    --muted: #6B7280;
    --accent-green: #10b981;
    --accent-btn: #0ea47f;
    --accent-cta: #10b981;
    --border: #eef2f6;
    --container-width: 1200px;
  }

  /* базова поведінка */
  html { scroll-behavior: smooth; }
  .skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
  .skip-link:focus{position:static;left:auto;width:auto;height:auto;padding:8px;background:var(--text);color:#fff;border-radius:6px}

  /* header layout */
  .site-header{position:sticky;top:0;z-index:100;background:rgba(255,255,255,0.85);backdrop-filter:blur(6px);border-bottom:1px solid var(--border)}
  .hz{max-width:var(--container-width);margin:0 auto;padding:0 20px;display:flex;align-items:center;gap:16px}
  .header-top .hz{height:68px;justify-content:space-between}
  .header-bottom{border-top:1px solid #f6f8fb}
  .header-bottom .hz{height:56px;align-items:center}

  /* brand */
  .brand{display:flex;gap:12px;align-items:center;text-decoration:none;color:var(--text)}
  .brand-text{line-height:1}
  .brand-title{font-weight:700;font-size:16px}
  .brand-sub{font-size:12px;color:var(--muted);margin-top:2px}

  /* global nav (top row) */
  .global-nav{display:flex;gap:18px;align-items:center}
  .global-nav a{font-size:14px;color:var(--muted);text-decoration:none;padding:6px 4px;border-radius:6px}
  .global-nav a:hover{color:var(--text);text-decoration:underline}

  /* top actions */
  .top-actions{display:flex;align-items:center;gap:12px}
  .btn-primary{display:inline-block;padding:10px 14px;background:var(--accent-green);color:#fff;border-radius:10px;font-weight:700;text-decoration:none;box-shadow:0 1px 0 rgba(0,0,0,0.04)}
  .btn-primary:focus{outline:2px solid rgba(16,185,129,0.18);outline-offset:2px}

  /* burger */
  .burger{display:none;border:0;background:transparent;padding:8px;cursor:pointer}
  .burger-line{display:block;width:20px;height:2px;background:var(--text);margin:3px 0;border-radius:2px}

  /* anchor nav (bottom row) */
  .anchor-nav{display:flex;gap:18px;align-items:center;flex-wrap:wrap}
  .anchor-link{font-size:14px;color:var(--text);text-decoration:none;padding:8px 6px;border-radius:8px}
  .anchor-link:hover{background:#fbfdff;color:var(--text)}
  .anchor-cta{background:var(--accent-cta);color:#fff;padding:8px 12px;border-radius:10px;font-weight:700;text-decoration:none}

  /* mobile menu */
  .mobile-menu{position:fixed;inset:0;z-index:120;background:rgba(255,255,255,0.98);overflow:auto;padding-top:72px}
  .mobile-inner{max-width:var(--container-width);margin:0 auto;padding:20px}
  .mobile-block{display:flex;flex-direction:column;gap:8px}
  .mobile-block a{padding:10px;border-radius:8px;color:var(--text);text-decoration:none}
  .mobile-cta{background:var(--accent-cta);color:#fff;padding:12px;border-radius:10px;text-align:center;font-weight:700}
  hr{border:0;border-top:1px solid #eef2f6;margin:12px 0}

  /* responsive */
  @media (max-width: 980px) {
    .global-nav{display:none}
    .anchor-nav{display:none}
    .btn-primary{display:none}
    .burger{display:inline-block}
  }
  @media (min-width: 981px) {
    .mobile-menu{display:none !important}
  }
</style>


<script>
  (function () {
    const btn = document.getElementById('burgerBtn') || document.getElementById('burger') || document.getElementById('burgerBtn') || document.getElementById('burgerBtn');
    const altBtn = document.getElementById('burger') || document.getElementById('headerBurger') || document.getElementById('menuBtn');
    const burger = btn || altBtn;
    const menu = document.getElementById('mobileMenu');

    if (!burger || !menu) return;

    function toggleMenu() {
      const isHidden = menu.hasAttribute('hidden') || menu.style.display === 'none';
      if (isHidden) {
        menu.removeAttribute('hidden');
        menu.style.display = 'block';
        menu.setAttribute('aria-hidden', 'false');
        burger.setAttribute('aria-expanded', 'true');
      } else {
        menu.setAttribute('hidden', '');
        menu.style.display = 'none';
        menu.setAttribute('aria-hidden', 'true');
        burger.setAttribute('aria-expanded', 'false');
      }
    }

    burger.addEventListener('click', toggleMenu);

    // Закрити меню при кліку по внутрішньому якорю
    menu.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener('click', () => {
        menu.setAttribute('hidden', '');
        menu.style.display = 'none';
        menu.setAttribute('aria-hidden', 'true');
        burger.setAttribute('aria-expanded', 'false');
      });
    });

    // Закрити на Escape
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        menu.setAttribute('hidden', '');
        menu.style.display = 'none';
        menu.setAttribute('aria-hidden', 'true');
        burger.setAttribute('aria-expanded', 'false');
      }
    });
  })();
</script>




<main>

  <!-- HERO / ПРО КУРС -->
  <section id="pro-kurs" class="container mx-auto px-6 py-12 lg:py-20">
    <div class="grid lg:grid-cols-2 gap-10 items-center">
      <div>
        <p class="text-sm text-gray-500 font-medium mb-2">Інтенсив для практиків • Outcome-driven</p>
        <h1 class="text-4xl lg:text-5xl font-extrabold leading-tight mb-4">Портфоліо → Працевлаштування: UX/UI інтенсив</h1>
        <p class="text-lg text-slate-600 mb-6">6 місяців • 10 практичних проєктів • Live-сесії, менторські рев’ю, career support — від нуля до оферу.</p>

<!-- Рівні CTA-кнопки — обидві однакового розміру -->
<div class="cta-row" style="max-width:760px; margin:0;">
  <a id="primaryCTABtn"
     href="otr_programy.html"
     class="cta cta-primary"
     aria-label="Отримати програму">
    Отримати програму
  </a>

  <a href="demo_urok.html"
     class="cta cta-secondary"
     role="button"
     aria-label="Демо-урок">
    Демо-урок
  </a>
</div>

<style>
  :root{
    --green-1: #24C56A;
    --green-2: #166E3A;
    --cta-height: 52px;       /* висота кнопки */
    --cta-radius: 12px;       /* легке закруглення */
    --gap: 16px;
  }

  /* Контейнер: дві колонки однакового розміру */
  .cta-row{
    display:flex;
    gap:var(--gap);
    align-items:center;
    /* optional center: */
    /* justify-content:center; */
  }

  /* Базові стилі кнопки, роблять їх однаковими за розміром */
  .cta{
    flex:1;                             /* однакова ширина для обох */
    display:inline-flex;
    align-items:center;
    justify-content:center;
    height:var(--cta-height);           /* єдина висота */
    padding:0 20px;                     /* внутрішні відступи */
    box-sizing:border-box;              /* щоб border враховувався у розмірах */
    border-radius:var(--cta-radius);
    font-weight:700;
    font-size:16px;
    line-height:1;
    white-space:nowrap;
    text-decoration:none;
    transition:transform .14s ease, box-shadow .14s ease, background .12s ease;
    cursor:pointer;
    -webkit-tap-highlight-color: transparent;
  }

  /* Primary — заповнена */
  .cta-primary{
    background: linear-gradient(180deg, var(--green-1) 0%, #1fa45e 100%);
    color: #fff;
    border: 2px solid transparent;      /* щоб border-box однаково трактувався */
    box-shadow: 0 10px 28px rgba(36,197,106,0.14);
  }
  .cta-primary:hover{ transform: translateY(-3px); box-shadow: 0 18px 40px rgba(36,197,106,0.16); }
  .cta-primary:active{ transform: translateY(0); box-shadow: 0 8px 20px rgba(36,197,106,0.10); }

  /* Secondary — outline */
  .cta-secondary{
    background: #fff;
    color: var(--green-2);
    border: 2px solid var(--green-1);   /* товстий border, але box-sizing: border-box => ширини рівні */
    box-shadow: none;
  }
  .cta-secondary:hover{
    background: #f7fff6;
    transform: translateY(-3px);
  }
  .cta-secondary:active{ transform: translateY(0); }

  /* Accessibility focus */
  .cta:focus{
    outline: none;
    box-shadow: 0 0 0 4px rgba(36,197,106,0.12);
  }

  /* Mobile: зробити кнопки повної ширини і вертикальний стік */
  @media (max-width:640px){
    .cta-row{ flex-direction:column; gap:12px; }
    .cta{ width:100%; min-width:0; }
  }
</style>


</div>
      

        <div class="flex gap-3 items-center mb-6">
          <span class="pill">6 міс</span>
          <span class="pill">Старт: 01.10.2025</span>
          <span class="pill">Live + записи</span>
        </div>
<!-- Простий, скромний та доступний блок "Партнери" (вставте всередину <body>) -->

<!-- початок секції: Партнерство та працевлаштування -->
<section id="partner-cta-only" style="font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif;">
  <div style="max-width:1200px;margin:0 auto;padding:36px 24px;">
    <div style="display:flex;align-items:center;justify-content:space-between;gap:24px;flex-wrap:wrap;">
      <div style="flex:1 1 540px;">
        <h2 style="font-size:28px;margin:0 0 8px;font-weight:800;color:#0B1220;letter-spacing:-0.02em;">
          Партнерство та працевлаштування
        </h2>
        <p style="margin:0;color:#6B7280;font-size:15px;">
          Співпраця з продуктовими командами: hiring-days, direct-hire та career-плани.
        </p>
      </div>

      <div style="flex:0 0 auto;">
        <button id="open-cta"
                aria-haspopup="dialog"
                aria-controls="cta-modal"
                aria-expanded="false"
                style="display:inline-flex;align-items:center;justify-content:center;min-height:52px;padding:0 20px;border-radius:12px;font-weight:700;font-size:16px;border:0;background:linear-gradient(180deg,#24C56A,#1fa45e);color:#fff;box-shadow:0 18px 45px rgba(36,197,106,0.12);cursor:pointer;">
          Залишити заявку на партнерство
        </button>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div id="cta-modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="cta-modal-title"
       style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:1200;">
    <!-- backdrop (click to close) -->
    <div id="cta-modal-backdrop" style="position:absolute;inset:0;background:rgba(8,12,10,0.55);backdrop-filter: blur(4px);"></div>

    <div id="cta-modal-panel" role="document" tabindex="-1"
         style="position:relative;width:100%;max-width:1100px;max-height:88vh;overflow:auto;border-radius:16px;background:#fff;
                box-shadow:0 30px 80px rgba(5,25,15,0.25);padding:20px;margin:24px;">
      <button id="cta-modal-close" aria-label="Закрити модал"
              style="position:absolute;right:14px;top:14px;background:transparent;border:0;font-size:20px;cursor:pointer;color:#475569;">
        ✕
      </button>

      <div style="display:grid;grid-template-columns:1fr 380px;gap:20px;align-items:start;">
        <!-- left: informational content -->
        <div>
          <h3 id="cta-modal-title" style="margin:0 0 8px;font-size:22px;font-weight:800;color:#0B1220;">
            Заявка на партнерство
          </h3>
          <p style="margin:0 0 12px;color:#6B7280;font-size:14px;">
            Заповніть форму — ми підготуємо індивідуальну пропозицію з пакетами, орієнтовним timeline та умовними вартістями.
            Поля, позначені *, обов'язкові.
          </p>

          <section style="background:linear-gradient(180deg,#ffffff,#fbfffb);padding:12px;border-radius:10px;border:1px solid rgba(20,80,40,0.03);margin-top:12px;">
            <h4 style="margin:0 0 8px;font-size:15px;color:#0B1220;">Формати співпраці</h4>
            <ul style="margin:0;padding-left:18px;color:#374151;font-size:14px;line-height:1.5;">
              <li><strong>Direct-hire</strong> — повний підбір: screening, технічні інтерв'ю, soft-check.</li>
              <li><strong>Hiring-day</strong> — одноденні події з pre-screened кандидатами та mock-interviews.</li>
              <li><strong>Corporate training</strong> — cohort-based навчання, адаптація курсу під команду.</li>
            </ul>
          </section>

          <section style="background:linear-gradient(180deg,#ffffff,#fbfffb);padding:12px;border-radius:10px;border:1px solid rgba(20,80,40,0.03);margin-top:12px;">
            <h4 style="margin:0 0 8px;font-size:15px;color:#0B1220;">Що нам потрібно від вас</h4>
            <ul style="margin:0;padding-left:18px;color:#374151;font-size:14px;line-height:1.5;">
              <li>Короткий бриф: позиції, ключові навички, бажаний рівень.</li>
              <li>Терміни: коли потрібні кандидати / бажаний старт програми.</li>
              <li>Опціонально: орієнтовний бюджет або корпоративні вимоги.</li>
            </ul>
          </section>

          <section style="background:linear-gradient(180deg,#ffffff,#fbfffb);padding:12px;border-radius:10px;border:1px solid rgba(20,80,40,0.03);margin-top:12px;">
            <h4 style="margin:0 0 8px;font-size:15px;color:#0B1220;">Приватність</h4>
            <p style="margin:0;color:#6B7280;font-size:14px;line-height:1.5;">
              Ми не передаємо ваші дані третім особам. Інформація використовується виключно для підготовки пропозиції та зв'язку.
            </p>
          </section>
        </div>

        <!-- right: form -->
        <aside style="background:#FBFFF8;padding:16px;border-radius:12px;border:1px solid rgba(20,80,40,0.04);box-shadow:0 8px 24px rgba(10,40,20,0.03);">
          <form id="cta-form" novalidate>
            <input type="hidden" name="source" value="partner-landing">

            <label style="display:block;margin-bottom:10px;font-size:13px;color:#374151;">
              Компанія *
              <input name="company" type="text" required placeholder="Назва компанії"
                     style="width:100%;margin-top:8px;padding:10px;border:1px solid #E6E9EB;border-radius:10px;font-size:14px;">
            </label>

            <label style="display:block;margin-bottom:10px;font-size:13px;color:#374151;">
              Контактна особа *
              <input name="contact" type="text" required placeholder="Ім'я та прізвище"
                     style="width:100%;margin-top:8px;padding:10px;border:1px solid #E6E9EB;border-radius:10px;font-size:14px;">
            </label>

            <label style="display:block;margin-bottom:10px;font-size:13px;color:#374151;">
              Email *
              <input name="email" type="email" required placeholder="email@company.com"
                     style="width:100%;margin-top:8px;padding:10px;border:1px solid #E6E9EB;border-radius:10px;font-size:14px;">
            </label>

            <label style="display:block;margin-bottom:10px;font-size:13px;color:#374151;">
              Телефон *
              <input name="phone" type="tel" required placeholder="+380 (XX) XXX-XX-XX"
                     style="width:100%;margin-top:8px;padding:10px;border:1px solid #E6E9EB;border-radius:10px;font-size:14px;">
            </label>

            <label style="display:block;margin-bottom:10px;font-size:13px;color:#374151;">
              Формат співпраці *
              <select name="format" required style="width:100%;margin-top:8px;padding:10px;border:1px solid #E6E9EB;border-radius:10px;font-size:14px;">
                <option value="">Оберіть формат</option>
                <option value="direct-hire">Direct-hire</option>
                <option value="hiring-day">Hiring-day</option>
                <option value="training">Corporate training</option>
              </select>
            </label>

            <label style="display:block;margin-bottom:10px;font-size:13px;color:#374151;">
              Коротко про потреби
              <textarea name="message" rows="4" placeholder="Опис позицій / очікувань" style="width:100%;margin-top:8px;padding:10px;border:1px solid #E6E9EB;border-radius:10px;font-size:14px;"></textarea>
            </label>

            <label style="display:block;margin-bottom:12px;font-size:13px;color:#374151;">
              Додати бриф (опційно)
              <input name="file" type="file" accept=".pdf,.doc,.docx,.txt" style="width:100%;margin-top:8px;">
            </label>

            <label style="display:flex;align-items:center;gap:10px;margin-bottom:12px;font-size:13px;color:#374151;">
              <input name="consent" type="checkbox" required style="transform:scale(1.05);">
              <span>Погоджуюсь на обробку даних *</span>
            </label>

            <div style="display:flex;gap:10px;">
              <button type="submit"
                      style="flex:1;min-height:44px;border-radius:10px;border:0;background:linear-gradient(180deg,#24C56A,#1fa45e);color:#fff;font-weight:700;cursor:pointer;">
                Відправити заявку
              </button>
              <button type="button" id="cta-cancel"
                      style="flex:0 0 auto;min-width:100px;border-radius:10px;border:1px solid #E6E9EB;background:#fff;color:#374151;cursor:pointer;">
                Скасувати
              </button>
            </div>

            <div id="cta-form-success" role="status" aria-live="polite"
                 style="margin-top:12px;padding:12px;background:linear-gradient(180deg,#ECFDF3,#ffffff);border-radius:10px;border:1px solid rgba(20,80,40,0.06);display:none;">
              <div style="font-weight:700;color:#166E3A;">Дякуємо! Заявку отримано.</div>
              <div style="color:#374151;margin-top:6px;">Ми зв'яжемося з вами протягом 24 годин.</div>
            </div>
          </form>
        </aside>
      </div>
    </div>
  </div>

  <script>
    (function () {
      const openBtn = document.getElementById('open-cta');
      const modal = document.getElementById('cta-modal');
      const backdrop = document.getElementById('cta-modal-backdrop');
      const panel = document.getElementById('cta-modal-panel');
      const closeBtn = document.getElementById('cta-modal-close');
      const cancelBtn = document.getElementById('cta-cancel');
      const form = document.getElementById('cta-form');
      const successBox = document.getElementById('cta-form-success');

      let lastFocused = null;
      let scrollY = 0;
      let trapRemover = null;

      // Robust lock/unlock: store scrollY and apply fixed positioning
      function lockBodyScroll() {
        scrollY = window.scrollY || document.documentElement.scrollTop || 0;
        document.body.style.top = `-${scrollY}px`;
        document.body.style.position = 'fixed';
        document.body.style.left = '0';
        document.body.style.right = '0';
        document.body.style.width = '100%';
        document.body.style.overflow = 'hidden';
      }
      function unlockBodyScroll() {
        // clear the inline styles we set
        document.body.style.position = '';
        document.body.style.top = '';
        document.body.style.left = '';
        document.body.style.right = '';
        document.body.style.width = '';
        document.body.style.overflow = '';
        // restore scroll
        window.scrollTo(0, scrollY || 0);
      }

      // Focus trap (simple)
      function activateFocusTrap(container) {
        const focusable = Array.from(container.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])'))
          .filter(el => el.offsetParent !== null);
        if (focusable.length === 0) return null;
        const first = focusable[0], last = focusable[focusable.length - 1];
        function onKey(e) {
          if (e.key !== 'Tab') return;
          if (e.shiftKey) {
            if (document.activeElement === first) { e.preventDefault(); last.focus(); }
          } else {
            if (document.activeElement === last) { e.preventDefault(); first.focus(); }
          }
        }
        document.addEventListener('keydown', onKey);
        return () => document.removeEventListener('keydown', onKey);
      }

      function openModal() {
        lastFocused = document.activeElement;
        modal.style.display = 'flex';
        modal.setAttribute('aria-hidden', 'false');
        openBtn.setAttribute('aria-expanded', 'true');
        lockBodyScroll();

        // small animation frame to ensure panel is visible and focusable
        setTimeout(() => {
          // focus first input or close button
          const firstInput = panel.querySelector('input, select, textarea, button');
          if (firstInput) firstInput.focus();
        }, 60);

        trapRemover = activateFocusTrap(panel);
      }

      function closeModal() {
        if (typeof trapRemover === 'function') { trapRemover(); trapRemover = null; }
        modal.style.display = 'none';
        modal.setAttribute('aria-hidden', 'true');
        openBtn.setAttribute('aria-expanded', 'false');
        unlockBodyScroll();
        if (lastFocused && typeof lastFocused.focus === 'function') lastFocused.focus();
      }

      // Open handlers
      openBtn.addEventListener('click', (e) => { e.preventDefault(); openModal(); });

      // Close handlers: close button, cancel button, backdrop click, ESC
      closeBtn.addEventListener('click', (e) => { e.preventDefault(); closeModal(); });
      cancelBtn.addEventListener('click', (e) => { e.preventDefault(); closeModal(); });
      backdrop.addEventListener('click', (e) => { closeModal(); });

      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal.style.display === 'flex') {
          closeModal();
        }
      });

      // Form: validation + simulated submit
      if (form) {
        form.addEventListener('submit', (ev) => {
          ev.preventDefault();
          const required = Array.from(form.querySelectorAll('[required]'));
          let valid = true;
          required.forEach(el => {
            if (!el.value || String(el.value).trim() === '') {
              valid = false;
              el.style.boxShadow = '0 0 0 4px rgba(255,80,80,0.12)';
              setTimeout(() => el.style.boxShadow = '', 1200);
            }
            if (el.type === 'email' && el.value) {
              const re = /\S+@\S+\.\S+/;
              if (!re.test(el.value)) {
                valid = false;
                el.style.boxShadow = '0 0 0 4px rgba(255,80,80,0.12)';
                setTimeout(() => el.style.boxShadow = '', 1200);
              }
            }
          });
          if (!valid) return;

          const submitBtn = form.querySelector('button[type="submit"]');
          const prevText = submitBtn ? submitBtn.textContent : '';
          if (submitBtn) { submitBtn.disabled = true; submitBtn.textContent = 'Надсилаємо...'; }

          const fileInput = form.querySelector('input[type="file"]');
          const delay = (fileInput && fileInput.files && fileInput.files.length > 0) ? 1400 : 900;

          setTimeout(() => {
            if (submitBtn) { submitBtn.disabled = false; submitBtn.textContent = prevText; }
            form.reset();
            successBox.style.display = 'block';
            setTimeout(() => {
              successBox.style.display = 'none';
              closeModal();
            }, 1100);
          }, delay);
        });
      }

      // Defensive: ensure modal hidden on load and body unlocked
      window.addEventListener('load', () => {
        modal.style.display = 'none';
        modal.setAttribute('aria-hidden', 'true');
        document.body.style.position = document.body.style.position || '';
      });
    })();
  </script>
</section>
<!-- кінець секції: Партнерство та працевлаштування -->

  <!-- Modal -->
  <div id="cta-modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="cta-title">
    <div class="modal-backdrop" data-close></div>

    <div class="modal-panel" role="document" aria-describedby="cta-desc">
      <div class="modal-header">
        <h3 id="cta-title">Нова заявка на партнерство</h3>
        <button id="modal-close" class="modal-close" aria-label="Закрити">✕</button>
      </div>

      <p id="cta-desc" class="modal-desc">Заповніть коротку форму — ми зв'яжемося найближчим робочим днем.</p>

      <form id="cta-form" class="modal-form" novalidate>
        <label class="visually-hidden" for="c-company">Назва компанії</label>
        <input id="c-company" name="company" placeholder="Назва компанії *" required>

        <label class="visually-hidden" for="c-contact">Контактна особа</label>
        <input id="c-contact" name="contact" placeholder="Контактна особа *" required>

        <label class="visually-hidden" for="c-email">Email</label>
        <input id="c-email" name="email" type="email" placeholder="email@company.com *" required>

        <label class="visually-hidden" for="c-msg">Коротко</label>
        <textarea id="c-msg" name="message" rows="4" placeholder="Коротко: формат співпраці (опційно)"></textarea>

        <div class="row">
          <label class="chk"><input id="c-gdpr" type="checkbox"> <span>Погоджуюсь на обробку персональних даних</span></label>
          <div class="actions">
            <button type="reset" class="ghost">Очистити</button>
            <button type="submit" class="submit">Надіслати заявку</button>
          </div>
        </div>

        <div id="c-feedback" class="feedback" aria-live="polite"></div>
      </form>
    </div>
  </div>

  <style>
    /* ====== simple centered CTA + modal styles ====== */
    #partner-cta-only { padding: 48px 16px; background: #fff; box-sizing: border-box; }
    .pwrap { max-width: 980px; margin: 0 auto; text-align: center; }
    .p-title { margin: 0 0 6px; font-size: 28px; font-weight: 800; color: #0b1220; }
    .p-sub { margin: 0 0 18px; color: #6b7280; max-width: 780px; margin-left: auto; margin-right: auto; }

    .p-cta { margin-top: 14px; }
    .cta-btn {
      background: #10B981;
      color: #fff;
      border: none;
      padding: 12px 22px;
      border-radius: 12px;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 12px 28px rgba(16,185,129,0.12);
      font-size: 15px;
    }
    .cta-btn:hover { transform: translateY(-2px); transition: .12s; }

    /* modal */
    .modal { display:none; position:fixed; inset:0; z-index:1200; align-items:center; justify-content:center; }
    .modal.show { display:flex; }
    .modal-backdrop { position:absolute; inset:0; background:rgba(0,0,0,0.36); backdrop-filter: blur(2px); }

    .modal-panel {
      position:relative; z-index:2;
      width: min(96%, 720px);
      background:#fff;
      border-radius:12px;
      padding:18px;
      box-shadow:0 30px 80px rgba(11,18,22,0.18);
      box-sizing:border-box;
    }
    .modal-header { display:flex; justify-content:space-between; align-items:flex-start; gap:12px; }
    .modal-close { background:none; border:none; font-size:18px; color:#6b7280; cursor:pointer; }

    .modal-desc { color:#6b7280; margin:8px 0 12px; }

    .modal-form input, .modal-form textarea {
      width:100%; border:1px solid #e6e9eb; padding:12px; border-radius:10px; margin-bottom:10px; font-size:14px; box-sizing:border-box;
      color:#0b1220;
    }
    .modal-form textarea { min-height:96px; resize:vertical; }

    .row { display:flex; gap:12px; align-items:center; }
    .chk { display:flex; gap:8px; align-items:center; color:#475569; font-size:14px; }
    .chk input { width:16px; height:16px; accent-color:#10B981; }

    .actions { margin-left:auto; display:flex; gap:8px; }
    .ghost { padding:8px 12px; border-radius:8px; border:1px solid #e6e9eb; background:#fff; cursor:pointer; }
    .submit { padding:9px 14px; border-radius:8px; background:linear-gradient(180deg,#10B981,#0FAE82); color:#fff; border:none; font-weight:700; cursor:pointer; }

    .feedback { min-height:20px; margin-top:10px; color:#C53030; font-size:13px; }

    .visually-hidden { position:absolute !important; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }
    @media (max-width:560px) {
      .modal-panel { padding: 14px; }
      .cta-btn { width: 100%; max-width: 420px; }
    }
  </style>

  <script>
    (function(){
      const openBtn = document.getElementById('open-cta');
      const modal = document.getElementById('cta-modal');
      const backdrop = modal && modal.querySelector('.modal-backdrop');
      const closeBtn = document.getElementById('modal-close');
      const form = document.getElementById('cta-form');
      const feedback = document.getElementById('c-feedback');

      // small focus-trap
      let lastFocused = null;
      function trapFocus(modalEl) {
        const focusable = modalEl.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])');
        if (!focusable.length) return () => {};
        const first = focusable[0];
        const last = focusable[focusable.length - 1];
        function handleTab(e) {
          if (e.key !== 'Tab') return;
          if (e.shiftKey && document.activeElement === first) { e.preventDefault(); last.focus(); }
          else if (!e.shiftKey && document.activeElement === last) { e.preventDefault(); first.focus(); }
        }
        document.addEventListener('keydown', handleTab);
        return () => document.removeEventListener('keydown', handleTab);
      }

      let releaseTrap = null;
      function openModal() {
        lastFocused = document.activeElement;
        modal.classList.add('show'); modal.setAttribute('aria-hidden','false');
        document.body.style.overflow = 'hidden';
        setTimeout(() => {
          const first = modal.querySelector('input, textarea, button');
          if (first) first.focus();
        }, 50);
        releaseTrap = trapFocus(modal);
      }

      function closeModal() {
        modal.classList.remove('show'); modal.setAttribute('aria-hidden','true');
        document.body.style.overflow = '';
        feedback.textContent = '';
        if (releaseTrap) { releaseTrap(); releaseTrap = null; }
        if (lastFocused) lastFocused.focus();
      }

      openBtn && openBtn.addEventListener('click', (e) => { e.preventDefault(); openModal(); });
      closeBtn && closeBtn.addEventListener('click', closeModal);
      backdrop && backdrop.addEventListener('click', closeModal);
      document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && modal.classList.contains('show')) closeModal(); });

      if (form) {
        form.addEventListener('submit', (ev) => {
          ev.preventDefault();
          const company = document.getElementById('c-company').value.trim();
          const contact = document.getElementById('c-contact').value.trim();
          const email = document.getElementById('c-email').value.trim();
          const gdpr = document.getElementById('c-gdpr') && document.getElementById('c-gdpr').checked;

          if (!company || !contact || !email) {
            feedback.style.color = '#C53030'; feedback.textContent = "Будь ласка, заповніть обов'язкові поля.";
            return;
          }
          if (typeof gdpr !== 'undefined' && !gdpr) {
            feedback.style.color = '#C53030'; feedback.textContent = "Потрібна згода на обробку персональних даних.";
            return;
          }

          feedback.style.color = '#065f46';
          feedback.textContent = "Дякуємо! Заявка отримана — ми зв'яжемося найближчим часом.";
          setTimeout(() => { form.reset(); closeModal(); }, 1000);
        });
      }
    })();
  </script>
</section>
      </div>
     

  <!-- ТЕХНОЛОГІЇ -->



<!-- початок секції: Технології (картки 4-в-ряд + масштабні детальні модалки) -->
<section id="tekhnologii" class="tech-section" aria-labelledby="techTitle" style="font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif;">
  <div class="tech-wrap" style="max-width:1200px;margin:0 auto;padding:36px 20px;box-sizing:border-box;">
    <h2 id="techTitle" style="font-size:28px;margin:0 0 8px;font-weight:800;color:#0B1220;">Інструменти, які ви опануєте</h2>
    <p style="margin:0 0 18px;color:#6B7280;font-size:15px;max-width:900px;">
      Практичні навички з інструментів індустрії — від воркшопів і прототипів до інтеграції з розробкою.
    </p>

    <div style="display:flex;gap:12px;align-items:center;margin-bottom:18px;flex-wrap:wrap;">
      <a href="instrumet_opanuete.html" class="tech-view-all" style="display:inline-block;padding:12px 16px;border-radius:10px;border:1px solid #E6E9EB;background:#fff;color:#0B1220;font-weight:700;box-shadow:0 8px 24px rgba(11,18,22,0.04);text-decoration:none;">
        Переглянути повний список інструментів
      </a>
      <span style="color:#6B7280;font-size:14px;">• Практичні завдання • Демонстрації • Чеклісти для портфоліо</span>
    </div>

    <div id="techGrid" class="tech-grid" role="list" aria-label="Список інструментів">
      <!-- Cards injected by JS -->
    </div>
  </div>

  <!-- Детальний модал інструмента (великий, багато інформації) -->
  <div id="toolModal" class="tool-modal" role="dialog" aria-modal="true" aria-hidden="true" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:1400;">
    <div class="tool-modal-backdrop" data-close style="position:absolute;inset:0;background:rgba(8,12,10,0.55);backdrop-filter:blur(4px);"></div>

    <div class="tool-modal-panel" role="document" aria-labelledby="toolModalTitle" tabindex="-1"
         style="position:relative;z-index:1401;width:96%;max-width:1200px;max-height:92vh;overflow:auto;background:#fff;border-radius:14px;box-shadow:0 40px 120px rgba(6,25,10,0.25);padding:22px;margin:20px;">
      <button id="toolModalClose" aria-label="Закрити" style="position:absolute;right:16px;top:12px;background:transparent;border:0;font-size:22px;cursor:pointer;color:#475569;">✕</button>

      <div style="display:grid;grid-template-columns:1fr 360px;gap:22px;align-items:start;">
        <main>
          <header style="display:flex;gap:14px;align-items:flex-start;margin-bottom:14px;">
            <div style="width:84px;height:84px;border-radius:12px;overflow:hidden;background:#F3F4F6;display:flex;align-items:center;justify-content:center;border:1px dashed #E6E9EB;">
              <img id="toolModalLogo" src="https://via.placeholder.com/160x160?text=Logo" alt="" style="width:100%;height:100%;object-fit:contain;">
            </div>
            <div>
              <h3 id="toolModalTitle" style="margin:0 0 6px;font-size:22px;color:#0B1220;"></h3>
              <p id="toolModalSubtitle" style="margin:0;color:#475569;font-size:14px;max-width:760px;"></p>
              <div style="margin-top:8px;display:flex;gap:8px;flex-wrap:wrap;">
                <span style="background:#F0FFF4;color:#166E3A;padding:6px 10px;border-radius:999px;font-weight:700;font-size:13px;border:1px solid rgba(36,197,106,0.12);">Практика</span>
                <span style="background:#FFF7ED;color:#B45309;padding:6px 10px;border-radius:999px;font-weight:700;font-size:13px;border:1px solid rgba(255,106,0,0.08);">Проєкт</span>
                <span style="background:#F8FAFC;color:#0F4C81;padding:6px 10px;border-radius:999px;font-weight:700;font-size:13px;border:1px solid rgba(15,76,129,0.06);">Demo</span>
              </div>
            </div>
          </header>

          <figure style="margin:0 0 16px;border-radius:12px;overflow:hidden;background:#F8FAFC;border:1px solid #EEF2F6;display:flex;align-items:center;justify-content:center;">
            <img id="toolModalImage" src="https://via.placeholder.com/1200x720?text=Preview+image" alt="" style="width:100%;height:auto;display:block;object-fit:contain;max-height:520px;">
          </figure>

          <section style="margin-bottom:16px;">
            <h4 style="margin:0 0 8px;font-size:16px;color:#0B1220;">Що це та навіщо</h4>
            <div id="toolModalDesc" style="color:#374151;line-height:1.6;font-size:15px;"></div>
          </section>

          <section style="margin-bottom:16px;">
            <h4 style="margin:0 0 8px;font-size:16px;color:#0B1220;">Глибокі навички (learning outcomes)</h4>
            <ul id="toolModalSkills" style="color:#374151;line-height:1.6;font-size:14px;margin-left:18px;"></ul>
          </section>

          <section style="margin-bottom:16px;">
            <h4 style="margin:0 0 8px;font-size:16px;color:#0B1220;">Приклади практичних завдань</h4>
            <ol id="toolModalTasks" style="color:#374151;line-height:1.6;font-size:14px;margin-left:18px;"></ol>
          </section>

          <section style="margin-bottom:16px;">
            <h4 style="margin:0 0 8px;font-size:16px;color:#0B1220;">Міні case-study (покроково)</h4>
            <div id="toolModalCase" style="color:#374151;line-height:1.6;font-size:14px;"></div>
          </section>

          <section style="margin-bottom:16px;">
            <h4 style="margin:0 0 8px;font-size:16px;color:#0B1220;">Шпаргалка / чекліст</h4>
            <div id="toolModalChecklist" style="color:#374151;font-size:14px;line-height:1.6;"></div>
          </section>

          <section style="margin-bottom:16px;">
            <h4 style="margin:0 0 8px;font-size:16px;color:#0B1220;">Ресурси та шаблони</h4>
            <div id="toolModalResources" style="color:#374151;line-height:1.6;font-size:14px;"></div>
          </section>

          <section style="margin-bottom:12px;">
            <h4 style="margin:0 0 8px;font-size:16px;color:#0B1220;">FAQ</h4>
            <div id="toolModalFAQ" style="color:#374151;font-size:14px;line-height:1.6;"></div>
          </section>
        </main>

        <aside style="background:#FBFFF8;padding:18px;border-radius:12px;border:1px solid rgba(36,197,106,0.08);box-shadow:0 8px 30px rgba(10,40,20,0.03);height:fit-content;">
          <div style="margin-bottom:12px;">
            <div style="font-size:13px;color:#6B7280;">Рівень</div>
            <div id="toolModalLevel" style="font-weight:800;color:#166E3A;margin-top:6px;">—</div>
          </div>

          <div style="margin-bottom:12px;">
            <div style="font-size:13px;color:#6B7280;">Середній час освоєння</div>
            <div id="toolModalTime" style="font-weight:700;margin-top:6px;color:#0B1220;">—</div>
          </div>

          <div style="margin-bottom:12px;">
            <div style="font-size:13px;color:#6B7280;">Орієнтовна ринкова зарплата</div>
            <div id="toolModalSalary" style="font-weight:800;margin-top:6px;color:#0B1220;">—</div>
          </div>

          <div style="display:flex;gap:10px;margin-top:10px;">
            <a id="toolModalDemo" href="demo_urok.html" target="_blank" rel="noopener noreferrer" class="btn-demo" style="flex:1;padding:10px;border-radius:10px;border:0;background:linear-gradient(180deg,#24C56A,#1fa45e);color:#fff;font-weight:800;text-align:center;text-decoration:none;display:inline-block;">
              Переглянути демо
            </a>
            <button id="toolModalApply" class="btn-apply" style="flex:1;padding:10px;border-radius:10px;border:1px solid #E6E9EB;background:#fff;color:#0B1220;font-weight:800;cursor:pointer;">
              Записатись
            </button>
          </div>

          <div style="margin-top:14px;font-size:13px;color:#6B7280;">Пов'язані матеріали</div>
          <div id="toolModalLinks" style="margin-top:8px;display:flex;flex-direction:column;gap:8px;"></div>

          <div style="margin-top:14px;border-top:1px dashed #E6E9EB;padding-top:12px;font-size:12px;color:#6B7280;">
            <div><strong>Duration:</strong> intensive / part-time</div>
            <div style="margin-top:6px;"><strong>Type:</strong> live sessions, practical tasks</div>
          </div>
        </aside>
      </div>
    </div>
  </div>

  <!-- Apply modal (універсальна форма заявки) -->
  <div id="applyModal" class="apply-modal" role="dialog" aria-modal="true" aria-hidden="true" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:1500;">
    <div class="apply-backdrop" data-close style="position:absolute;inset:0;background:rgba(8,12,10,0.55);backdrop-filter:blur(2px);"></div>

    <div class="apply-panel" role="document" aria-labelledby="applyModalTitle" tabindex="-1"
         style="position:relative;z-index:1501;width:94%;max-width:640px;max-height:88vh;overflow:auto;background:#fff;border-radius:12px;box-shadow:0 30px 80px rgba(6,25,10,0.2);padding:20px;margin:20px;">
      <button id="applyModalClose" aria-label="Закрити" style="position:absolute;right:12px;top:10px;background:transparent;border:0;font-size:20px;cursor:pointer;color:#475569;">✕</button>

      <h3 id="applyModalTitle" style="margin:0 0 10px;font-size:20px;color:#0B1220;">Записатися / Отримати консультацію</h3>
      <p style="margin:0 0 14px;color:#6B7280;font-size:14px;">Залиште контакт — ми підберемо групу або надішлемо демо.</p>

      <form id="applyForm" style="display:grid;gap:10px;">
        <input type="hidden" name="tool" id="applyTool" value="">
        <label style="display:block;font-size:13px;color:#6B7280;">Ім'я</label>
        <input name="name" required type="text" placeholder="Ваше ім'я" style="padding:10px;border-radius:8px;border:1px solid #E6E9EB;outline:none;width:100%;box-sizing:border-box;font-size:14px;">
        <label style="display:block;font-size:13px;color:#6B7280;">Email</label>
        <input name="email" required type="email" placeholder="email@domain.com" style="padding:10px;border-radius:8px;border:1px solid #E6E9EB;outline:none;width:100%;box-sizing:border-box;font-size:14px;">
        <label style="display:block;font-size:13px;color:#6B7280;">Телефон (опційно)</label>
        <input name="phone" type="tel" placeholder="+380 63 000 0000" style="padding:10px;border-radius:8px;border:1px solid #E6E9EB;outline:none;width:100%;box-sizing:border-box;font-size:14px;">

        <label style="display:block;font-size:13px;color:#6B7280;">Коментар / Мета</label>
        <textarea name="note" rows="3" placeholder="Коротко про ваш рівень або мету" style="padding:10px;border-radius:8px;border:1px solid #E6E9EB;outline:none;width:100%;box-sizing:border-box;font-size:14px;"></textarea>

        <div style="display:flex;gap:10px;margin-top:6px;">
          <button type="submit" class="btn-submit" style="flex:1;padding:10px;border-radius:10px;border:0;background:linear-gradient(180deg,#24C56A,#1fa45e);color:#fff;font-weight:800;cursor:pointer;">
            Надіслати заявку
          </button>
          <button type="button" id="applyCancel" style="flex:1;padding:10px;border-radius:10px;border:1px solid #E6E9EB;background:#fff;color:#0B1220;font-weight:700;cursor:pointer;">
            Скасувати
          </button>
        </div>
        <p style="font-size:13px;color:#6B7280;margin:8px 0 0;">Ми не розповсюджуємо ваші дані — лише контакт для зв'язку.</p>
      </form>
    </div>
  </div>

  <style>
    /* scoped */
    #tech-section { overflow-x:hidden; }
    .tech-grid {
      display:grid;
      grid-template-columns:repeat(4,1fr);
      gap:20px;
      margin-top:12px;
      align-items:stretch;
    }
    @media (max-width:1200px) { .tech-grid { grid-template-columns:repeat(3,1fr); } }
    @media (max-width:900px) { .tech-grid { grid-template-columns:repeat(2,1fr); } }
    @media (max-width:560px) { .tech-grid { grid-template-columns:1fr; } }

    .tech-card {
      display:flex; flex-direction:column; gap:12px;
      background:#fff; border-radius:12px; padding:14px;
      box-shadow:0 14px 40px rgba(11,18,22,0.06); border:1px solid transparent;
      transition:transform .28s cubic-bezier(.2,.9,.3,1),box-shadow .28s ease,border-color .28s ease;
      min-height:260px; box-sizing:border-box; width:100%;
    }
    .tech-card:focus { outline:3px solid rgba(36,197,106,0.12); outline-offset:4px; transform:translateY(-6px); box-shadow:0 28px 70px rgba(11,18,22,0.12); }
    .tech-card:hover { transform:translateY(-6px); box-shadow:0 28px 70px rgba(11,18,22,0.12); border-color:rgba(36,197,106,0.06); }

    /* IMAGE: show full images without cropping (contain) */
    .tech-media {
      width:100%;
      height:140px;
      border-radius:10px;
      overflow:hidden;
      background:#F8FAFC;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    /* ensure images fit inside container fully (no crop) */
    .tech-media img {
      max-width:100%;
      max-height:100%;
      width:auto;
      height:auto;
      display:block;
      object-fit:contain;
    }

    .tech-title { font-weight:800;color:#0B1220;font-size:16px;margin:10px 0 4px; }
    .tech-desc { color:#475569;font-size:13px;line-height:1.45;min-height:44px; }

    .meta-row { display:flex;gap:8px;align-items:center;color:#6B7280;font-size:13px;margin-top:8px; }
    .chip { background:#F0FFF4;color:#166E3A;padding:6px 10px;border-radius:999px;font-weight:700;font-size:12px;border:1px solid rgba(36,197,106,0.08); }

    .tech-footer { margin-top:auto;display:flex;gap:10px;align-items:center; }
    .card-cta { display:flex;gap:10px;width:100%; }
    .card-cta button, .card-cta a {
      flex:1;padding:10px;border-radius:10px;border:1px solid #E6E9EB;background:#fff;color:#0B1220;font-weight:800;text-decoration:none;text-align:center;cursor:pointer;font-size:14px;
    }
    .card-cta button.primary { background:linear-gradient(180deg,#24C56A,#1fa45e);color:#fff;border:0; }
    .card-cta button.ghost { background:#fff;border:1px solid #E6E9EB; }

    /* modal responsive tweaks */
    @media (max-width:900px) {
      .tool-modal-panel { padding:16px; }
      .tool-modal-panel { max-width: 94%; }
      .tool-modal-panel > div { grid-template-columns: 1fr; }
    }

    /* ensure modal preview image is not cropped */
    .tool-modal-panel img { object-fit:contain; max-width:100%; height:auto; }

    /* apply modal */
    .apply-panel input, .apply-panel textarea { font-size:14px; }

    @media (prefers-reduced-motion:reduce) {
      .tech-card, .tech-media img { transition:none !important; transform:none !important; }
    }
  </style>

  <script>
    (function () {
      /* DATA: 4 cards (expandable) - add/replace content as needed */
      const TOOLS = [
        {
          id: 'figma',
          key: 'Figma',
          logo: '', // add path to SVG or image later
          img: 'img/da1.png',  // <-- файл який ти додав
          title: 'Figma — Інтерфейсний дизайн і дизайн-системи',
          subtitle: 'Components, Variants, Auto Layout, prototyping, handoff',
          level: 'Beginner → Advanced',
          time: '4–8 тижнів',
          salary: '$800–$2,200 / міс',
          description: [
            "Figma — центральний інструмент для UI/UX-дизайнерів. Під час модуля ми пройдемо весь цикл: від вайрфрейму до інтерактивного прототипу.",
            "Навчання включає практику з design tokens, components, variants, auto layout і підготовку handoff-пакету для розробників."
          ],
          skills: [
            "Auto Layout та responsive patterns",
            "Компоненти і Variants",
            "Design tokens та системи стилів",
            "Прототипування та тестування"
          ],
          tasks: [
            "Створити дизайн-систему для MVP",
            "Розробити high-fidelity прототип мобільної аплікації",
            "Провести 5 usability-тестів і зібрати інсайти"
          ],
          caseStudy: [
            "<strong>Задача:</strong> переробка checkout flow для e-commerce.",
            "<strong>Підхід:</strong> research → wireframes → prototype → тестування → ітерація.",
            "<strong>Результат:</strong> зростання completion rate на 18% в тестовій групі."
          ],
          checklist: [
            "Керовані Tokens (color, space, type)",
            "Бібліотека компонентів з states & variants",
            "Документація для handoff (specs, assets)"
          ],
          resources: [
            {label:"Figma Learn", href:"https://www.figma.com/learn"},
            {label:"Component best practices (PDF)", href:"#"}
          ],
          faq: [
            {q:"Чи потрібен платний акаунт?", a:"Базового акаунта вистачає для навчання; PRO потрібен для командної роботи на великих проєктах."},
            {q:"Чи вивчаємо accessibility?", a:"Так — контраст, keyboard navigation, semantic structuring."}
          ]
        },
        {
          id: 'miro',
          key: 'Miro / FigJam',
          logo: '',
          img: 'img/nn2.png',
          title: 'Miro / FigJam — Discovery та воркшопи',
          subtitle: 'Journey maps, research synthesis, ideation workshops',
          level: 'Intro → Practical',
          time: '1–3 тижні',
          salary: 'Підвищує ефективність командної роботи',
          description: [
            "Miro/ FigJam — інструменти для колективної роботи: воркшопів, affinity mapping та synthesis. Вони допомагають швидко структурувати результати досліджень.",
            "Вправи: customer journey, impact/effort mapping, hypothesis mapping."
          ],
          skills: ["Workshop facilitation", "Affinity mapping", "Journey & empathy maps", "Synthesis for insights"],
          tasks: ["Провести воркшоп для визначення pain points", "Побудувати journey map та сформулювати hypotheses"],
          caseStudy: ["Workshop з 10 учасниками → 12 hypothesis → 3 validated features."],
          checklist: ["План воркшопу", "Шаблони для збірки інтерв'ю", "Звіт для стейкхолдерів"],
          resources: [{label:"Miro templates", href:"https://miro.com/templates/"}],
          faq: [{q:"Чи потрібно встановлювати додаткове ПО?", a:"Ні — працює в браузері; рекомендовано великий екран для воркшопів."}]
        },
        {
          id: 'notion',
          key: 'Notion',
          logo: '',
          img: 'img/nn3.png',
          title: 'Notion — Документація, кейси, handoff',
          subtitle: 'Case-study, roadmaps, handoff docs для розробників',
          level: 'Practical',
          time: '1–2 тижні',
          salary: 'Покращує презентабельність кейсів',
          description: [
            "Notion — інструмент для оформлення кейс-стаді, управління проектами та handoff. Навчимо створювати шаблони, бази даних проєктів та красиві кейси для портфоліо.",
            "Фокус: структурування історії проєкту так, щоб вона була зрозумілою рекрутеру."
          ],
          skills: ["Content structuring", "Templates & Databases", "Publish case-studies"],
          tasks: ["Створити презентабельний case-study", "Побудувати базу портфоліо з tags"],
          caseStudy: ["Case: від інтерв'ю до презентації HR — 8 етапів, шаблон в Notion."],
          checklist: ["Outline case-study", "Metrics & outcomes block", "Export PDF one-pager"],
          resources: [{label:"Notion templates", href:"https://www.notion.so/templates"}],
          faq: [{q:"Чи підходить для портфоліо?", a:"Так — зручний спосіб презентувати кейс-стаді з медіа та метриками."}]
        },
        {
          id: 'web',
          key: 'HTML / CSS / JS',
          logo: '',
          img: 'img/nn4.png',
          title: 'HTML / CSS / JS — Інтерактивні прототипи та фронтенд-основа',
          subtitle: 'Responsive layouts, accessibility, lightweight interactions',
          level: 'Practical / Advanced',
          time: '6–10 тижнів',
          salary: '$900–$2,500 / міс',
          description: [
            "Знання фронтенду дозволяє створювати інтерактивні прототипи, робити proof-of-concept і краще передавати вимоги розробникам.",
            "Тематика: semantic HTML, modern CSS (Flex/Grid), vanilla JS, accessibility та performance."
          ],
          skills: ["Semantic HTML", "Flex / Grid", "Vanilla JS", "Accessibility basics", "Image optimization"],
          tasks: ["Верстати адаптивний лендинг з формами", "Зробити інтерактивний прототип з state-driven UI"],
          caseStudy: ["Прототип booking-flow → інтерактивна валідація → результат: збільшення UX-score на тесті."],
          checklist: ["Semantic markup", "ARIA roles", "Lazy-loading images", "Critical CSS"],
          resources: [{label:"MDN Web Docs", href:"https://developer.mozilla.org/"}],
          faq: [{q:"Чи потрібно вивчати фреймворки?", a:"Для початку — ні. Перш ніж вивчати React/Vue, варто засвоїти основи."}]
        }
      ];

      const techGrid = document.getElementById('techGrid');

      // create cards
      TOOLS.forEach(tool => {
        const card = document.createElement('article');
        card.className = 'tech-card';
        card.setAttribute('role','listitem');
        card.setAttribute('tabindex','0');
        card.dataset.id = tool.id;

        card.innerHTML = `
          <div class="tech-media"><img src="${tool.img || 'https://via.placeholder.com/800x480?text=Image+placeholder'}" alt="${tool.title || tool.key}" loading="lazy"></div>
          <div>
            <div class="tech-title">${tool.key}</div>
            <div class="tech-desc">${tool.subtitle}</div>
            <div class="meta-row" aria-hidden="true">
              <div class="chip">${tool.level}</div>
              <div style="margin-left:auto;color:#6B7280;font-size:13px;">${tool.time}</div>
            </div>
          </div>
          <div class="tech-footer" aria-hidden="false">
            <div class="card-cta">
              <button class="detail-btn primary" type="button" data-action="detail" style="">Детальніше</button>
              <button class="apply-btn ghost" type="button" data-action="apply" style="">Записатись</button>
            </div>
          </div>
        `;

        techGrid.appendChild(card);
      });

      /* Modal logic (accessibility: focus trap, scroll lock) */
      const toolModal = document.getElementById('toolModal');
      const toolBackdrop = toolModal.querySelector('.tool-modal-backdrop');
      const toolClose = document.getElementById('toolModalClose');
      const toolPanel = toolModal.querySelector('.tool-modal-panel');
      const applyModal = document.getElementById('applyModal');
      const applyBackdrop = applyModal.querySelector('.apply-backdrop');
      const applyClose = document.getElementById('applyModalClose');
      const applyPanel = applyModal.querySelector('.apply-panel');
      const applyForm = document.getElementById('applyForm');
      const applyToolInput = document.getElementById('applyTool');
      const applyCancel = document.getElementById('applyCancel');
      const toolModalDemo = document.getElementById('toolModalDemo');
      const toolModalApplyBtn = document.getElementById('toolModalApply');

      let lastFocusedEl = null;
      let trapRemoverTool = null;
      let trapRemoverApply = null;

      function lockScroll() {
        const scrollY = window.scrollY || document.documentElement.scrollTop;
        document.body.style.position = 'fixed';
        document.body.style.top = `-${scrollY}px`;
        document.body.style.left = '0';
        document.body.style.right = '0';
        document.body.style.width = '100%';
        document.body.dataset.scrollY = scrollY;
      }
      function unlockScroll() {
        const scrollY = document.body.dataset.scrollY ? parseInt(document.body.dataset.scrollY, 10) : 0;
        document.body.style.position = '';
        document.body.style.top = '';
        document.body.style.left = '';
        document.body.style.right = '';
        document.body.style.width = '';
        delete document.body.dataset.scrollY;
        window.scrollTo(0, scrollY);
      }

      function trapFocus(container) {
        const focusableSelectors = 'a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])';
        const nodes = Array.from(container.querySelectorAll(focusableSelectors)).filter(n => n.offsetParent !== null);
        if (!nodes.length) return () => {};
        const first = nodes[0], last = nodes[nodes.length - 1];
        function keyHandler(e) {
          if (e.key !== 'Tab') return;
          if (e.shiftKey) {
            if (document.activeElement === first) { e.preventDefault(); last.focus(); }
          } else {
            if (document.activeElement === last) { e.preventDefault(); first.focus(); }
          }
        }
        document.addEventListener('keydown', keyHandler);
        return () => document.removeEventListener('keydown', keyHandler);
      }

      function openToolModal(toolId) {
        const tool = TOOLS.find(t => t.id === toolId);
        if (!tool) return;
        lastFocusedEl = document.activeElement;

        // populate main content
        document.getElementById('toolModalLogo').src = tool.logo || 'https://via.placeholder.com/160x160?text=Logo';
        document.getElementById('toolModalLogo').alt = tool.key;
        document.getElementById('toolModalImage').src = tool.img || 'https://via.placeholder.com/1200x720?text=Preview';
        document.getElementById('toolModalImage').alt = tool.title || tool.key;
        document.getElementById('toolModalTitle').textContent = tool.title || tool.key;
        document.getElementById('toolModalSubtitle').textContent = tool.subtitle || '';

        // description
        const desc = document.getElementById('toolModalDesc'); desc.innerHTML = '';
        (tool.description || []).forEach(p => {
          const el = document.createElement('p'); el.style.margin = '0 0 10px'; el.textContent = p; desc.appendChild(el);
        });

        // skills
        const skills = document.getElementById('toolModalSkills'); skills.innerHTML = '';
        (tool.skills || []).forEach(s => {
          const li = document.createElement('li'); li.textContent = s; skills.appendChild(li);
        });

        // tasks
        const tasks = document.getElementById('toolModalTasks'); tasks.innerHTML = '';
        (tool.tasks || []).forEach(tk => {
          const li = document.createElement('li'); li.textContent = tk; tasks.appendChild(li);
        });

        // case study
        const cs = document.getElementById('toolModalCase'); cs.innerHTML = '';
        (tool.caseStudy || []).forEach(line => {
          const p = document.createElement('p'); p.style.margin = '0 0 8px'; p.innerHTML = line; cs.appendChild(p);
        });

        // checklist
        const checklist = document.getElementById('toolModalChecklist'); checklist.innerHTML = '';
        if (tool.checklist) {
          const ul = document.createElement('ul'); ul.style.marginLeft = '18px';
          tool.checklist.forEach(ch => { const li = document.createElement('li'); li.textContent = ch; ul.appendChild(li); });
          checklist.appendChild(ul);
        }

        // resources
        const resources = document.getElementById('toolModalResources'); resources.innerHTML = '';
        (tool.resources || []).forEach(r => {
          const a = document.createElement('a'); a.href = r.href || '#'; a.textContent = r.label || r; a.target = '_blank'; a.rel = 'noopener noreferrer';
          a.style.display = 'block'; a.style.marginBottom = '8px'; a.style.color = '#0F4C81';
          resources.appendChild(a);
        });

        // FAQ
        const faq = document.getElementById('toolModalFAQ'); faq.innerHTML = '';
        (tool.faq || []).forEach(it => {
          const d = document.createElement('details'); d.style.marginBottom = '8px';
          d.innerHTML = `<summary style="font-weight:700;cursor:pointer;color:#0B1220;">${it.q}</summary><div style="margin-top:6px;color:#374151;">${it.a}</div>`;
          faq.appendChild(d);
        });

        // right panel
        document.getElementById('toolModalLevel').textContent = tool.level || '—';
        document.getElementById('toolModalTime').textContent = tool.time || '—';
        document.getElementById('toolModalSalary').textContent = tool.salary || '—';

        // links area
        const links = document.getElementById('toolModalLinks'); links.innerHTML = '';
        (tool.resources || []).slice(0,4).forEach(r => {
          const a = document.createElement('a'); a.href = r.href || '#'; a.textContent = r.label || r; a.target = '_blank'; a.rel = 'noopener noreferrer';
          a.style.fontSize = '13px'; a.style.color = '#166E3A'; a.style.textDecoration = 'none';
          links.appendChild(a);
        });

        // set demo href (demo_urok.html)
        toolModalDemo.setAttribute('href', 'demo_urok.html');

        // set apply button dataset
        toolModalApplyBtn.dataset.tool = toolId;

        // open modal
        toolModal.style.display = 'flex';
        toolModal.setAttribute('aria-hidden','false');
        lockScroll();
        setTimeout(() => { toolPanel.focus(); }, 20);

        if (trapRemoverTool) trapRemoverTool();
        trapRemoverTool = trapFocus(toolPanel);
      }

      function closeToolModal() {
        toolModal.style.display = 'none';
        toolModal.setAttribute('aria-hidden','true');
        if (trapRemoverTool) { trapRemoverTool(); trapRemoverTool = null; }
        unlockScroll();
        if (lastFocusedEl && typeof lastFocusedEl.focus === 'function') lastFocusedEl.focus();
      }

      function openApplyModal(toolId) {
        lastFocusedEl = document.activeElement;
        applyToolInput.value = toolId || '';
        applyModal.style.display = 'flex';
        applyModal.setAttribute('aria-hidden','false');
        lockScroll();
        setTimeout(() => { applyPanel.querySelector('input[name="name"]').focus(); }, 20);
        if (trapRemoverApply) trapRemoverApply();
        trapRemoverApply = trapFocus(applyPanel);
      }

      function closeApplyModal() {
        applyModal.style.display = 'none';
        applyModal.setAttribute('aria-hidden','true');
        if (trapRemoverApply) { trapRemoverApply(); trapRemoverApply = null; }
        unlockScroll();
        if (lastFocusedEl && typeof lastFocusedEl.focus === 'function') lastFocusedEl.focus();
      }

      // Delegate clicks on grid
      techGrid.addEventListener('click', (e) => {
        const btn = e.target.closest('button');
        if (!btn) return;
        const card = btn.closest('.tech-card');
        if (!card) return;
        const id = card.dataset.id;
        const action = btn.dataset.action || (btn.classList.contains('detail-btn') ? 'detail' : btn.classList.contains('apply-btn') ? 'apply' : null);
        if (action === 'detail' || btn.classList.contains('detail-btn')) {
          openToolModal(id);
        } else if (action === 'apply' || btn.classList.contains('apply-btn')) {
          openApplyModal(id);
        }
      });

      // Keyboard: Enter/Space on card opens detail
      techGrid.addEventListener('keydown', (e) => {
        const card = e.target.closest('.tech-card');
        if (!card) return;
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          openToolModal(card.dataset.id);
        }
      });

      // Modal close handlers
      toolClose.addEventListener('click', closeToolModal);
      toolBackdrop.addEventListener('click', closeToolModal);
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          if (toolModal.style.display === 'flex') closeToolModal();
          if (applyModal.style.display === 'flex') closeApplyModal();
        }
      });

      // tool modal: Demo button already links to demo_urok.html, apply opens form
      toolModalApplyBtn.addEventListener('click', (e) => {
        const t = e.currentTarget.dataset.tool || '';
        closeToolModal();
        setTimeout(() => openApplyModal(t), 240);
      });

      // apply modal handlers
      applyClose.addEventListener('click', closeApplyModal);
      applyBackdrop.addEventListener('click', closeApplyModal);
      applyCancel.addEventListener('click', (e) => { e.preventDefault(); closeApplyModal(); });

      // mock form submit
      applyForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const submitBtn = applyForm.querySelector('.btn-submit');
        submitBtn.disabled = true;
        submitBtn.textContent = 'Надсилання...';
        setTimeout(() => {
          submitBtn.textContent = 'Надіслати заявку';
          submitBtn.disabled = false;
          // show inline success
          const msg = document.createElement('div');
          msg.id = 'applySuccess';
          msg.setAttribute('role','status');
          msg.style.cssText = 'margin-top:10px;padding:10px;border-radius:8px;background:#ECFDF5;color:#064E3B;font-weight:800;';
          msg.textContent = 'Дякуємо! Заявку отримано. Ми зв\'яжемося найближчим часом.';
          applyForm.appendChild(msg);
          setTimeout(() => {
            const s = document.getElementById('applySuccess'); if (s) s.remove();
            applyForm.reset();
            closeApplyModal();
          }, 1600);
        }, 900);
      });

      // ensure modals hidden on load
      window.addEventListener('load', () => {
        toolModal.style.display = 'none'; toolModal.setAttribute('aria-hidden','true');
        applyModal.style.display = 'none'; applyModal.setAttribute('aria-hidden','true');
      });
    })();
  </script>
</section>

<!-- ===========================
  СЕКЦІЯ: ПРОГРАМА (вставити в <body>)
  - Без менторів
  - Всі кнопки зелені (primary)
  - Модалки відкриваються ТІЛЬКИ при кліку на buttons [data-modal]
  - Використовує Tailwind (повинен бути підключений)
  - Працює коректно якщо GSAP / focus-trap відсутні
  =========================== -->
<section id="program-section" class="program-section px-6 md:px-12 lg:px-24 pt-20 pb-0 bg-white text-gray-900" aria-labelledby="program-heading" style="margin-bottom:0;">
  <div class="max-w-7xl mx-auto">

    <!-- HERO -->
    <header class="mb-8">
      <h2 id="program-heading" class="text-4xl md:text-5xl font-extrabold mb-2" style="font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;">Програма інтенсиву</h2>
      <p class="text-lg text-gray-600 mb-4">6 місяців · 10 практичних проєктів · mentor sign-off — практичний шлях до оферу.</p>

      <div class="flex flex-col sm:flex-row gap-3 items-start sm:items-center">
        <a href="otr_programy.html" target="_blank" class="inline-flex items-center justify-center px-6 h-12 rounded-md bg-emerald-600 text-white font-semibold transition w-full sm:w-auto focus:outline-none focus:ring-2 focus:ring-emerald-400">Відкрити повну програму</a>

        <!-- Кнопка з фото: тінь видалено через no-shadow -->
        <button data-modal="modal-syllabus" class="open-modal-btn inline-flex items-center justify-center px-6 h-12 rounded-md bg-emerald-600 text-white font-semibold w-full sm:w-auto focus:outline-none focus:ring-2 focus:ring-emerald-400 no-shadow">Переглянути програму (онлайн)</button>

        <button data-modal="modal-enroll" class="open-modal-btn inline-flex items-center justify-center px-6 h-12 rounded-md bg-emerald-600 text-white font-semibold w-full sm:w-auto focus:outline-none focus:ring-2 focus:ring-emerald-400">Записатися</button>
      </div>
    </header>

    <!-- NAV -->
    <nav class="mb-6" aria-label="Навігація по секції програми">
      <ul class="flex flex-wrap gap-3 text-sm">
        <li><a href="#overview" class="px-4 py-2 rounded-md bg-gray-50 border border-gray-100 hover:bg-emerald-50">Огляд</a></li>
        <li><a href="#roadmap" class="px-4 py-2 rounded-md bg-gray-50 border border-gray-100 hover:bg-emerald-50">Roadmap</a></li>
        <li><a href="#modules" class="px-4 py-2 rounded-md bg-gray-50 border border-gray-100 hover:bg-emerald-50">Модулі</a></li>
        <li><a href="#deliverables" class="px-4 py-2 rounded-md bg-gray-50 border border-gray-100 hover:bg-emerald-50">Deliverables</a></li>
        <li><a href="#faq" class="px-4 py-2 rounded-md bg-gray-50 border border-gray-100 hover:bg-emerald-50">FAQ</a></li>
      </ul>
    </nav>

    <!-- OVERVIEW CARDS: рівні картки -->
    <section id="overview" class="mb-10 grid grid-cols-1 md:grid-cols-3 gap-6">
      <article class="card bg-white rounded-md shadow-sm p-6 flex flex-col justify-between min-h-[18rem]">
        <div>
          <h3 class="text-xl font-semibold mb-2">Що ви отримаєте</h3>
          <p class="text-sm text-gray-600 mb-3">Практичні deliverables, mentor sign-off, робочі шаблони і кар'єрна підтримка.</p>
          <ul class="text-sm text-gray-700 space-y-1">
            <li>• 6–10 end-to-end кейсів</li>
            <li>• Storybook POC та дизайн-система</li>
            <li>• Mock interviews та CV overhaul</li>
          </ul>
        </div>

        <div class="mt-4 grid grid-cols-2 gap-3">
          <button data-modal="modal-detailed-overview" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium focus:outline-none focus:ring-2 focus:ring-emerald-400">Детальніше</button>
          <button data-modal="modal-enroll" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium focus:outline-none focus:ring-2 focus:ring-emerald-400">Записатися</button>
        </div>
      </article>

      <article class="card bg-white rounded-md shadow-sm p-6 flex flex-col justify-between min-h-[18rem]">
        <div>
          <h3 class="text-xl font-semibold mb-2">Формат</h3>
          <p class="text-sm text-gray-600 mb-3">2 live-сесії / тиждень + labs, mentor 1:1, peer-review, записи доступні 24/7.</p>
          <ul class="text-sm text-gray-700 space-y-1">
            <li>• Live: лекції та кейси</li>
            <li>• Labs: hands-on практика</li>
            <li>• Career: mock-interviews</li>
          </ul>
        </div>

        <div class="mt-4 grid grid-cols-2 gap-3">
          <button data-modal="modal-format" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium focus:outline-none focus:ring-2 focus:ring-emerald-400">Детальніше</button>
          <button data-modal="modal-enroll" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium focus:outline-none focus:ring-2 focus:ring-emerald-400">Записатися</button>
        </div>
      </article>

      <article class="card bg-white rounded-md shadow-sm p-6 flex flex-col justify-between min-h-[18rem]">
        <div>
          <h3 class="text-xl font-semibold mb-2">Оцінювання</h3>
          <p class="text-sm text-gray-600 mb-3">5 критеріїв: Research, Interaction, Visual, Accessibility, Handoff — peer + mentor scoring.</p>
          <ul class="text-sm text-gray-700 space-y-1">
            <li>• Чіткі рубрики</li>
            <li>• Mentor sign-off</li>
            <li>• План корекції</li>
          </ul>
        </div>

        <div class="mt-4 grid grid-cols-2 gap-3">
          <button data-modal="modal-rubrics" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium focus:outline-none focus:ring-2 focus:ring-emerald-400">Детальніше</button>
          <button data-modal="modal-enroll" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium focus:outline-none focus:ring-2 focus:ring-emerald-400">Записатися</button>
        </div>
      </article>
    </section>

    <!-- ROADMAP: рівні week-картки -->
    <section id="roadmap" class="mb-10">
      <h3 class="text-2xl font-bold mb-4">Roadmap — по тижнях</h3>
      <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
        <!-- Week 1 -->
        <article class="week-card bg-white rounded-md shadow-sm p-5 flex flex-col justify-between min-h-[16rem]">
          <div>
            <div class="flex items-center justify-between mb-2">
              <span class="text-sm font-semibold">Тиждень 1</span>
              <span class="text-xs text-gray-400">8–12 год</span>
            </div>
            <h4 class="font-semibold mb-2">Research kickoff</h4>
            <p class="text-sm text-gray-600 mb-2">Research brief, інтерв'ю, CJM.</p>
            <ul class="text-sm text-gray-700 space-y-1">
              <li>• Interview guide</li>
              <li>• 5 інтерв'ю</li>
              <li>• Affinity map</li>
            </ul>
          </div>

          <div class="mt-4 grid grid-cols-2 gap-3">
            <button data-modal="modal-week1" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium focus:outline-none focus:ring-2 focus:ring-emerald-400">Детальніше</button>
            <button data-modal="modal-enroll" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium focus:outline-none focus:ring-2 focus:ring-emerald-400">Записатися</button>
          </div>
        </article>

        <!-- Week 2 -->
        <article class="week-card bg-white rounded-md shadow-sm p-5 flex flex-col justify-between min-h-[16rem]">
          <div>
            <div class="flex items-center justify-between mb-2">
              <span class="text-sm font-semibold">Тиждень 2</span>
              <span class="text-xs text-gray-400">10–15 год</span>
            </div>
            <h4 class="font-semibold mb-2">Wireframing & Flows</h4>
            <p class="text-sm text-gray-600 mb-2">Flows, low→mid fidelity, interaction specs.</p>
            <ul class="text-sm text-gray-700 space-y-1">
              <li>• User flows</li>
              <li>• Low / Mid fidelity</li>
              <li>• Interaction specs</li>
            </ul>
          </div>

          <div class="mt-4 grid grid-cols-2 gap-3">
            <button data-modal="modal-week2" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium focus:outline-none focus:ring-2 focus:ring-emerald-400">Детальніше</button>
            <button data-modal="modal-enroll" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium focus:outline-none focus:ring-2 focus:ring-emerald-400">Записатися</button>
          </div>
        </article>

        <!-- Week 3 -->
        <article class="week-card bg-white rounded-md shadow-sm p-5 flex flex-col justify-between min-h-[16rem]">
          <div>
            <div class="flex items-center justify-between mb-2">
              <span class="text-sm font-semibold">Тиждень 3</span>
              <span class="text-xs text-gray-400">12–18 год</span>
            </div>
            <h4 class="font-semibold mb-2">UI та система дизайну</h4>
            <p class="text-sm text-gray-600 mb-2">Tokens, components, accessibility basics.</p>
            <ul class="text-sm text-gray-700 space-y-1">
              <li>• Design tokens</li>
              <li>• Component library</li>
              <li>• Accessibility checks</li>
            </ul>
          </div>

          <div class="mt-4 grid grid-cols-2 gap-3">
            <button data-modal="modal-week3" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium focus:outline-none focus:ring-2 focus:ring-emerald-400">Детальніше</button>
            <button data-modal="modal-enroll" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium focus:outline-none focus:ring-2 focus:ring-emerald-400">Записатися</button>
          </div>
        </article>

        <!-- Week 4 -->
        <article class="week-card bg-white rounded-md shadow-sm p-5 flex flex-col justify-between min-h-[16rem]">
          <div>
            <div class="flex items-center justify-between mb-2">
              <span class="text-sm font-semibold">Тиждень 4</span>
              <span class="text-xs text-gray-400">10–16 год</span>
            </div>
            <h4 class="font-semibold mb-2">Прототипування та тестування</h4>
            <p class="text-sm text-gray-600 mb-2">Clickable prototype, usability testing.</p>
            <ul class="text-sm text-gray-700 space-y-1">
              <li>• Clickable prototype</li>
              <li>• Usability testing</li>
              <li>• Test report</li>
            </ul>
          </div>

          <div class="mt-4 grid grid-cols-2 gap-3">
            <button data-modal="modal-week4" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium focus:outline-none focus:ring-2 focus:ring-emerald-400">Детальніше</button>
            <button data-modal="modal-enroll" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium focus:outline-none focus:ring-2 focus:ring-emerald-400">Записатися</button>
          </div>
        </article>
      </div>
    </section>

    <!-- DELIVERABLES table -->
    <section id="deliverables" class="mb-12">
      <h3 class="text-2xl font-bold mb-4">Deliverables — що потрібно здати</h3>
      <div class="bg-white rounded-md shadow p-6">
        <div class="overflow-x-auto">
          <table class="w-full table-fixed text-sm border-collapse">
            <thead>
              <tr class="text-left">
                <th class="w-1/4 py-3 px-4 border-b">Назва</th>
                <th class="w-2/4 py-3 px-4 border-b">Опис</th>
                <th class="w-1/4 py-3 px-4 border-b">Превʼю (повний розмір)</th>
              </tr>
            </thead>

            <tbody>
              <tr class="border-t">
                <td class="py-4 px-4 font-semibold align-top">Research brief</td>

                <td class="py-4 px-4 text-gray-700">Короткий документ з цілями, гіпотезами та планом дослідження (1 стор.).</td>
                <td class="py-4 px-4">
                  <img src="img/ss1.png" alt="Research brief preview" class="w-full max-h-40 object-contain rounded-sm border">
                </td>
              </tr>

              <tr class="border-t">
                <td class="py-4 px-4 font-semibold align-top">Affinity map</td>
                <td class="py-4 px-4 text-gray-700">Синтез інтерв'ю у вигляді affinity mapping з ключовими інсайтами.</td>
                <td class="py-4 px-4">
                  <img src="img/ll2.png" alt="Affinity map preview" class="w-full max-h-40 object-contain rounded-sm border">
                </td>
              </tr>

              <tr class="border-t">
                <td class="py-4 px-4 font-semibold align-top">Clickable prototype</td>
                <td class="py-4 px-4 text-gray-700">Інтерактивний прототип з описом interaction specs та тестовими сценаріями.</td>
                <td class="py-4 px-4 text-gray-700">Перегляд — у модалці (текстовий опис).</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq" class="mb-6">
      <h3 class="text-2xl font-bold mb-4">Питання й відповіді</h3>
      <div class="space-y-3">
        <details class="bg-white p-4 rounded-md shadow-sm">
          <summary class="font-semibold cursor-pointer">Хто підходить для курсу?</summary>
          <div class="mt-3 text-gray-700">Курс підходить як початківцям, так і тим, хто має базові знання і хоче системно перейти в Product Design або UX Research.</div>
        </details>

        <details class="bg-white p-4 rounded-md shadow-sm">
          <summary class="font-semibold cursor-pointer">Чи є записи занять?</summary>
          <div class="mt-3 text-gray-700">Так — усі live-сесії записуються і доступні для перегляду 24/7 протягом терміну доступу.</div>
        </details>
      </div>
    </section>

  </div>

  <!-- Overlay scoped to section -->
  <div id="program-modal-overlay" class="program-modal-overlay fixed inset-0 bg-black bg-opacity-40 hidden z-50"></div>

  <!-- =========================
       ВЕЛИКА модалка: Syllabus (БАГАТО ІНФОРМАЦІЇ)
       ========================= -->
  <div id="modal-syllabus" class="program-modal hidden fixed inset-0 z-60 items-center justify-center p-4" role="dialog" aria-modal="true" aria-labelledby="modal-syllabus-title">
    <div class="program-modal-panel bg-white rounded-md max-w-6xl w-full max-h-[92vh] overflow-auto shadow-2xl p-6">
      <div class="flex items-start justify-between gap-4">
        <h3 id="modal-syllabus-title" class="text-2xl font-bold">Повна програма (онлайн) — детальний syllabus</h3>
        <button class="program-modal-close text-gray-600 hover:text-gray-900 text-2xl leading-none" aria-label="Закрити">&times;</button>
      </div>

      <div class="mt-4 text-gray-800 space-y-6">
        <!-- велика кількість контенту тут (вже є у вашому попередньому коді) -->
        <h4 class="text-xl font-semibold">Огляд курсу</h4>
        <p>Цей інтенсив — практично орієнтований курс, що проходить у форматі 6 місяців з фокусом на реальні, end-to-end кейси. Основні елементи: discovery → design → prototype → test → handoff. Кожен модуль містить чіткі deliverables і acceptance criteria для mentor sign-off.</p>

        <!-- ... (скорочено у секції, детальний текст залишився в модалках Детальніше нижче) -->
        <p class="text-sm text-gray-600">(Ця модалка — велика збірка матеріалів. Якщо потрібно — додамо PDF/asset-банку через бекенд; наразі лишається текстовий блок.)</p>
      </div>

      <div class="mt-6 grid grid-cols-2 gap-3">
        <button data-modal="modal-enroll" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium focus:outline-none focus:ring-2 focus:ring-emerald-400">Записатися</button>
        <button class="program-modal-close w-full h-12 rounded-md bg-white border border-gray-200 text-gray-800">Закрити</button>
      </div>
    </div>
  </div>

  <!-- =========================
       ДУЖЕ РОЗГОРНУТІ модалки для кожної кнопки "Детальніше"
       (всі 'Детальніше' відкривають власні модалки з великим об'ємом інформації)
       ========================= -->

  <!-- Detailed overview (дуже багато інфи) -->
  <div id="modal-detailed-overview" class="program-modal hidden fixed inset-0 z-60 items-center justify-center p-4" role="dialog" aria-modal="true" aria-labelledby="modal-detailed-overview-title">
    <div class="program-modal-panel bg-white rounded-md max-w-4xl w-full max-h-[92vh] overflow-auto shadow-xl p-6">
      <div class="flex items-start justify-between">
        <h3 id="modal-detailed-overview-title" class="text-2xl font-bold">Детальний огляд програми — повний вміст</h3>
        <button class="program-modal-close text-gray-600 hover:text-gray-900" aria-label="Закрити">&times;</button>
      </div>

      <div class="mt-4 text-gray-800 space-y-4">
        <h4 class="font-semibold">Вступ та мета модуля</h4>
        <p>Мета: забезпечити практичну, структуровану підготовку до ролі Product Designer через серію кейсів і mentor sign-off. Нижче — детальний перелік матеріалів, шаблонів і чеклістів, які ви отримаєте і які потрібно буде виконати.</p>

        <h4 class="font-semibold">Контент (довгий перелік)</h4>
        <ul class="list-disc pl-6 space-y-2">
          <li><strong>Research pack:</strong> шаблон research brief (structure + examples), interview guide (20 прикладів питань, screening checklist), consent script, tips для запису інтерв'ю.</li>
          <li><strong>Synthesis:</strong> affinity mapping workflow, матриця інсайтів, шаблон personas, CJM template, як правильно формулювати hypothesis statements.</li>
          <li><strong>Design phase:</strong> flow templates (user flow, task flow), wireframe kit (low → mid → hi), design tokens starter (color, spacing, typography), component checklist для Storybook.</li>
          <li><strong>Prototyping:</strong> interaction specs (click states, transitions), micro-interaction guide, accessibility notes (keyboard, ARIA, contrast checklist).</li>
          <li><strong>Testing & Handoff:</strong> usability test plan + script, recording & synthesis template, handoff pack (specs, assets, export guide for dev).</li>
        </ul>

        <h4 class="font-semibold">Чеклісти та приклади</h4>
        <p>У модулі ви знайдете приклади перевірених deliverables з поясненням, чому вони проходять на level 7–10. Також — кроки для поліпшення роботи до mentor sign-off.</p>

        <h4 class="font-semibold">Практичні вправи</h4>
        <ol class="list-decimal pl-6 space-y-2">
          <li>Провести 5 інтерв'ю за шаблоном; зібрати цитати та кластеризувати інсайти.</li>
          <li>Створити flows і wireframes для ключової user-journey, включаючи edge-cases.</li>
          <li>Зібрати design token set і компонент у Storybook (POC).</li>
          <li>Прототипувати інтерактивну флоу і провести мінімальний usability test (3 користувачі).</li>
        </ol>

        <h4 class="font-semibold">Поради для оцінювання</h4>
        <p>Як краще підготуватися до mentor review: 1) короткий executive summary вгорі кейсу; 2) measurable outcomes; 3) чіткі acceptance criteria. Усі шаблони включають очікувані критерії оцінювання.</p>
      </div>

      <div class="mt-6 grid grid-cols-2 gap-3">
        <button data-modal="modal-enroll" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium">Записатися</button>
        <button class="program-modal-close w-full h-12 rounded-md bg-white border border-gray-200 text-gray-800">Закрити</button>
      </div>
    </div>
  </div>

  <!-- Format (розгорнуто) -->
  <div id="modal-format" class="program-modal hidden fixed inset-0 z-60 items-center justify-center p-4" role="dialog" aria-modal="true" aria-labelledby="modal-format-title">
    <div class="program-modal-panel bg-white rounded-md max-w-3xl w-full max-h-[92vh] overflow-auto shadow-xl p-6">
      <div class="flex items-start justify-between">
        <h3 id="modal-format-title" class="text-2xl font-bold">Формат навчання — детально</h3>
        <button class="program-modal-close text-gray-600 hover:text-gray-900" aria-label="Закрити">&times;</button>
      </div>

      <div class="mt-4 text-gray-800 space-y-4">
        <h4 class="font-semibold">Щотижневий розклад (приклад)</h4>
        <ul class="list-disc pl-6 space-y-2">
          <li><strong>День 1:</strong> лекція + демо (1.5–2 год).</li>
          <li><strong>День 2:</strong> workshop / lab (2–3 год).</li>
          <li><strong>Дні 3–7:</strong> self-study, tasks, peer-review, підготовка deliverable.</li>
        </ul>

        <h4 class="font-semibold">Комунікація та підтримка</h4>
        <p>Модулі передбачають асинхронні рев'ю, peer-review сесії, а також optional mentor 1:1 для ключових checkpoint'ів. Рекомендований час виконання — 8–12 год/тиждень (залежно від рівня).</p>

        <h4 class="font-semibold">Materials & tools</h4>
        <p>Рекомендуємо Figma, Notion (case study), Zoom/recording tool, а також Storybook для компонентів. Усі шаблони — у текстовому вигляді в модалці syllabus.</p>
      </div>

      <div class="mt-6 grid grid-cols-2 gap-3">
        <button data-modal="modal-enroll" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium">Записатися</button>
        <button class="program-modal-close w-full h-12 rounded-md bg-white border border-gray-200 text-gray-800">Закрити</button>
      </div>
    </div>
  </div>

  <!-- Rubrics (детально) -->
  <div id="modal-rubrics" class="program-modal hidden fixed inset-0 z-60 items-center justify-center p-4" role="dialog" aria-modal="true" aria-labelledby="modal-rubrics-title">
    <div class="program-modal-panel bg-white rounded-md max-w-4xl w-full max-h-[92vh] overflow-auto shadow-xl p-6">
      <div class="flex items-start justify-between">
        <h3 id="modal-rubrics-title" class="text-2xl font-bold">Рубрики оцінювання — детально</h3>
        <button class="program-modal-close text-gray-600 hover:text-gray-900" aria-label="Закрити">&times;</button>
      </div>

      <div class="mt-4 text-gray-800 space-y-4">
        <p>Оцінювання по 5 критеріях: Research • Interaction • Visual • Accessibility • Handoff. Для кожного критерію — опис рівнів 0–10 та конкретні приклади, що очікується на кожному рівні.</p>

        <h4 class="font-semibold">Приклад: Research</h4>
        <pre class="bg-gray-50 p-3 rounded text-sm">0–3: Немає синтезу, немає зв'язку з рішеннями.
4–6: Є інсайти, але слабке обґрунтування рішень.
7–8: Чіткий синтез, зв'язок із product decisions.
9–10: Глибокий synthesis + measurable impact.</pre>

        <h4 class="font-semibold">Приклад: Interaction</h4>
        <p>Оцінюється: completeness of flows, edge-cases, error states, keyboard navigation, mobile behaviors.</p>

        <h4 class="font-semibold">Як готуватися до рев'ю</h4>
        <ol class="list-decimal pl-6 space-y-2">
          <li>Підготувати коротке summary (1 абзац) з measureable outcome.</li>
          <li>Додати checklist з acceptance criteria.</li>
          <li>Показати evidence: user quotes, analytics, before/after metrics (якщо є).</li>
        </ol>
      </div>

      <div class="mt-6 grid grid-cols-2 gap-3">
        <button data-modal="modal-enroll" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium">Хочу почати</button>
        <button class="program-modal-close w-full h-12 rounded-md bg-white border border-gray-200 text-gray-800">Закрити</button>
      </div>
    </div>
  </div>

  <!-- Week 1 modal (дуже багато інфи) -->
  <div id="modal-week1" class="program-modal hidden fixed inset-0 z-60 items-center justify-center p-4" role="dialog" aria-modal="true" aria-labelledby="modal-week1-title">
    <div class="program-modal-panel bg-white rounded-md max-w-3xl w-full max-h-[92vh] overflow-auto shadow-xl p-6">
      <div class="flex items-start justify-between">
        <h3 id="modal-week1-title" class="text-2xl font-bold">Тиждень 1 — Research kickoff (детально)</h3>
        <button class="program-modal-close text-gray-600 hover:text-gray-900" aria-label="Закрити">&times;</button>
      </div>

      <div class="mt-4 text-gray-800 space-y-4">
        <h4 class="font-semibold">Мета тижня</h4>
        <p>Побудувати research foundation: чіткі цілі, screening, interview guide і перші інтерв'ю.</p>

        <h4 class="font-semibold">Контент і шаблони</h4>
        <ul class="list-disc pl-6 space-y-2">
          <li>Research brief (template + приклади заповнення).</li>
          <li>Interview guide (open + probing questions, 20 прикладів).</li>
          <li>Consent script, recording checklist, short report template.</li>
        </ul>

        <h4 class="font-semibold">Deliverables</h4>
        <ol class="list-decimal pl-6 space-y-2">
          <li>Research brief (1 стор.) з acceptance criteria.</li>
          <li>Транскрипти 5 інтерв'ю + key quotes.</li>
          <li>Початковий affinity map + hypotheses.</li>
        </ol>

        <h4 class="font-semibold">Поради та чеклісти</h4>
        <p>Поради для інтерв'ю: як ставити питання,як працювати з мовними бар'єрами, як витягати цінні цитати, і як швидко кластеризувати дані.</p>
      </div>

      <div class="mt-6 grid grid-cols-2 gap-3">
        <button data-modal="modal-enroll" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium">Записатися на модуль</button>
        <button class="program-modal-close w-full h-12 rounded-md bg-white border border-gray-200 text-gray-800">Закрити</button>
      </div>
    </div>
  </div>

  <!-- Week 2 modal -->
  <div id="modal-week2" class="program-modal hidden fixed inset-0 z-60 items-center justify-center p-4" role="dialog" aria-modal="true" aria-labelledby="modal-week2-title">
    <div class="program-modal-panel bg-white rounded-md max-w-3xl w-full max-h-[92vh] overflow-auto shadow-xl p-6">
      <div class="flex items-start justify-between">
        <h3 id="modal-week2-title" class="text-2xl font-bold">Тиждень 2 — Wireframing & Flows (детально)</h3>
        <button class="program-modal-close text-gray-600 hover:text-gray-900" aria-label="Закрити">&times;</button>
      </div>

      <div class="mt-4 text-gray-800 space-y-4">
        <h4 class="font-semibold">Фокус</h4>
        <p>Побудова повних користувацьких потоків, wireframes для основних сценаріїв і опис interaction specs для розробки.</p>

        <h4 class="font-semibold">Матеріали</h4>
        <ul class="list-disc pl-6 space-y-2">
          <li>Flow templates (task flow, user flow, happy & unhappy paths).</li>
          <li>Wireframe checklist (labels, accessibility hints, states).</li>
          <li>Interaction spec template (click, hover, transitions, delays).</li>
        </ul>

        <h4 class="font-semibold">Deliverables</h4>
        <ol class="list-decimal pl-6 space-y-2">
          <li>User flows + edge-case list.</li>
          <li>Low → Mid fidelity wireframes.</li>
          <li>Interaction specs для critical path.</li>
        </ol>
      </div>

      <div class="mt-6 grid grid-cols-2 gap-3">
        <button data-modal="modal-enroll" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium">Записатися</button>
        <button class="program-modal-close w-full h-12 rounded-md bg-white border border-gray-200 text-gray-800">Закрити</button>
      </div>
    </div>
  </div>

  <!-- Week 3 modal -->
  <div id="modal-week3" class="program-modal hidden fixed inset-0 z-60 items-center justify-center p-4" role="dialog" aria-modal="true" aria-labelledby="modal-week3-title">
    <div class="program-modal-panel bg-white rounded-md max-w-3xl w-full max-h-[92vh] overflow-auto shadow-xl p-6">
      <div class="flex items-start justify-between">
        <h3 id="modal-week3-title" class="text-2xl font-bold">Тиждень 3 — UI та система дизайну (детально)</h3>
        <button class="program-modal-close text-gray-600 hover:text-gray-900" aria-label="Закрити">&times;</button>
      </div>

      <div class="mt-4 text-gray-800 space-y-4">
        <h4 class="font-semibold">Фокус</h4>
        <p>Design tokens, компонентна бібліотека, accessibility notes, та Storybook POC.</p>

        <h4 class="font-semibold">Контент</h4>
        <ul class="list-disc pl-6 space-y-2">
          <li>Design token examples (colors, spacing scale, type scale).</li>
          <li>Component checklist (states, props, accessibility, responsive).</li>
          <li>Storybook POC guide (stories, knobs, accessibility addon).</li>
        </ul>

        <h4 class="font-semibold">Deliverables</h4>
        <ol class="list-decimal pl-6 space-y-2">
          <li>Token set + documentation.</li>
          <li>Component examples (button, input, card) + storybook stories.</li>
          <li>Accessibility notes and keyboard interactions.</li>
        </ol>
      </div>

      <div class="mt-6 grid grid-cols-2 gap-3">
        <button data-modal="modal-enroll" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium">Записатися</button>
        <button class="program-modal-close w-full h-12 rounded-md bg-white border border-gray-200 text-gray-800">Закрити</button>
      </div>
    </div>
  </div>

  <!-- Week 4 modal -->
  <div id="modal-week4" class="program-modal hidden fixed inset-0 z-60 items-center justify-center p-4" role="dialog" aria-modal="true" aria-labelledby="modal-week4-title">
    <div class="program-modal-panel bg-white rounded-md max-w-3xl w-full max-h-[92vh] overflow-auto shadow-xl p-6">
      <div class="flex items-start justify-between">
        <h3 id="modal-week4-title" class="text-2xl font-bold">Тиждень 4 — Прототипування та тестування (детально)</h3>
        <button class="program-modal-close text-gray-600 hover:text-gray-900" aria-label="Закрити">&times;</button>
      </div>

      <div class="mt-4 text-gray-800 space-y-4">
        <h4 class="font-semibold">Фокус</h4>
        <p>Інтерактивний прототип, usability testing, test report та actionable recommendations.</p>

        <h4 class="font-semibold">Матеріали</h4>
        <ul class="list-disc pl-6 space-y-2">
          <li>Test plan template (tasks, metrics, recruit criteria).</li>
          <li>Script для тестування та guidelines для фасилітації.</li>
          <li>Report template (findings, severity, recommendations, quick wins).</li>
        </ul>

        <h4 class="font-semibold">Deliverables</h4>
        <ol class="list-decimal pl-6 space-y-2">
          <li>Clickable prototype з interaction specs.</li>
          <li>Usability test report з findings і рекомендаціями.</li>
          <li>Actionable roadmap для продукту.</li>
        </ol>
      </div>

      <div class="mt-6 grid grid-cols-2 gap-3">
        <button data-modal="modal-enroll" class="open-modal-btn w-full h-12 rounded-md bg-emerald-600 text-white font-medium">Записатися</button>
        <button class="program-modal-close w-full h-12 rounded-md bg-white border border-gray-200 text-gray-800">Закрити</button>
      </div>
    </div>
  </div>

  <!-- ENROLL modal (форма) -->
  <div id="modal-enroll" class="program-modal hidden fixed inset-0 z-60 items-center justify-center p-4" role="dialog" aria-modal="true" aria-labelledby="enroll-title">
    <div class="program-modal-panel bg-white rounded-md max-w-3xl w-full max-h-[92vh] overflow-auto shadow-xl p-6">
      <div class="flex items-start justify-between">
        <h3 id="enroll-title" class="text-2xl font-bold">Записатися / Отримати консультацію</h3>
        <button class="program-modal-close text-gray-600 hover:text-gray-900" aria-label="Закрити">&times;</button>
      </div>

      <form id="program-enroll-form" class="mt-4 space-y-4" novalidate>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
          <label class="flex flex-col">
            <span class="text-sm font-medium">Ім'я та прізвище *</span>
            <input name="name" required class="mt-1 p-3 border border-gray-200 rounded-md" placeholder="Іван Іванов" />
          </label>

          <label class="flex flex-col">
            <span class="text-sm font-medium">Телефон *</span>
            <input name="phone" required class="mt-1 p-3 border border-gray-200 rounded-md" placeholder="+380 99 123 45 67" />
          </label>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
          <label class="flex flex-col">
            <span class="text-sm font-medium">Email *</span>
            <input name="email" type="email" required class="mt-1 p-3 border border-gray-200 rounded-md" placeholder="you@example.com" />
          </label>

          <label class="flex flex-col">
            <span class="text-sm font-medium">Місто</span>
            <input name="city" class="mt-1 p-3 border border-gray-200 rounded-md" placeholder="Київ" />
          </label>
        </div>

        <label class="flex flex-col">
          <span class="text-sm font-medium">Посилання на портфоліо (опційно)</span>
          <input name="portfolio" class="mt-1 p-3 border border-gray-200 rounded-md" placeholder="https://..." />
        </label>

        <label class="flex flex-col">
          <span class="text-sm font-medium">Коротко про досвід і цілі</span>
          <textarea name="comment" rows="4" class="mt-1 p-3 border border-gray-200 rounded-md" placeholder="Кілька речень про досвід та ціль навчання"></textarea>
        </label>

        <div class="flex items-center gap-3">
          <input id="consent-enroll" name="consent" type="checkbox" required class="h-4 w-4" />
          <label for="consent-enroll" class="text-sm">Погоджуюсь на обробку персональних даних *</label>
        </div>

        <div id="program-form-errors" class="text-sm text-red-600 hidden"></div>

        <div class="flex gap-3 mt-4">
          <button type="submit" class="w-full md:w-auto flex-1 h-12 rounded-md bg-emerald-600 text-white font-semibold focus:outline-none focus:ring-2 focus:ring-emerald-400">Надіслати заявку</button>
          <button type="button" class="program-modal-close w-full md:w-auto flex-1 h-12 rounded-md bg-white border border-gray-200 text-gray-800">Відмінити</button>
        </div>

        <p class="text-xs text-gray-500 mt-3">Після відправки ми зконтактуємося для підтвердження та узгодження часу консультації.</p>
      </form>

      <div id="program-enroll-success" class="hidden mt-4 bg-emerald-50 p-4 rounded-md border border-emerald-100">
        <p class="font-semibold text-emerald-700">Дякуємо! Ваша заявка прийнята. Ми зв'яжемося найближчим часом.</p>
        <div class="mt-3 grid grid-cols-2 gap-3">
          <a href="otr_programy.html" class="w-full h-10 inline-flex items-center justify-center rounded-md bg-white border border-gray-200 text-gray-800">Відкрити програму</a>
          <button class="program-modal-close w-full h-10 inline-flex items-center justify-center rounded-md bg-emerald-600 text-white">Закрити</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scoped JS: логіка модалок (scope = #program-section) -->
  <script>
    (function () {
      const root = document.getElementById('program-section');
      if (!root) return;

      const overlay = root.querySelector('#program-modal-overlay');
      const modals = Array.from(root.querySelectorAll('.program-modal'));
      const openButtons = Array.from(root.querySelectorAll('.open-modal-btn'));
      const closeSelector = '.program-modal-close';
      let activeTrap = null;

      const findModal = id => modals.find(m => m.id === id) || null;

      function closeModal(modal) {
        if (!modal || modal.classList.contains('hidden')) return;
        const panel = modal.querySelector('.program-modal-panel');
        if (window.gsap) {
          try {
            gsap.to(panel, { y: 12, opacity: 0, scale: 0.98, duration: 0.22, ease: 'power3.in', onComplete: () => {
              modal.classList.add('hidden');
              modal.setAttribute('aria-hidden','true');
              if (!modals.some(m => !m.classList.contains('hidden'))) overlay.classList.add('hidden');
            }});
          } catch (e) { modal.classList.add('hidden'); overlay.classList.add('hidden'); }
        } else {
          modal.classList.add('hidden');
          modal.setAttribute('aria-hidden','true');
          if (!modals.some(m => !m.classList.contains('hidden'))) overlay.classList.add('hidden');
        }
        try { if (activeTrap) activeTrap.deactivate(); } catch (e) {}
        activeTrap = null;
        const openerId = modal.dataset.openerId;
        if (openerId) {
          const opener = root.querySelector('[data-opener-id="' + openerId + '"]');
          if (opener) opener.focus();
        }
      }

      function openModal(id, openerBtn) {
        const modal = findModal(id);
        if (!modal) return;
        modals.forEach(m => { if (m !== modal && !m.classList.contains('hidden')) { m.classList.add('hidden'); m.setAttribute('aria-hidden','true'); } });
        overlay.classList.remove('hidden');
        modal.classList.remove('hidden');
        modal.setAttribute('aria-hidden','false');
        const panel = modal.querySelector('.program-modal-panel');
        if (window.gsap) {
          try { gsap.fromTo(panel, { y: 20, opacity: 0, scale: 0.985 }, { y: 0, opacity: 1, scale: 1, duration: 0.42, ease: 'power3.out' }); }
          catch (e) {}
        }
        try {
          if (window.focusTrap) {
            activeTrap = focusTrap.createFocusTrap(modal, { initialFocus: modal.querySelector('button, [tabindex], input, textarea') || modal, escapeDeactivates: false, clickOutsideDeactivates: false });
            activeTrap.activate();
          }
        } catch (e) {}
        if (openerBtn) modal.dataset.openerId = openerBtn.getAttribute('data-opener-id') || '';
      }

      // attach open handlers
      openButtons.forEach((btn, i) => {
        const openerId = 'program-opener-' + i;
        btn.setAttribute('data-opener-id', openerId);
        btn.addEventListener('click', () => {
          const id = btn.getAttribute('data-modal');
          if (!id) return;
          openModal(id, btn);
        });
      });

      // delegated close + overlay click
      root.addEventListener('click', (e) => {
        const closeBtn = e.target.closest(closeSelector);
        if (closeBtn) {
          const modal = closeBtn.closest('.program-modal');
          if (modal) closeModal(modal);
        }
        if (e.target === overlay) {
          const open = modals.filter(m => !m.classList.contains('hidden'));
          if (open.length) closeModal(open[open.length - 1]);
        }
      });

      // ESC closes topmost
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          const open = modals.filter(m => !m.classList.contains('hidden'));
          if (open.length) closeModal(open[open.length - 1]);
        }
      });

      // ensure hidden at init
      modals.forEach(m => { if (!m.classList.contains('hidden')) m.classList.add('hidden'); m.setAttribute('aria-hidden','true'); });
      if (!overlay.classList.contains('hidden')) overlay.classList.add('hidden');

      // enroll form mock
      const enrollForm = root.querySelector('#program-enroll-form');
      const errors = root.querySelector('#program-form-errors');
      const success = root.querySelector('#program-enroll-success');
      if (enrollForm) {
        enrollForm.addEventListener('submit', (ev) => {
          ev.preventDefault();
          errors.classList.add('hidden');
          const name = enrollForm.name.value.trim();
          const phone = enrollForm.phone.value.trim();
          const email = enrollForm.email.value.trim();
          const consent = enrollForm.consent && enrollForm.consent.checked;
          if (!name || !phone || !email || !consent) {
            errors.textContent = 'Будь ласка, заповніть обовʼязкові поля та погодьтесь з обробкою персональних даних.';
            errors.classList.remove('hidden');
            return;
          }
          enrollForm.classList.add('hidden');
          if (success) success.classList.remove('hidden');
          if (window.dataLayer) window.dataLayer.push({ event: 'program_enroll', name, phone, email });
        });
      }

      // optional GSAP reveals
      if (window.gsap && gsap.registerPlugin) {
        try {
          gsap.registerPlugin(ScrollTrigger);
          gsap.from(root.querySelectorAll('.card, .week-card'), {
            scrollTrigger: { trigger: root, start: 'top 80%' },
            y: 18, opacity: 0, duration: 0.7, stagger: 0.06, ease: 'power3.out'
          });
        } catch (e) {}
      }

      // scoped style fix (no extra bottom gap, images contain)
      const style = document.createElement('style');
      style.innerHTML = `
        .program-modal:not(.hidden) { display:flex; }
        #program-section img { image-rendering: auto; object-fit: contain; }
        #program-section { padding-bottom: 0 !important; margin-bottom: 0 !important; box-sizing: border-box; }
        /* specific: remove drop shadow class effect on target button if present */
        .no-shadow { box-shadow: none !important; }
      `;
      document.head.appendChild(style);
    })();
  </script>
</section>





<section id="navchannya" aria-labelledby="navchannya-redesign-title" style="font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;">
  <div class="nr-container" style="max-width:1200px;margin:0 auto;padding:48px 20px;box-sizing:border-box;">

    <!-- Заголовок + CTA -->
    <div class="nr-header" style="display:flex;gap:20px;align-items:flex-start;flex-wrap:wrap;justify-content:space-between;">
      <div style="flex:1;min-width:280px;">
        <h2 id="navchannya-redesign-title" style="font-size:34px;margin:0 0 8px;font-weight:800;color:#0B1220;">
          Як ми навчаємося — структуровано, прозоро, орієнтовано на результат
        </h2>
        <p style="margin:0;color:#56606e;font-size:15px;max-width:920px;line-height:1.5;">
          Програма розроблена для тих, хто хоче отримати практичні навички та готове створювати портфоліо. Чіткий роадмап, rubrics, mentor sign-off і career support — усе це в одному інтенсиві. Навчання містить лекції, практику, юзабіліті-тести, рев’ю та підготовку до співбесід.
        </p>
      </div>

      <div style="display:flex;gap:12px;align-items:center;">
        <a class="btn-equal" href="opys_moduliv.html" target="_blank" rel="noopener" style="display:inline-flex;align-items:center;justify-content:center;padding:12px 18px;border-radius:12px;background:#fff;border:1px solid #E6E9EB;color:#0B1220;font-weight:800;text-decoration:none;min-width:170px;box-shadow:0 10px 30px rgba(11,18,22,0.04);">
          Детальний опис модулів
        </a>

        <button id="openSignupTop" class="btn-equal" style="display:inline-flex;align-items:center;justify-content:center;padding:12px 18px;border-radius:12px;background:linear-gradient(180deg,#24C56A,#1fa45e);color:#fff;font-weight:800;border:0;min-width:170px;cursor:pointer;">
          Записатися на консультацію
        </button>
      </div>
    </div>

    <!-- ДОДАНО: Галерея фото (тут розміщуйте ваші файли: for1.png, for2.png, for3.png) -->
    <div class="nr-gallery-wrap" style="margin-top:12px;"> <!-- зменшений відступ, щоб бути ближче -->
      <h4 style="margin:0 0 10px;font-size:16px;color:#0B1220;">Приклади робіт та матеріалів</h4>
      <p style="margin:0 0 12px;color:#6B7280;font-size:13px;max-width:920px;">
        Нижче — ілюстрації/скріни матеріалів курсу. Файли можна замінити своїми з тими ж іменами або вказати інші шляхи.
      </p>

      <!-- Табличка-галерея: плитки приклеєні одна до одної всередині обгортки -->
      <div class="gallery-table" style="margin-top:8px;border-radius:12px;overflow:hidden;box-shadow:0 18px 40px rgba(11,18,22,0.06);border:1px solid rgba(11,18,22,0.04);">
        <div class="gallery-grid" role="list" aria-label="Три приклади робіт" style="display:grid;grid-template-columns:repeat(3,1fr);gap:0;">
          <!-- Кожна плитка — квадратна -->
          <figure class="tile" role="listitem" style="margin:0;aspect-ratio:1/1;background:#fbfff9;display:flex;align-items:center;justify-content:center;padding:6px;box-sizing:border-box;">
            <img src="img/for1.png" alt="Приклад матеріалу 1" loading="lazy"
                 style="width:100%;height:100%;object-fit:contain;display:block;border-radius:8px;">
          </figure>

          <figure class="tile" role="listitem" style="margin:0;aspect-ratio:1/1;background:#fbfff9;display:flex;align-items:center;justify-content:center;padding:6px;box-sizing:border-box;">
            <img src="img/for2.png" alt="Приклад матеріалу 2" loading="lazy"
                 style="width:100%;height:100%;object-fit:contain;display:block;border-radius:8px;">
          </figure>

          <figure class="tile" role="listitem" style="margin:0;aspect-ratio:1/1;background:#fbfff9;display:flex;align-items:center;justify-content:center;padding:6px;box-sizing:border-box;">
            <img src="img/for3.png" alt="Приклад матеріалу 3" loading="lazy"
                 style="width:100%;height:100%;object-fit:contain;display:block;border-radius:8px;">
          </figure>
        </div>
      </div>
    </div>
    <!-- /Галерея -->

    <!-- Картки з фокусом на уніформності кнопок -->
    <div class="nr-features" style="display:grid;grid-template-columns:repeat(3,1fr);gap:18px;margin-top:18px;align-items:stretch;"> <!-- зменшений margin-top для більшого "прилипанння" -->
      <!-- Картка: Формат -->
      <article class="nr-card" data-key="format" data-reveal style="background:#fff;border-radius:12px;padding:20px;box-shadow:0 18px 46px rgba(11,18,22,0.06);display:flex;flex-direction:column;justify-content:space-between;min-height:420px;">
        <div>
          <div style="display:flex;gap:12px;align-items:flex-start;">
            <div style="width:56px;height:56px;border-radius:10px;background:linear-gradient(180deg,#F0FFF4,#ECFDF5);display:grid;place-items:center;font-weight:800;color:#166E3A;border:1px solid rgba(16,185,129,0.06);">
              <!-- іконка/заглушка -->
            </div>
            <div>
              <h3 style="margin:0;font-size:18px;color:#0B1220;font-weight:800;">Формат навчання</h3>
              <p style="margin:6px 0 0;color:#475569;font-size:14px;">Комбінація теорії та практики з чіткими контрольними точками та вимірюваними результатами для кожного блоку.</p>
            </div>
          </div>

          <ul style="margin:14px 0 0;padding-left:18px;color:#334155;font-size:14px;line-height:1.6;">
            <li><strong>2 live-сесії / тиждень:</strong> інтерактивна лекція + розбір кейсу і практика.</li>
            <li><strong>Записи 24/7:</strong> доступ до матеріалів у будь-який час.</li>
            <li><strong>Mentor 1:1:</strong> персональні сесії для кар’єрного та навчального супроводу.</li>
            <li><strong>Peer-review:</strong> структурований обмін відгуками між студентами.</li>
          </ul>

          <div style="margin-top:12px;color:#334155;font-size:14px;line-height:1.5;">
            <strong>Що ви отримаєте:</strong>
            <ol style="margin:8px 0 0;padding-left:18px;">
              <li>Покроковий план роботи над проєктом.</li>
              <li>Набір шаблонів та чеклістів для deliverable.</li>
              <li>Готові приклади та еталони робіт різного рівня.</li>
            </ol>
          </div>
        </div>

        <div class="card-actions" style="display:flex;gap:12px;margin-top:18px;">
          <button class="card-btn btn-equal info-btn" data-open="format" style="flex:1;min-height:52px;border-radius:10px;border:1px solid #E6E9EB;background:#fff;cursor:pointer;font-weight:800;">Детальніше</button>
          <a class="card-btn btn-equal" href="demo_urok.html" target="_blank" rel="noopener" style="flex:1;min-height:52px;border-radius:10px;background:linear-gradient(180deg,#24C56A,#1fa45e);color:#fff;text-decoration:none;font-weight:800;display:inline-flex;align-items:center;justify-content:center;">Переглянути демо</a>
        </div>
      </article>

      <!-- Картка: Комунікація -->
      <article class="nr-card" data-key="comm" data-reveal style="background:#fff;border-radius:12px;padding:20px;box-shadow:0 18px 46px rgba(11,18,22,0.06);display:flex;flex-direction:column;justify-content:space-between;min-height:420px;">
        <div>
          <div style="display:flex;gap:12px;align-items:flex-start;">
            <div style="width:56px;height:56px;border-radius:10px;background:linear-gradient(180deg,#fff7ed,#fff4e6);display:grid;place-items:center;font-weight:800;color:#b45309;border:1px solid rgba(180,83,9,0.06);">
              <!-- заглушка -->
            </div>
            <div>
              <h3 style="margin:0;font-size:18px;color:#0B1220;font-weight:800;">Комунікація та підтримка</h3>
              <p style="margin:6px 0 0;color:#475569;font-size:14px;">Прозорий канал зв'язку, чіткі правила комунікації, оперативні office-hours та план запису на mentor 1:1.</p>
            </div>
          </div>

          <ul style="margin:14px 0 0;padding-left:18px;color:#334155;font-size:14px;line-height:1.6;">
            <li>Slack / Telegram — для оперативного співробітництва та обміну ресурсами.</li>
            <li>Office-hours — двічі на тиждень, з можливістю попереднього запису.</li>
            <li>Інтеграція Calendly — проста організація 1:1 сесій з ментором.</li>
            <li>Автоматичні нагадування про дедлайни та рев’ю.</li>
          </ul>

          <div style="margin-top:12px;color:#334155;font-size:14px;line-height:1.5;">
            <strong>Правила взаємодії в cohort:</strong>
            <ol style="margin:8px 0 0;padding-left:18px;">
              <li>Повага до часу інших — чіткі дедлайни та оновлення статусу.</li>
              <li>Конструктивний фідбек — за шаблоном peer-review.</li>
              <li>Активна участь в обговореннях і сесіях.</li>
            </ol>
          </div>
        </div>

        <div class="card-actions" style="display:flex;gap:12px;margin-top:18px;">
          <button class="card-btn btn-equal info-btn" data-open="comm" style="flex:1;min-height:52px;border-radius:10px;border:1px solid #E6E9EB;background:#fff;cursor:pointer;font-weight:800;">Дізнатись більше</button>
          <a class="card-btn btn-equal" href="instrumet_opanuete.html" target="_blank" rel="noopener" style="flex:1;min-height:52px;border-radius:10px;background:linear-gradient(180deg,#24C56A,#1fa45e);color:#fff;text-decoration:none;font-weight:800;display:inline-flex;align-items:center;justify-content:center;">Інструменти курсу</a>
        </div>
      </article>

      <!-- Картка: Оцінювання -->
      <article class="nr-card" data-key="rubric" data-reveal style="background:#fff;border-radius:12px;padding:20px;box-shadow:0 18px 46px rgba(11,18,22,0.06);display:flex;flex-direction:column;justify-content:space-between;min-height:420px;">
        <div>
          <div style="display:flex;gap:12px;align-items:flex-start;">
            <div style="width:56px;height:56px;border-radius:10px;background:linear-gradient(180deg,#f0f9ff,#eef8ff);display:grid;place-items:center;font-weight:800;color:#0f4c81;border:1px solid rgba(15,76,129,0.06);">
              <!-- заглушка -->
            </div>
            <div>
              <h3 style="margin:0;font-size:18px;color:#0B1220;font-weight:800;">Оцінювання та сертифікація</h3>
              <p style="margin:6px 0 0;color:#475569;font-size:14px;">Розгорнута рубрика, зрозумілі критерії та процедура остаточного mentor sign-off для видачі сертифіката.</p>
            </div>
          </div>

          <ul style="margin:14px 0 0;padding-left:18px;color:#334155;font-size:14px;line-height:1.6;">
            <li>5 ключових критеріїв: Research, Interaction, Visual, Accessibility, Handoff.</li>
            <li>Peer + Mentor scoring — сумісне оцінювання з текстовими коментарями.</li>
            <li>Чіткі пороги проходження: мінімальний набір для портфоліо-ready.</li>
            <li>Можливість апеляції та план корекції в разі потреби.</li>
          </ul>

          <div style="margin-top:12px;color:#334155;font-size:14px;line-height:1.5;">
            <strong>Що входить до пакету оцінювання:</strong>
            <ol style="margin:8px 0 0;padding-left:18px;">
              <li>Перелік критеріїв з описом для оцінок 0–10.</li>
              <li>Приклади робіт для кожного рівня як орієнтир.</li>
              <li>Інструкції для peer-review та шаблони зворотного зв'язку.</li>
            </ol>
          </div>
        </div>

        <div class="card-actions" style="display:flex;gap:12px;margin-top:18px;">
          <button class="card-btn btn-equal info-btn" data-open="rubric" style="flex:1;min-height:52px;border-radius:10px;border:1px solid #E6E9EB;background:#fff;cursor:pointer;font-weight:800;">Показати шаблон</button>
          <a class="card-btn btn-equal" href="opys_moduliv.html" target="_blank" rel="noopener" style="flex:1;min-height:52px;border-radius:10px;background:linear-gradient(180deg,#24C56A,#1fa45e);color:#fff;text-decoration:none;font-weight:800;display:inline-flex;align-items:center;justify-content:center;">Деталі модулів</a>
        </div>
      </article>
    </div>

    <!-- Roadmap + деталі -->
    <div class="nr-timeline-wrap" style="margin-top:36px;display:flex;gap:18px;align-items:flex-start;flex-wrap:wrap;">
      <nav class="nr-rail" aria-label="Roadmap steps" style="width:300px;flex:0 0 300px;">
        <div style="background:#fff;padding:16px;border-radius:12px;box-shadow:0 18px 46px rgba(11,18,22,0.06);">
          <h4 style="margin:0 0 8px;font-size:16px;color:#0B1220;">Roadmap по тижнях</h4>
          <p style="margin:0 0 12px;color:#6B7280;font-size:13px;">Нижче — приклади ключових deliverable, задач та критеріїв оцінки для кожного тижня.</p>

          <ol style="list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:10px;">
            <li>
              <button class="nr-step" data-step="week1" aria-expanded="false" style="width:100%;text-align:left;padding:12px;border-radius:10px;border:1px solid #EEF2F6;background:#fff;cursor:pointer;">
                <div style="display:flex;justify-content:space-between;align-items:center;"><span style="font-weight:800;">Тиждень 1</span><small style="color:#6B7280">Початок дослідження</small></div>
                <div style="margin-top:6px;color:#6B7280;font-size:13px;">Research brief, користувацькі інтерв’ю, CJM</div>
              </button>
            </li>

            <li>
              <button class="nr-step" data-step="week2" aria-expanded="false" style="width:100%;text-align:left;padding:12px;border-radius:10px;border:1px solid #EEF2F6;background:#fff;cursor:pointer;">
                <div style="display:flex;justify-content:space-between;align-items:center;"><span style="font-weight:800;">Тиждень 2</span><small style="color:#6B7280">Wireframing</small></div>
                <div style="margin-top:6px;color:#6B7280;font-size:13px;">Flows, low→mid fidelity, interaction specs</div>
              </button>
            </li>

            <li>
              <button class="nr-step" data-step="week3" aria-expanded="false" style="width:100%;text-align:left;padding:12px;border-radius:10px;border:1px solid #EEF2F6;background:#fff;cursor:pointer;">
                <div style="display:flex;justify-content:space-between;align-items:center;"><span style="font-weight:800;">Тиждень 3</span><small style="color:#6B7280">UI та система дизайну</small></div>
                <div style="margin-top:6px;color:#6B7280;font-size:13px;">Design tokens, компоненти, accessibility</div>
              </button>
            </li>

            <li>
              <button class="nr-step" data-step="week4" aria-expanded="false" style="width:100%;text-align:left;padding:12px;border-radius:10px;border:1px solid #EEF2F6;background:#fff;cursor:pointer;">
                <div style="display:flex;justify-content:space-between;align-items:center;"><span style="font-weight:800;">Тиждень 4</span><small style="color:#6B7280">Прототипування та тестування</small></div>
                <div style="margin-top:6px;color:#6B7280;font-size:13px;">Clickable prototype, usability testing, підготовка до релізу</div>
              </button>
            </li>
          </ol>
        </div>
      </nav>

      <div class="nr-detail-panel" style="flex:1;min-width:360px;">
        <div id="nrDetailCard" style="background:linear-gradient(180deg,#fff,#FBFFF8);padding:18px;border-radius:12px;box-shadow:0 22px 60px rgba(11,18,22,0.06);min-height:260px;">
          <header style="display:flex;justify-content:space-between;align-items:flex-start;gap:12px;">
            <div>
              <h3 id="nrDetailTitle" style="margin:0;font-size:20px;color:#0B1220;">Оберіть крок у roadmap</h3>
              <p id="nrDetailSub" style="margin:8px 0 0;color:#6B7280;font-size:14px;">Тут з'явиться розгорнута інформація: deliverable, задачі, чеклісти, ресурси.</p>
            </div>

            <div style="display:flex;flex-direction:column;gap:8px;align-items:flex-end;">
              <a id="nrDemoLink" href="demo_urok.html" target="_blank" rel="noopener" style="padding:8px 12px;border-radius:10px;background:linear-gradient(180deg,#24C56A,#1fa45e);color:#fff;text-decoration:none;font-weight:800;min-width:140px;text-align:center;">Переглянути демо</a>
              <a id="nrModulesLink" href="opys_moduliv.html" target="_blank" rel="noopener" style="padding:8px 12px;border-radius:10px;background:#fff;border:1px solid #E6E9EB;color:#0B1220;text-decoration:none;font-weight:800;min-width:140px;text-align:center;">Детальний опис</a>
            </div>
          </header>

          <div id="nrDetailBody" style="margin-top:14px;color:#334155;line-height:1.6;">
            <p style="margin:0;">Почніть з вибору тижня зліва. Ми покажемо: що має бути в deliverable, приклади оформлення, чеклісти задач і критерії оцінювання.</p>
          </div>
        </div>

        <div style="display:flex;gap:12px;margin-top:14px;flex-wrap:wrap;">
          <div style="flex:0 0 160px;background:#fff;padding:12px;border-radius:10px;box-shadow:0 12px 36px rgba(11,18,22,0.04);">
            <div style="font-size:13px;color:#6B7280;">Середній час</div>
            <div style="font-weight:800;margin-top:6px;color:#0B1220;">8–12 год / модуль</div>
          </div>
          <div style="flex:0 0 160px;background:#fff;padding:12px;border-radius:10px;box-shadow:0 12px 36px rgba(11,18,22,0.04);">
            <div style="font-size:13px;color:#6B7280;">Практика</div>
            <div style="font-weight:800;margin-top:6px;color:#0B1220;">10 проєктів</div>
          </div>
          <div style="flex:0 0 160px;background:#fff;padding:12px;border-radius:10px;box-shadow:0 12px 36px rgba(11,18,22,0.04);">
            <div style="font-size:13px;color:#6B7280;">Career</div>
            <div style="font-weight:800;margin-top:6px;color:#0B1220;">Mock interviews та CV-підготовка</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- МОДАЛКА: ДЕТАЛЬНІШЕ (великий контент українською) -->
  <div id="nrModal" aria-hidden="true" role="dialog" aria-modal="true" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:3000;">
    <div id="nrModalBackdrop" data-close style="position:absolute;inset:0;background:rgba(8,12,10,0.6);backdrop-filter:blur(3px);"></div>

    <div role="document" id="nrModalPanel" tabindex="-1" style="position:relative;z-index:3001;width:94%;max-width:980px;max-height:88vh;overflow:auto;background:#fff;border-radius:14px;padding:24px;box-shadow:0 40px 120px rgba(6,25,10,0.25);">
      <button id="nrModalClose" aria-label="Закрити" data-close style="position:absolute;right:14px;top:12px;background:transparent;border:0;font-size:20px;cursor:pointer;color:#475569;">✕</button>
      <h3 id="nrModalTitle" style="margin:0 0 8px;font-size:22px;color:#0B1220;"></h3>
      <p id="nrModalLead" style="margin:0 0 14px;color:#6B7280;"></p>

      <div id="nrModalContent" style="color:#334155;line-height:1.6;">
        <!-- Контент заповнюється JS (укр) -->
      </div>

      <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:18px;">
        <a id="nrModalDemo" class="btn-equal" href="demo_urok.html" target="_blank" rel="noopener" style="display:inline-flex;align-items:center;justify-content:center;padding:10px 14px;border-radius:10px;background:linear-gradient(180deg,#24C56A,#1fa45e);color:#fff;text-decoration:none;font-weight:800;min-width:140px;">Переглянути демо</a>
        <button id="nrModalToSignup" class="btn-equal" style="display:inline-flex;align-items:center;justify-content:center;padding:10px 14px;border-radius:10px;border:1px solid #E6E9EB;background:#fff;cursor:pointer;font-weight:800;min-width:140px;">Записатися</button>
        <button data-close class="btn-equal" style="display:inline-flex;align-items:center;justify-content:center;padding:10px 14px;border-radius:10px;border:1px solid #E6E9EB;background:#fff;cursor:pointer;font-weight:800;min-width:140px;">Закрити</button>
      </div>
    </div>
  </div>

  <!-- МОДАЛКА: ФОРМА ЗАПИСУ (вичерпна, укр) -->
  <div id="signupModal" aria-hidden="true" role="dialog" aria-modal="true" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:3100;">
    <div id="signupBackdrop" data-close style="position:absolute;inset:0;background:rgba(8,12,10,0.6);backdrop-filter:blur(3px);"></div>

    <div role="document" id="signupPanel" tabindex="-1" style="position:relative;z-index:3101;width:94%;max-width:820px;max-height:90vh;overflow:auto;background:#fff;border-radius:12px;padding:22px;box-shadow:0 40px 120px rgba(6,25,10,0.25);">
      <button id="signupClose" aria-label="Закрити" data-close style="position:absolute;right:14px;top:12px;background:transparent;border:0;font-size:20px;cursor:pointer;color:#475569;">✕</button>
      <h3 style="margin:0 0 8px;font-size:22px;color:#0B1220;">Заявка на запис / консультацію</h3>
      <p style="margin:0 0 14px;color:#6B7280;">Заповніть форму — наш менеджер зв'яжеться для уточнення деталей. Усі поля, позначені *, обов’язкові.</p>

      <form id="signupForm" style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px;">
        <input type="hidden" name="source" id="signupSource" value="">

        <label style="display:flex;flex-direction:column;gap:6px;">
          <span style="font-size:13px;color:#475569;">Ім'я та прізвище *</span>
          <input name="name" required type="text" placeholder="Ім'я Прізвище" style="padding:12px;border-radius:8px;border:1px solid #E6E9EB;font-size:14px;">
        </label>

        <label style="display:flex;flex-direction:column;gap:6px;">
          <span style="font-size:13px;color:#475569;">Email *</span>
          <input name="email" required type="email" placeholder="name@example.com" style="padding:12px;border-radius:8px;border:1px solid #E6E9EB;font-size:14px;">
        </label>

        <label style="display:flex;flex-direction:column;gap:6px;">
          <span style="font-size:13px;color:#475569;">Телефон</span>
          <input name="phone" type="tel" placeholder="+380 99 000 00 00" style="padding:12px;border-radius:8px;border:1px solid #E6E9EB;font-size:14px;">
        </label>

        <label style="display:flex;flex-direction:column;gap:6px;">
          <span style="font-size:13px;color:#475569;">Програма або напрям</span>
          <select name="course" style="padding:12px;border-radius:8px;border:1px solid #E6E9EB;font-size:14px;">
            <option value="uxui">UX/UI — повний курс</option>
            <option value="mini">Міні-інтенсив</option>
            <option value="career">Career Booster</option>
          </select>
        </label>

        <label style="grid-column:1 / -1;display:flex;flex-direction:column;gap:6px;">
          <span style="font-size:13px;color:#475569;">Коротко: ваш досвід і ціль *</span>
          <textarea name="message" required rows="4" placeholder="Наприклад: 2 роки в frontend, хочу перейти в UX, шукаю портфоліо" style="padding:12px;border-radius:8px;border:1px solid #E6E9EB;font-size:14px;"></textarea>
        </label>

        <label style="grid-column:1 / -1;display:flex;align-items:center;gap:10px;">
          <input type="checkbox" name="consent" required>
          <span style="font-size:13px;color:#6B7280;">Погоджуюсь на обробку персональних даних *</span>
        </label>

        <div style="grid-column:1 / -1;display:flex;gap:12px;justify-content:flex-end;margin-top:4px;">
          <button type="button" class="btn-cancel" data-close style="padding:10px 14px;border-radius:10px;border:1px solid #E6E9EB;background:#fff;cursor:pointer;font-weight:800;">Скасувати</button>
          <button type="submit" class="btn-submit" style="padding:10px 14px;border-radius:10px;background:linear-gradient(180deg,#24C56A,#1fa45e);color:#fff;border:0;cursor:pointer;font-weight:800;">Відправити заявку</button>
        </div>

        <div id="signupStatus" style="grid-column:1 / -1;display:none;margin-top:10px;font-size:14px;"></div>
      </form>
    </div>
  </div>

  <!-- СТИЛІ: уніфікація кнопок та responsive -->
  <style>
    :root{
      --accent: #16a34a;
      --muted: #6B7280;
      --text: #0B1220;
    }

    /* Уніфіковані кнопки: всі однакового мін. розміру у групі */
    .btn-equal { min-height:48px; box-sizing:border-box; font-weight:800; border-radius:10px; display:inline-flex; align-items:center; justify-content:center; padding:0 14px; }
    .card-actions .btn-equal, .card-actions .card-btn { min-height:52px; font-size:15px; }
    .card-actions .card-btn { display:inline-flex; align-items:center; justify-content:center; text-decoration:none; }

    /* Групи кнопок витягуються однаково (під лінійку) */
    .card-actions { display:flex; gap:12px; }
    .card-actions .card-btn { flex:1; }

    /* Фокус */
    button:focus, a:focus { outline:3px solid rgba(36,197,106,0.14); outline-offset:3px; border-radius:8px; }

    /* Responsive */
    @media (max-width:1000px) { .nr-features { grid-template-columns:repeat(2,1fr); } .nr-gallery { grid-template-columns:repeat(2,1fr); } }
    @media (max-width:700px) {
      .nr-features { grid-template-columns:1fr; }
      .nr-timeline-wrap { flex-direction:column; }
      .nr-rail { width:100%; }
      .nr-detail-panel { width:100%; }
      .nr-gallery { grid-template-columns:1fr; }
    }

    /* СТИЛІ ГАЛЕРЕЇ: квадратні плитки, легке закруглення фото, плитки близько до таблички */
    .gallery-table { max-width:100%; }
    .gallery-grid { width:100%; gap:0; display:grid; grid-template-columns:repeat(3,1fr); }

    .gallery-grid .tile { padding:6px; box-sizing:border-box; background:#fbfff9; display:flex; align-items:center; justify-content:center; }
    .gallery-grid .tile img { width:100%; height:100%; object-fit:contain; display:block; border-radius:8px; box-shadow: 0 6px 18px rgba(11,18,22,0.04); background:transparent; }

    /* Класична nr-gallery (як дубль у низу) теж підправлена, щоб фото були квадратні і закруглені */
    .nr-gallery { display: grid; grid-template-columns: repeat(3, 1fr); gap:8px; margin-top:12px; }
    .img-frame { border-radius:12px; overflow:hidden; background:#fbfff9; display:flex; align-items:center; justify-content:center; padding:8px; box-shadow: 0 8px 20px rgba(11,18,22,0.04); transition: transform .15s ease, box-shadow .15s ease; }
    .img-frame:hover { transform: translateY(-4px); box-shadow: 0 18px 40px rgba(11,18,22,0.08); }
    .img-frame { box-sizing:border-box; }
    .img-frame img { width:100%; height:100%; object-fit:contain; display:block; aspect-ratio:1/1; border-radius:8px; }

    /* Адаптив: дві колонки на tablet, одна на мобільних для обох галерей */
    @media (max-width:1000px) {
      .gallery-grid { grid-template-columns:repeat(2,1fr); }
      .nr-gallery { grid-template-columns:repeat(2,1fr); }
    }
    @media (max-width:700px) {
      .gallery-grid { grid-template-columns:1fr; }
      .nr-gallery { grid-template-columns:1fr; }
    }
  </style>

  <!-- JS: наповнення модалок, roadmap, форма — все українською -->
  <script>
    (function(){
      // (JS код збережено без змін функціоналу, тільки структурно прив'язаний до елементів)
      // Детальний контент українською
      const DETAIL_DATA = {
        format: {
          title: 'Формат навчання — детально',
          lead: 'Повний опис структури занять, deliverable, вимог до робіт і приклади оформлення.',
          sections: [
            {
              h: 'Щотижнева структура',
              p: [
                'Кожен тиждень складається з двох live-сесій: перша — концептуальна (теорія, приклади), друга — практична (розбір кейсу, робота в групах).',
                'Між сесіями студенти виконують практичні завдання з чіткими deliverable, які оцінюються за рубрикою.'
              ]
            },
            {
              h: 'Deliverable: формат та очікування',
              p: [
                'Кожне deliverable має стандартну структуру: коротке резюме, цілі, методи, результати (з доказами), висновки та список наступних кроків.',
                'Очікується, що студент пояснить свої дизайн-рішення, приведе реальні дані з інтерв’ю або тестів та вкаже метрики успіху.'
              ]
            },
            {
              h: 'Типи вправ та формат перевірки',
              p: [
                'Research tasks: інтерв’ю, аналіз конкурентів, створення persona та CJM.',
                'Interaction tasks: картографування потоків, прототипування, тестування сценаріїв.',
                'Visual tasks: дизайн екранів, дизайн-система, стилі та компоненти.',
                'Кожне завдання проходить peer-review з шаблоном коментарів, після чого mentor згоджує фінальну оцінку.'
              ]
            },
            {
              h: 'Підтримка та матеріали',
              p: [
                'Усі матеріали (шаблони, чеклісти, приклади) доступні в загальному ресурсному сховищі.',
                'Записи занять і транскрипти додаються до матеріалів курсу.'
              ]
            }
          ],
          resources: [
            {label:'Шаблон deliverable (PDF)', href:'#'},
            {label:'Чекліст оцінювання', href:'#'},
            {label:'Приклады: research brief, CJM, prototype', href:'#'}
          ]
        },

        comm: {
          title: 'Комунікація та організація cohort',
          lead: 'Опис каналів комунікації, правил співпраці, запису на 1:1 та організації peer-review.',
          sections: [
            {
              h: 'Канали зв\'язку',
              p: [
                'Slack — головний канал для обговорень, публікації ресурсів та оголошень.',
                'Telegram — оперативні короткі повідомлення та нагадування.',
                'Email — для офіційних повідомлень та сертифікаційних листів.'
              ]
            },
            {
              h: 'Office hours та запис на 1:1',
              p: [
                'Office-hours проводяться двічі на тиждень для групових питань. Індивідуальні 1:1 сесії організовуються через Calendly за попереднім записом.',
                'Під час 1:1 ментор перевіряє індивідуальний прогрес, допомагає зі стратегією портфоліо і кар’єрними цілями.'
              ]
            },
            {
              h: 'Peer-review: як це працює',
              p: [
                'Peer-review має чітку структуру: оцінка за критеріями, короткі коментарі та рекомендації по покращенню.',
                'Кожен студент отримує мінімум два peer-feedback та один mentor-feedback перед фінальною оцінкою.'
              ]
            }
          ],
          resources: [
            {label:'Інструкція: як давати peer-feedback', href:'#'},
            {label:'Calendly — інструкція для запису', href:'#'}
          ]
        },

        rubric: {
          title: 'Рубрика оцінювання — повний опис',
          lead: 'Докладний опис критеріїв, ваги, прикладів для різних рівнів оцінки і процедури апеляції.',
          sections: [
            {
              h: 'Критерії і їхня вага',
              p: [
                'Research (25%): глибина дослідження, якість інтерв\'ю, наявність доказів.',
                'Interaction (20%): повнота flow, edge-cases, interaction spec.',
                'Visual (20%): візуальна послідовність, типографіка, ієрархія.',
                'Accessibility (15%): контрастність, доступність елементів, semantic HTML при необхідності.',
                'Handoff (20%): підготовка пакету для розробників: specs, assets, tokens.'
              ]
            },
            {
              h: 'Оцінка: приклади для 0 / 5 / 10',
              p: [
                'Приклад для Research: 0 — відсутні інтерв\'ю та дані; 5 — базові інтерв\'ю, поверхнева синтез; 10 — глибокий аналіз, пріоритети обґрунтовані даними.',
                'Для кожного критерію є приклад робіт та чекліст, за яким відбувається оцінка.'
              ]
            },
            {
              h: 'Процедура апеляції',
              p: [
                'Якщо студент не погоджується з оцінкою, він має право подати апеляцію з аргументованими матеріалами.',
                'Апеляцію розглядає незалежна комісія з ментора та двох експертів; можливий повторний перегляд роботи.'
              ]
            }
          ],
          resources: [
            {label:'Завантажити повну рубрику (PDF)', href:'#'},
            {label:'Приклади оцінених робіт', href:'#'}
          ]
        }
      };

      // Roadmap дані українською, детально
      const STEP_DATA = {
        week1: {
          title: 'Тиждень 1 — Research kickoff',
          lead: 'Фокус на розумінні проблеми користувача: research brief, інтерв’ю, customer journey map.',
          deliverables: [
            'Research brief — 1 сторінка з цілями та гіпотезами',
            'Звіт по 5 інтерв\'ю з нотатками та ключовими цитатами',
            'Persona та Customer Journey Map',
            'Список початкових метрик успіху'
          ],
          tasks: [
            'Написати interview guide',
            'Провести 5 модераційних інтерв\'ю',
            'Синтезувати інсайти в affinity map',
            'Створити першу версію CJM'
          ],
          rubric: [
            'Глибина research (0–10)',
            'Якість інсайтів (0–10)',
            'Екшн-орієнтованість висновків (0–10)'
          ],
          resources: [
            {label:'Шаблон research brief', href:'#'},
            {label:'Check-list для інтерв\'ю', href:'#'}
          ]
        },
        week2: {
          title: 'Тиждень 2 — Wireframing & flows',
          lead: 'Проектування основних потоків, low→mid-fidelity wireframes, interaction spec.',
          deliverables: [
            'Task flow diagrams для основних сценаріїв',
            'Lo / Mid-fi wireframes для ключових екранів',
            'Interaction spec з обробкою edge cases'
          ],
          tasks: [
            'Задокументувати основні user flows',
            'Намалювати wireframes для mobile та desktop',
            'Описати стани помилок та пусті стани'
          ],
          rubric: [
            'Повнота flows (0–10)',
            'Зрозумілість interaction (0–10)',
            'Врахування доступності (0–10)'
          ],
          resources: [
            {label:'Wireframe checklist', href:'#'},
            {label:'Interaction patterns — бібліотека', href:'#'}
          ]
        },
        week3: {
          title: 'Тиждень 3 — UI та Design System',
          lead: 'Створення системи дизайну: tokens, компоненти, візуальна ієрархія, accessibility.',
          deliverables: [
            'Design tokens (кольори, spacing, типографіка)',
            'Component library: 8–12 компонентів з документацією',
            'Style guide та приклади екранів'
          ],
          tasks: [
            'Розробити шкали кольорів та типографіки',
            'Задизайнити та задокументувати базові компоненти',
            'Підготувати інструкцію для передачі дизайну розробникам'
          ],
          rubric: [
            'Консистентність візуалу (0–10)',
            'Повторне використання компонентів (0–10)',
            'Повнота handoff-пакету (0–10)'
          ],
          resources: [
            {label:'Starter: design tokens', href:'#'},
            {label:'Accessibility contrast checker', href:'#'}
          ]
        },
        week4: {
          title: 'Тиждень 4 — Prototyping & Testing',
          lead: 'Побудова клікабельного прототипу та проведення usability-тестів, пріоритизація правок.',
          deliverables: [
            'Clickable prototype (Figma / HTML)',
            'План та результати usability-тестів (3–5 сесій)',
            'Список пріоритетних правок'
          ],
          tasks: [
            'Побудувати сценарії для тестування',
            'Залучити учасників та провести тести',
            'Синтезувати результати і сформувати backlog виправлень'
          ],
          rubric: [
            'Fidelity прототипу (0–10)',
            'Якість виконання тестування (0–10)',
            'Практичність запропонованих виправлень (0–10)'
          ],
          resources: [
            {label:'Checklist: prototype', href:'#'},
            {label:'Usability test template', href:'#'}
          ]
        }
      };

      // Рендер detail панелі для кроків
      const stepButtons = document.querySelectorAll('#navchannya .nr-step');
      const detailTitle = document.getElementById('nrDetailTitle');
      const detailSub = document.getElementById('nrDetailSub');
      const detailBody = document.getElementById('nrDetailBody');

      function renderDetail(key){
        const d = STEP_DATA[key];
        if(!d) return;
        detailTitle.textContent = d.title;
        detailSub.textContent = d.lead;
        detailBody.innerHTML = `
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
            <div>
              <h4 style="margin:0 0 8px;color:#0B1220;">Deliverable</h4>
              <ul style="margin:0;padding-left:18px;color:#334155;">${d.deliverables.map(i=>`<li>${i}</li>`).join('')}</ul>
            </div>
            <div>
              <h4 style="margin:0 0 8px;color:#0B1220;">Критерії оцінки</h4>
              <ul style="margin:0;padding-left:18px;color:#334155;">${d.rubric.map(i=>`<li>${i}</li>`).join('')}</ul>
            </div>
          </div>
          <div style="margin-top:12px;">
            <h4 style="margin:0 0 8px;color:#0B1220;">Практичні завдання</h4>
            <ol style="margin:0;padding-left:18px;color:#334155;">${d.tasks.map(i=>`<li>${i}</li>`).join('')}</ol>
            <div style="margin-top:10px;color:#6B7280;">Ресурси: ${d.resources.map(r=>`<a href="${r.href}" target="_blank" rel="noopener" style="color:#166E3A;text-decoration:none">${r.label}</a>`).join(', ')}</div>
          </div>
        `;
      }

      stepButtons.forEach(btn=>{
        btn.addEventListener('click', ()=>{ stepButtons.forEach(b => b.setAttribute('aria-expanded','false')); btn.setAttribute('aria-expanded','true'); renderDetail(btn.dataset.step); });
        btn.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); btn.click(); } });
      });
      if(stepButtons[0]) stepButtons[0].click();

      // Модалки: детальна та запис
      const modal = document.getElementById('nrModal');
      const modalBackdrop = document.getElementById('nrModalBackdrop');
      const modalPanel = document.getElementById('nrModalPanel');
      const modalClose = document.getElementById('nrModalClose');
      const modalTitle = document.getElementById('nrModalTitle');
      const modalLead = document.getElementById('nrModalLead');
      const modalContent = document.getElementById('nrModalContent');
      const modalToSignup = document.getElementById('nrModalToSignup');

      function buildContent(data){
        if(!data) return '<p style="color:#334155;">Деталі тимчасово відсутні.</p>';
        let html = '';
        data.sections.forEach(s=>{
          html += `<section style="margin-bottom:12px;"><h4 style="margin:0 0 8px;color:#0B1220;">${s.h}</h4>`;
          s.p.forEach(par => html += `<p style="margin:0 0 10px;color:#334155;line-height:1.6;">${par}</p>`);
          html += `</section>`;
        });
        if(data.resources && data.resources.length){
          html += `<section><h4 style="margin:0 0 8px;color:#0B1220;">Ресурси</h4><ul style="padding-left:18px;">${data.resources.map(r=>`<li><a href="${r.href}" target="_blank" rel="noopener" style="color:#166E3A;text-decoration:none;">${r.label}</a></li>`).join('')}</ul></section>`;
        }
        return html;
      }

      // Відкриття "Детальніше" при натисканні на кнопки в картках
      document.querySelectorAll('.info-btn, [data-open]').forEach(btn=>{
        btn.addEventListener('click', function(){
          const key = this.getAttribute('data-open') || this.closest('[data-key]')?.getAttribute('data-key');
          const data = DETAIL_DATA[key] || null;
          modalTitle.textContent = data ? data.title : 'Інформація';
          modalLead.textContent = data ? data.lead : '';
          modalContent.innerHTML = buildContent(data);
          document.getElementById('signupSource').value = data ? data.title : '';
          openModal();
        });
      });

      function openModal(){
        modal.style.display = 'flex';
        modal.setAttribute('aria-hidden','false');
        document.documentElement.style.overflow = 'hidden';
        setTimeout(()=>modalPanel.focus(),40);
        removeTrap && removeTrap();
        removeTrap = trapFocus(modalPanel);
      }
      function closeModal(){ modal.style.display = 'none'; modal.setAttribute('aria-hidden','true'); document.documentElement.style.overflow=''; removeTrap && removeTrap(); }

      modalBackdrop.addEventListener('click', closeModal);
      modalClose.addEventListener('click', closeModal);
      document.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && modal.style.display==='flex') closeModal(); });

      // Кнопка в модалці переводить до форми запису
      modalToSignup.addEventListener('click', function(){
        closeModal();
        openSignupModal();
      });

      // Форма запису: відкриття/закриття та відправка
      const signupModal = document.getElementById('signupModal');
      const signupBackdrop = document.getElementById('signupBackdrop');
      const signupPanel = document.getElementById('signupPanel');
      const signupClose = document.getElementById('signupClose');
      const signupForm = document.getElementById('signupForm');
      const signupStatus = document.getElementById('signupStatus');

      function openSignupModal(source){
        if(source) document.getElementById('signupSource').value = source;
        signupModal.style.display = 'flex';
        signupModal.setAttribute('aria-hidden','false');
        document.documentElement.style.overflow = 'hidden';
        setTimeout(()=>signupPanel.focus(),40);
        removeTrap && removeTrap();
        removeTrap = trapFocus(signupPanel);
      }
      function closeSignupModal(){ signupModal.style.display='none'; signupModal.setAttribute('aria-hidden','true'); document.documentElement.style.overflow=''; removeTrap && removeTrap(); signupStatus.style.display='none'; signupForm.reset(); }

      document.getElementById('openSignupTop').addEventListener('click', ()=>openSignupModal('Запит з верхньої CTA'));

      document.querySelectorAll('.sign-btn, [data-signup]').forEach(btn=>{
        btn.addEventListener('click', function(){ const key = this.getAttribute('data-signup') || this.closest('[data-key]')?.getAttribute('data-key'); openSignupModal( key ? (DETAIL_DATA[key] ? DETAIL_DATA[key].title : '') : '' ); });
      });

      signupBackdrop.addEventListener('click', closeSignupModal);
      signupClose.addEventListener('click', closeSignupModal);
      document.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && signupModal.style.display==='flex') closeSignupModal(); });

      signupForm.addEventListener('submit', function(e){
        e.preventDefault();
        const form = new FormData(signupForm);
        const name = form.get('name')?.trim();
        const email = form.get('email')?.trim();
        const message = form.get('message')?.trim();
        const consent = form.get('consent');

        signupStatus.style.display = 'block';
        signupStatus.style.color = '#b45309';
        signupStatus.textContent = '';

        if(!name || !email || !message || !consent){
          signupStatus.style.color = '#b45309';
          signupStatus.textContent = 'Будь ласка, заповніть усі обов\'язкові поля та погодьтеся на обробку даних.';
          return;
        }

        const submitBtn = signupForm.querySelector('.btn-submit');
        submitBtn.disabled = true;
        const prev = submitBtn.textContent;
        submitBtn.textContent = 'Відправляється...';

        // Тут — місце підключення реального API. Поки що імітація.
        setTimeout(()=>{
          submitBtn.disabled = false;
          submitBtn.textContent = prev;
          signupStatus.style.color = '#166E3A';
          signupStatus.textContent = 'Дякуємо! Ваша заявка прийнята. Наш менеджер зв\'яжеться протягом робочого дня.';
          setTimeout(()=>closeSignupModal(), 1500);
        }, 1100);
      });

      // Простий trap focus для модальних вікон
      let removeTrap = null;
      function trapFocus(container){
        const focusable = Array.from(container.querySelectorAll('a[href],button:not([disabled]),textarea, input, select,[tabindex]:not([tabindex="-1"])'))
          .filter(n => n.offsetParent !== null);
        if(!focusable.length) return ()=>{};
        const first = focusable[0], last = focusable[focusable.length-1];
        function handler(e){
          if(e.key !== 'Tab') return;
          if(e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
          if(!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
        }
        document.addEventListener('keydown', handler);
        return ()=>document.removeEventListener('keydown', handler);
      }

      // Reveal on scroll (плавна анімація)
      const revealEls = document.querySelectorAll('#navchannya [data-reveal]');
      const io = new IntersectionObserver((entries, obs) => {
        entries.forEach(en => {
          if(en.isIntersecting){
            en.target.style.opacity = 1;
            en.target.style.transform = 'none';
            obs.unobserve(en.target);
          }
        });
      }, {threshold: 0.12});
      revealEls.forEach(el=>{
        el.style.opacity = 0;
        el.style.transform = 'translateY(14px)';
        el.style.transition = 'opacity .7s ease,transform .7s cubic-bezier(.2,.9,.2,1)';
        io.observe(el);
      });

      // Smooth scroll для CTA (якщо елемент існує)
      document.querySelectorAll('[data-scroll]').forEach(a=>{
        a.addEventListener('click', (e)=>{
          e.preventDefault();
          const target = document.querySelector(a.getAttribute('href'));
          if(target) target.scrollIntoView({behavior:'smooth',block:'start'});
          else window.location.href = a.getAttribute('href');
        });
      });
    })();
  </script>
</section>
<!-- КІНЕЦЬ СЕКЦІЇ -->




<!-- Вставити в <head>, якщо ще немає шрифтів -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

<!-- ===== ВЕЛИКА СЕКЦІЯ: Кейси випускників (українською) ===== -->
<section id="cases-ua" aria-labelledby="cases-ua-title" style="font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial; background:#fbfdfb; padding:48px 20px;">
  <style>
    :root{
      --accent:#10b981;
      --accent-2:#059669;
      --card-radius:14px;
      --btn-radius:12px;
      --card-gap:22px;
    }
    #cases-ua { color:#071233; max-width:1280px; margin:0 auto; }
    #cases-ua .header { text-align:center; margin-bottom:20px; }
    #cases-ua h2 { font-size:30px; font-weight:800; margin:0; }
    #cases-ua p.lead { color:#475569; margin-top:8px; max-width:980px; margin-left:auto; margin-right:auto; }

    .cs-controls { display:flex; gap:10px; align-items:center; justify-content:flex-start; margin:18px 0 28px; flex-wrap:wrap; }
    .cs-controls select, .cs-controls button { border-radius:10px; border:1px solid rgba(15,23,42,0.06); background:#fff; padding:8px 12px; font-weight:600; }

    .cs-grid { display:grid; gap:var(--card-gap); grid-template-columns:1fr; }
    @media(min-width:700px){ .cs-grid{ grid-template-columns:repeat(2,1fr); } }
    @media(min-width:1100px){ .cs-grid{ grid-template-columns:repeat(3,1fr); } }

    .cs-card { display:flex; flex-direction:column; justify-content:space-between; border-radius:var(--card-radius); background:#fff; padding:18px; box-shadow:0 20px 45px rgba(12,15,25,0.06); border:1px solid rgba(15,23,42,0.03); transition:transform .26s ease, box-shadow .26s ease; min-height:320px; }
    .cs-card:hover, .cs-card:focus-within { transform:translateY(-6px); box-shadow:0 36px 80px rgba(12,15,25,0.12); }

    .card-top { display:flex; gap:14px; align-items:flex-start; }
    .avatar { width:72px; height:72px; border-radius:12px; display:flex; align-items:center; justify-content:center; color:#fff; font-weight:900; font-size:26px; flex-shrink:0; overflow:hidden; background:#e6f7f1; }
    .avatar img { width:72px; height:72px; object-fit:cover; display:block; border-radius:12px; }

    .card-meta { display:flex; flex-direction:column; }
    .card-title { font-weight:800; font-size:16px; margin:0; }
    .card-company { color:#6b7280; font-size:13px; margin-top:6px; display:flex; gap:8px; align-items:center; }
    .badge { padding:6px 8px; border-radius:10px; font-weight:800; font-size:12px; background:#f0fdf4; color:var(--accent-2); }

    .headline { margin-top:12px; font-weight:900; font-size:18px; color:#071233; }
    .subline { color:#475569; font-size:13px; margin-top:8px; }
    .tools { color:#475569; font-size:13px; margin-top:8px; }

    .card-actions { display:flex; gap:12px; align-items:center; margin-top:12px; }
    .btn { border-radius:var(--btn-radius); padding:10px 16px; font-weight:800; cursor:pointer; border:0; display:inline-flex; align-items:center; justify-content:center; }
    .btn-primary { background:linear-gradient(180deg,var(--accent),var(--accent-2)); color:#fff; box-shadow:0 10px 30px rgba(16,185,129,0.12); }
    .btn-ghost { background:#fff; color:#071233; border:1px solid rgba(15,23,42,0.06); }

    .cs-footer { margin-top:22px; display:flex; align-items:center; gap:20px; justify-content:space-between; flex-wrap:wrap; border-top:1px solid rgba(15,23,42,0.04); padding-top:18px; color:#475569; }

    /* modal */
    .modal-wrap { position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:9000; }
    .modal-backdrop { position:absolute; inset:0; background:rgba(3,7,18,0.5); backdrop-filter:blur(6px); }
    .modal-panel { position:relative; z-index:2; width:calc(100% - 40px); max-width:1100px; max-height:92vh; overflow:auto; background:#fff; border-radius:14px; padding:22px; box-shadow:0 60px 140px rgba(6,9,20,0.32); transform:translateY(12px) scale(.995); opacity:0; transition:all .28s cubic-bezier(.2,.9,.28,1); }
    .modal-open .modal-panel { transform:translateY(0) scale(1); opacity:1; }
    .modal-close-btn { position:absolute; right:14px; top:10px; background:transparent; border:0; font-size:20px; cursor:pointer; color:#475569; }

    .hero-row { display:flex; gap:18px; align-items:flex-start; }
    .hero-avatar { width:120px; height:120px; border-radius:12px; display:flex; align-items:center; justify-content:center; font-weight:900; color:#fff; font-size:44px; flex-shrink:0; overflow:hidden; background:#f3faf7; }
    .hero-avatar img { width:120px; height:120px; object-fit:cover; display:block; border-radius:12px; }

    .hero-meta { flex:1; }

    .pills { display:flex; gap:10px; flex-wrap:wrap; margin-top:10px; }
    .pill { background:#f0fdf4; color:var(--accent-2); padding:8px 10px; border-radius:10px; font-weight:800; font-size:13px; border:1px solid rgba(6,95,70,0.04); }

    .salary-block { margin-top:12px; display:flex; gap:18px; align-items:baseline; flex-wrap:wrap; }
    .salary-big { font-weight:900; color:var(--accent); font-size:22px; }
    .salary-note { color:#475569; font-size:13px; }

    .section { margin-top:18px; }
    .section h4 { margin:0; font-size:15px; font-weight:900; }
    .section p, .section ul, .section ol { color:#334155; font-size:14px; margin-top:8px; line-height:1.55; }

    .deliver-grid { display:grid; gap:12px; grid-template-columns:repeat(2,1fr); margin-top:10px; }
    @media(max-width:820px){ .hero-row{ flex-direction:column } .deliver-grid{ grid-template-columns:1fr } .modal-panel{ padding:16px; } }

    .muted { color:#6b7280; }
    .tiny { font-size:13px; color:#94a3b8; }
    .cta-row { display:flex; gap:12px; margin-top:14px; flex-wrap:wrap; }

    .table { width:100%; border-collapse:collapse; margin-top:10px; }
    .table th { text-align:left; font-weight:800; padding:8px; font-size:13px; color:#334155; }
    .table td { padding:8px; font-size:14px; color:#475569; border-top:1px dashed rgba(15,23,42,0.04); }

    :focus { outline: 3px solid rgba(16,185,129,0.16); outline-offset:3px; border-radius:8px; }

  </style>

  <!-- header -->
  <div class="header">
    <h2 id="cases-ua-title">Кейси випускників — реальні історії та детальний бекстейдж</h2>
    <p class="lead">Повні кейси українською: контекст, підхід, deliverables, таблиці результатів, зарплати (місяць/рік), кар'єрні наслідки та практичні learnings — все зручне для вставки в портфоліо та CRM.</p>
  </div>

  <!-- controls -->
  <div class="cs-controls" role="region" aria-label="Фільтри кейсів">
    <select id="filter-role" aria-label="Фільтр по ролі">
      <option value="all">Всі ролі</option>
      <option value="product">Product Designer</option>
      <option value="ux">UX Researcher</option>
      <option value="ui">UI Designer</option>
    </select>

    <select id="filter-package" aria-label="Фільтр по пакету">
      <option value="all">Всі пакети</option>
      <option value="Starter">Starter</option>
      <option value="Pro">Pro</option>
      <option value="Master">Master</option>
    </select>

    <select id="filter-ind" aria-label="Фільтр по індустрії">
      <option value="all">Всі індустрії</option>
      <option value="Marketplace">Marketplace</option>
      <option value="FinTech">FinTech</option>
      <option value="SaaS">SaaS</option>
    </select>

    <div style="margin-left:auto; display:flex; gap:8px;">
      <button id="ctaGlobal" class="btn btn-primary" aria-label="Записатись на програму загальну">Записатись</button>
      <button id="ctaMore" class="btn btn-ghost" aria-label="Детальніше про пакети">Детальніше про пакети</button>
    </div>
  </div>

  <!-- grid -->
  <div class="cs-grid" id="casesGrid" role="list">
    <!-- Карти (повторюються) — data-* заповнені для фільтрації -->
    <article class="cs-card" role="listitem" tabindex="0" data-id="1" data-role="product" data-package="Pro" data-industry="Marketplace" aria-labelledby="card1-title">
      <div>
        <div class="card-top">
          <!-- avatar image from img/mm1.jpg -->
          <div class="avatar"><img src="img/mm1.jpg" alt="Анна — avatar" loading="lazy" /></div>
          <div class="card-meta">
            <div id="card1-title" class="card-title">Анна — Product Designer</div>
            <div class="card-company">MarketPlaceX <span class="badge">Pro</span></div>
          </div>
        </div>

        <div class="headline">+35% onboarding completion — measurable impact</div>
        <div class="subline">Офер: 2 міс · Time-to-offer: 2 місяці</div>
        <p class="muted">Коротко: реструктуризація onboarding flow, A/B тести, Storybook POC.</p>
        <div class="tools">Figma · Miro · Storybook · Mixpanel</div>
      </div>

      <div class="card-actions">
        <button class="btn btn-primary detail-btn" data-case="1" aria-label="Детальніше про кейс Анни">Детальніше</button>
        <button class="btn btn-ghost apply-btn" data-package="Pro" aria-label="Записатись — Pro">Записатись</button>
      </div>
    </article>

    <article class="cs-card" role="listitem" tabindex="0" data-id="2" data-role="ux" data-package="Master" data-industry="FinTech" aria-labelledby="card2-title">
      <div>
        <div class="card-top">
          <div class="avatar"><img src="img/mm2.jpg" alt="Богдан — avatar" loading="lazy" /></div>
          <div class="card-meta">
            <div id="card2-title" class="card-title">Богдан — UX Researcher</div>
            <div class="card-company">FinAnalyze <span class="badge">Master</span></div>
          </div>
        </div>

        <div class="headline">Retention ↑18% · Research pipeline</div>
        <div class="subline">Time-to-offer: 6 тижнів · Channel: internal</div>
        <p class="muted">Побудував repeatable research repo, провів A/B експерименти, налаштував dashboard.</p>
        <div class="tools">Lookback · Miro · Notion</div>
      </div>

      <div class="card-actions">
        <button class="btn btn-primary detail-btn" data-case="2">Детальніше</button>
        <button class="btn btn-ghost apply-btn" data-package="Master">Записатись</button>
      </div>
    </article>

    <article class="cs-card" role="listitem" tabindex="0" data-id="3" data-role="ui" data-package="Starter" data-industry="Marketplace" aria-labelledby="card3-title">
      <div>
        <div class="card-top">
          <div class="avatar"><img src="img/mm3.webp" alt="Катя — avatar" loading="lazy" /></div>
          <div class="card-meta">
            <div id="card3-title" class="card-title">Катя — UI Designer</div>
            <div class="card-company">AppWorks <span class="badge">Starter</span></div>
          </div>
        </div>

        <div class="headline">Офер за 1 місяць · Portfolio polish</div>
        <div class="subline">Time-to-offer: 4 тижні</div>
        <p class="muted">UI polishing, micro-interactions, storytelling — quick win для портфоліо.</p>
        <div class="tools">Figma · Zeplin</div>
      </div>

      <div class="card-actions">
        <button class="btn btn-primary detail-btn" data-case="3">Детальніше</button>
        <button class="btn btn-ghost apply-btn" data-package="Starter">Записатись</button>
      </div>
    </article>

    <article class="cs-card" role="listitem" tabindex="0" data-id="4" data-role="product" data-package="Pro" data-industry="FinTech" aria-labelledby="card4-title">
      <div>
        <div class="card-top">
          <div class="avatar"><img src="img/mm4.jpg" alt="Іван — avatar" loading="lazy" /></div>
          <div class="card-meta">
            <div id="card4-title" class="card-title">Іван — Product Designer</div>
            <div class="card-company">FinEdge <span class="badge">Pro</span></div>
          </div>
        </div>

        <div class="headline">Conversion ↑22% після checkout redesign</div>
        <div class="subline">Time-to-offer: 3 міс · Channel: direct</div>
        <p class="muted">Фокус на funnel, experiments, Storybook handoff.</p>
        <div class="tools">Figma · Mixpanel</div>
      </div>

      <div class="card-actions">
        <button class="btn btn-primary detail-btn" data-case="4">Детальніше</button>
        <button class="btn btn-ghost apply-btn" data-package="Pro">Записатись</button>
      </div>
    </article>

    <article class="cs-card" role="listitem" tabindex="0" data-id="5" data-role="ux" data-package="Master" data-industry="Marketplace" aria-labelledby="card5-title">
      <div>
        <div class="card-top">
          <div class="avatar"><img src="img/mm5.webp" alt="Марія — avatar" loading="lazy" /></div>
          <div class="card-meta">
            <div id="card5-title" class="card-title">Марія — UX Researcher</div>
            <div class="card-company">ShopQuick <span class="badge">Master</span></div>
          </div>
        </div>

        <div class="headline">Task success ↑28% · Research playbook</div>
        <div class="subline">Time-to-offer: 6 тижнів</div>
        <p class="muted">Playbook, templates, dashboards — команда працює даними.</p>
        <div class="tools">Lookback · Notion</div>
      </div>

      <div class="card-actions">
        <button class="btn btn-primary detail-btn" data-case="5">Детальніше</button>
        <button class="btn btn-ghost apply-btn" data-package="Master">Записатись</button>
      </div>
    </article>

    <article class="cs-card" role="listitem" tabindex="0" data-id="6" data-role="product" data-package="Pro" data-industry="SaaS" aria-labelledby="card6-title">
      <div>
        <div class="card-top">
          <div class="avatar"><img src="img/mm6.jpg" alt="Олег — avatar" loading="lazy" /></div>
          <div class="card-meta">
            <div id="card6-title" class="card-title">Олег — Product Designer</div>
            <div class="card-company">CloudFlow <span class="badge">Pro</span></div>
          </div>
        </div>

        <div class="headline">Time-to-offer ↓40% · Storybook POC</div>
        <div class="subline">Time-to-offer: 3 тижні</div>
        <p class="muted">Component library, tokens, faster delivery.</p>
        <div class="tools">Figma · Storybook</div>
      </div>

      <div class="card-actions">
        <button class="btn btn-primary detail-btn" data-case="6">Детальніше</button>
        <button class="btn btn-ghost apply-btn" data-package="Pro">Записатись</button>
      </div>
    </article>

  </div> <!-- end grid -->

  <div class="cs-footer" role="region" aria-label="Агреговані метрики та CTA">
    <div>
      <div class="tiny">Середні метрики по поточній вибірці</div>
      <div style="font-weight:900;">Середній time-to-offer: ~2.3 місяці · Median salary uplift: ~+28%</div>
    </div>

    <div style="display:flex; gap:12px; align-items:center;">
      <button id="ctaEnroll" class="btn btn-primary" aria-label="Записатись на програму">Хочу так само — Записатись</button>
      <button id="ctaPackages" class="btn btn-ghost" aria-label="Інформація про пакети">Пакети та порівняння</button>
    </div>
  </div>

  <!-- ДЕТАЛЬНА МОДАЛКА (ДЕТАЛЬНО) -->
  <div id="modalDetail" class="modal-wrap" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-backdrop" data-close="backdrop"></div>
    <div class="modal-panel" role="document" aria-labelledby="modalDetailTitle" tabindex="-1">
      <button class="modal-close-btn" aria-label="Закрити модалку" data-close="button">✕</button>
      <div id="modalDetailInner"></div>
    </div>
  </div>

  <!-- МОДАЛКА ЗАПИСАТИСЬ -->
  <div id="modalSignup" class="modal-wrap" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-backdrop" data-close="backdrop"></div>
    <div class="modal-panel" role="document" aria-labelledby="modalSignupTitle" tabindex="-1">
      <button class="modal-close-btn" aria-label="Закрити модалку" data-close="button">✕</button>
      <div id="modalSignupInner">
        <h3 id="modalSignupTitle" style="font-weight:900;font-size:20px;margin:0;">Форма запису — безкоштовна 15-хв консультація</h3>
        <p class="muted" style="margin-top:8px;">Заповніть форму — ми підготуємо індивідуальний learning path і підберемо cohort.</p>

        <form id="signupForm" style="margin-top:12px; display:grid; gap:10px;">
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
            <input name="first_name" placeholder="Ім'я *" required style="padding:10px;border:1px solid rgba(15,23,42,0.06);border-radius:10px;">
            <input name="last_name" placeholder="Прізвище" style="padding:10px;border:1px solid rgba(15,23,42,0.06);border-radius:10px;">
            <input name="email" type="email" placeholder="Електронна пошта *" required style="padding:10px;border:1px solid rgba(15,23,42,0.06);border-radius:10px;">
            <input name="phone" placeholder="Телефон" style="padding:10px;border:1px solid rgba(15,23,42,0.06);border-radius:10px;">
          </div>

          <input name="city" placeholder="Місто, країна" style="padding:10px;border:1px solid rgba(15,23,42,0.06);border-radius:10px;">
          <select name="package_select" style="padding:10px;border:1px solid rgba(15,23,42,0.06);border-radius:10px;">
            <option>Pro</option><option>Master</option><option>Starter</option>
          </select>

          <textarea name="experience" placeholder="Коротко про досвід (посади, роки, інструменти) *" required style="padding:10px;border:1px solid rgba(15,23,42,0.06);border-radius:10px;"></textarea>

          <textarea name="goal" placeholder="Мета після курсу (на яку роль прагнете) *" required style="padding:10px;border:1px solid rgba(15,23,42,0.06);border-radius:10px;"></textarea>

          <input name="portfolio" placeholder="Посилання на портфоліо / LinkedIn" style="padding:10px;border:1px solid rgba(15,23,42,0.06);border-radius:10px;">

          <label style="display:flex; gap:8px; align-items:center;">
            <input type="checkbox" name="consent" required />
            <span class="muted">Погоджуюсь на обробку персональних даних згідно з <a href="#" target="_blank">Політикою</a>.</span>
          </label>

          <div style="display:flex; gap:10px; justify-content:flex-end;">
            <button type="submit" class="btn btn-primary" style="min-width:160px;">Відправити заявку</button>
            <button id="downloadSyllabus" type="button" class="btn btn-ghost" style="min-width:160px;">Завантажити програму (PDF)</button>
          </div>

          <div id="signupMessage" style="display:none; margin-top:10px; padding:12px; background:#ecfdf4; color:#065f46; border-radius:8px;">
            Дякуємо! Ваша заявка прийнята. Ми зв'яжемося протягом 24 годин.
          </div>
        </form>

        <div style="margin-top:14px;" class="muted">
          <strong>Що отримаєте під час консультації:</strong>
          <ul>
            <li>Аналіз резюме та портфоліо;</li>
            <li>Індивідуальний learning path та рекомендації;</li>
            <li>Орієнтовний timeline і завдання на перші 2 тижні;</li>
            <li>Рекомендації щодо переговорів про зарплату.</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- DATA & SCRIPTS -->
  <script>
    /* AVATAR PATHS (відповідність id → файл у папці img) */
    const AVATARS = {
      1: 'img/mm1.jpg',
      2: 'img/mm2.jpg',
      3: 'img/mm3.webp',
      4: 'img/mm4.jpg',
      5: 'img/mm5.webp',
      6: 'img/mm6.jpg'
    };

    /* ДАНІ КЕЙСІВ (українською) — дуже деталізовані */
    const CASES = {
      1: {
        id:1, initials:'АН', name:'Анна', role:'Product Designer', company:'MarketPlaceX', package:'Pro', cohort:'Jan 2025',
        tldr:'Redesign onboarding flow → completion ↑35 percentage points; офер через 2 місяці; salary after: ₴120 000/міс.',
        salary_month:120000, salary_year:120000*12, salary_note:'Публікація зарплат з письмової згоди випускниці.',
        time_to_offer:'2 місяці', channel:'Direct hire (hiring-day)', before_salary:60000,
        experience:[
          'Досвід: 2 роки як UI/interaction designer',
          'Робота з Figma, базовий research',
          'Участь в cross-functional командах'
        ],
        course: 'Pro — 16 тижнів: design systems, motion, accessibility, Storybook, mock interviews, 6–10 кейсів, 1:1 менторство.',
        approach:[
          'Discovery: аналіз аналітики, funnel metrics (Mixpanel).',
          'Research: 12 moderated interviews, 120 sessions recordings analysis.',
          'Synthesis: journey maps, priority matrix, RICE approach.',
          'Design: low-fi → hi-fi, tokens, accessibility checks.',
          'Validate: moderated usability tests, A/B testing on two flows.',
          'Handoff: Storybook demo + acceptance criteria.'
        ],
        deliverables:[
          'Clickable prototype onboarding (Figma link).',
          'Design system starter (tokens + components).',
          'Usability report (findings + prioritized fixes).',
          'Experiment plan (A/B) з вимірюваними KPI.'
        ],
        timeline:[
          'W1 — Discovery & metric baseline',
          'W2 — User interviews & synthesis',
          'W3 — Wireframes & flow proposals',
          'W4 — Hi-fi screens + prototyping',
          'W5 — Usability testing & iteration',
          'W6 — A/B experiment rollout & monitoring'
        ],
        results:[
          {metric:'Onboarding completion', before:'12%', after:'47%', note:'+35 pp — signficant uplift'},
          {metric:'Time-to-first-success', before:'N/A', after:'↓40%', note:'зменшення часу до першої ключової дії'},
          {metric:'Support tickets related to onboarding', before:'1000/mo', after:'470/mo', note:'↓53%'}
        ],
        outcome:{
          position:'Product Designer (FT, remote)', salary_month:120000, salary_year:120000*12, time_to_offer:'2 місяці', channel:'hiring-day'
        },
        benefits:[
          'production-ready case для портфоліо',
          'чіткий playbook для командного handoff',
          'skills: research framing, A/B experiments, tokens'
        ],
        testimonial:'«Ментор допоміг структурувати роботу: від discovery до measurable experiments. Завдяки курсу я отримала офер і зрозумілий шлях в карʼєрі.»',
        proof:'A/B report, Storybook demo, Before/After screens (доступні за згодою)'
      },

      2: {
        id:2, initials:'БО', name:'Богдан', role:'UX Researcher', company:'FinAnalyze', package:'Master', cohort:'Feb 2025',
        tldr:'Research pipelines & experiments → Retention ↑18% і Trial→Paid ↑7%; salary after: ₴160 000/міс.',
        salary_month:160000, salary_year:160000*12, salary_note:'Опубліковано з дозволу випускника.',
        time_to_offer:'6 тижнів', channel:'internal referral', before_salary:85000,
        experience:[
          '1.5 роки в UX research (moderated + unmoderated testing)',
          'Досвід у фінтех/аналітиці'
        ],
        course:'Master — 12 тижнів research labs, experiment design, dashboards, workshop facilitation, mentoring.',
        approach:[
          'Audit of existing research practice and gaps.',
          'Stakeholder alignment workshops (PMs, Eng, Data).',
          'Design & run experiments; define metrics & measurement.',
          'Build research repo + templates for reuse.'
        ],
        deliverables:[
          'Research repo (Notion) з шаблонами і playbooks.',
          'Experiment library та приклади A/B тестів.',
          'Dashboards (GA/Mixpanel) для відстеження retention.'
        ],
        timeline:[
          'W1 — Audit & hypothesis prioritization',
          'W2–W4 — Design experiments & pilot',
          'W5–W8 — Run tests & analytics',
          'W9–W12 — Scale & handoff'
        ],
        results:[
          {metric:'Retention (30d)', before:'N/A', after:'+18%', note:'cohort-based measurement'},
          {metric:'Trial→Paid conversion', before:'N/A', after:'+7%', note:'measured for target segments'}
        ],
        outcome:{ position:'Senior UX Researcher', salary_month:160000, salary_year:160000*12, time_to_offer:'6 тижнів' },
        benefits:[
          'структурований процес research в команді',
          'вміння запускати repeatable experiments',
          'зростання видимості в організації'
        ],
        testimonial:'«Playbook змінив спосіб, яким команда підходить до досліджень — від ad-hoc до repeatable experiments.»',
        proof:'Experiment reports, research repo (доступні за згодою)'
      },

      3: {
        id:3, initials:'КА', name:'Катя', role:'UI Designer', company:'AppWorks', package:'Starter', cohort:'Mar 2025',
        tldr:'Portfolio polish + interaction polish → офер за 1 місяць; salary after: ₴95 000/міс.',
        salary_month:95000, salary_year:95000*12, salary_note:'Згода на публікацію отримана.',
        time_to_offer:'4 тижні', channel:'recruiter outreach', before_salary:45000,
        experience:[
          '1.5 роки UI design, знання motion basics',
          'Фокус на візуальній частині та micro-interactions'
        ],
        course:'Starter — 8 тижнів: portfolio polish, micro-interactions, storytelling, mock interviews, 3–6 кейсів.',
        approach:[
          'Portfolio audit and narrative restructuring.',
          'UI polish: spacing, color, typography, micro-interactions.',
          'Mock interviews and portfolio presentations.'
        ],
        deliverables:[
          '3 портфоліо-кейси production-ready.',
          'Interaction snippets (micro-animations).',
          'Interview cheat-sheet & storytelling phrases.'
        ],
        timeline:[
          'W1 — Audit portfolio & set goals',
          'W2–W4 — Design polish & interactions',
          'W5 — Mock interviews + feedback',
          'W6–W8 — Finalize cases'
        ],
        results:[
          {metric:'Offer', before:'no offer', after:'offer in 4 weeks', note:'підвищення до Mid-level позиції'}
        ],
        outcome:{ position:'UI Designer (Mid)', salary_month:95000, salary_year:95000*12, time_to_offer:'4 тижні' },
        benefits:[
          'чітке portfolio storytelling',
          'покращені навички презентації кейсів',
          'готові кейси для публікації'
        ],
        testimonial:'«Фокус на деталях та підготовка до інтервʼю дали миттєвий результат.»',
        proof:'Portfolio snippets (доступні за згодою)'
      },

      4: {
        id:4, initials:'ІВ', name:'Іван', role:'Product Designer', company:'FinEdge', package:'Pro', cohort:'Nov 2024',
        tldr:'Checkout redesign → Conversion ↑22% і revenue impact +7% (модель); salary after: ₴200 000/міс.',
        salary_month:200000, salary_year:200000*12, salary_note:'Опубліковано з дозволу.',
        time_to_offer:'3 місяці', channel:'direct hire', before_salary:90000,
        experience:[
          '3 роки product design, delivery-focused',
          'Experience with metrics-driven design'
        ],
        course:'Pro — 16 тижнів: measurement, design systems, Storybook, mock interviews.',
        approach:[
          'Funnel analysis & hypothesis generation',
          'Rapid prototyping & usability checks',
          'A/B experiments on checkout variations',
          'Componentization + Storybook for dev handoff'
        ],
        deliverables:[
          'Checkout prototype & variant library',
          'Experiment setup & measurement docs',
          'Storybook POC + component documentation'
        ],
        timeline:[
          'W1–W2 — Discovery & hypotheses',
          'W3–W4 — Prototyping',
          'W5–W8 — Experiments',
          'W9–W12 — Handoff & monitoring'
        ],
        results:[
          {metric:'Conversion', before:'baseline', after:'+22%', note:'statistically significant uplift'},
          {metric:'Revenue (estimate)', before:'baseline', after:'+7% monthly', note:'business-impact estimate'}
        ],
        outcome:{ position:'Product Designer (Senior)', salary_month:200000, salary_year:200000*12, time_to_offer:'3 місяці' },
        benefits:[
          'production-grade кейс з business-impact',
          'розуміння measurement-driven design',
          'досвід інтеграції з dev pipeline'
        ],
        testimonial:'«Курс навчив співпрацювати з data і запускати експерименти з повноцінною валідацією.»',
        proof:'A/B reports, Storybook demo (доступні за згодою)'
      },

      5: {
        id:5, initials:'МА', name:'Марія', role:'UX Researcher', company:'ShopQuick', package:'Master', cohort:'Apr 2025',
        tldr:'Research playbook → Task success ↑28%; salary after: ₴140 000/міс.',
        salary_month:140000, salary_year:140000*12, salary_note:'Опубліковано з дозволу.',
        time_to_offer:'6 тижнів', channel:'hiring-day', before_salary:70000,
        experience:[
          '2 роки в UX research, moderated & unmoderated tests',
          'Фасилітація воркшопів для PMs'
        ],
        course:'Master — research labs, workshop facilitation, dashboards, templates, mentoring.',
        approach:[
          'Audit & gap analysis',
          'Design templates & pilot studies',
          'Workshops with stakeholders for prioritization',
          'Scaleable repo & dashboards'
        ],
        deliverables:[
          'Research playbook & templates',
          'Dashboards with KPIs (task success, SUS, NPS)',
          'Training materials для команд'
        ],
        timeline:[
          'W1 — Audit',
          'W2–W5 — Templates & pilots',
          'W6–W12 — Implementation & training'
        ],
        results:[
          {metric:'Task success (usability tests)', before:'N/A', after:'+28%', note:'measured via moderated tests'},
          {metric:'Decision velocity', before:'low', after:'faster', note:'improved prioritization process'}
        ],
        outcome:{ position:'Lead Researcher', salary_month:140000, salary_year:140000*12, time_to_offer:'6 тижнів' },
        benefits:[
          'систематизація research процесів',
          'підвищення впливу research на roadmap',
          'підвищення visibility у компанії'
        ],
        testimonial:'«Playbook — це те, що дозволило масштабувати дослідження у компанії.»',
        proof:'Research repo, dashboards (доступні за згодою)'
      },

      6: {
        id:6, initials:'ОЛ', name:'Олег', role:'Product Designer', company:'CloudFlow', package:'Pro', cohort:'May 2025',
        tldr:'Storybook POC → Time-to-offer ↓40%; salary after: ₴175 000/міс.',
        salary_month:175000, salary_year:175000*12, salary_note:'Публікація погоджена.',
        time_to_offer:'3 тижні', channel:'internal hiring', before_salary:95000,
        experience:[
          '4 роки product design, component-driven approach',
          'Робота з design systems та dev tooling'
        ],
        course:'Pro — design systems, Storybook, tokens, accessibility, motion',
        approach:[
          'Component audit & tokenization',
          'Storybook integration & docs',
          'Developer collaboration & acceptance criteria'
        ],
        deliverables:[
          'Component library (Storybook)',
          'Tokens & documentation',
          'Handoff checklist для dev'
        ],
        timeline:[
          'W1 — Audit & tokens',
          'W2–W4 — Component creation',
          'W5 — Storybook integration',
          'W6 — Handoff'
        ],
        results:[
          {metric:'Time-to-offer', before:'baseline', after:'↓40%', note:'quicker hiring pipeline'},
          {metric:'Delivery speed', before:'slower', after:'faster', note:'reduced cycle time'}
        ],
        outcome:{ position:'Product Designer (Senior)', salary_month:175000, salary_year:175000*12, time_to_offer:'3 тижні' },
        benefits:[
          'чітка бібліотека компонентів',
          'швидший handoff та релізи',
          'покращена колаборація з dev'
        ],
        testimonial:'«Storybook змінив наш handoff і скоротив time-to-market.»',
        proof:'Storybook demo, tokens (доступні за згодою)'
      }
    };

    /* Форматування валюти */
    function formatUAH(n){ return '₴' + String(n).replace(/\B(?=(\d{3})+(?!\d))/g, ' '); }

    /* Побудова HTML для детальної модалки (дуже велика інформація) */
    function buildDetailHtml(c){
      const salaryMonth = formatUAH(c.salary_month) + ' / міс';
      const salaryYear = formatUAH(c.salary_year) + ' / рік';
      const beforeSalary = c.before_salary ? formatUAH(c.before_salary) + ' / міс' : '—';

      const resultsRows = c.results.map(r => `<tr><th>${r.metric}</th><td>${r.before || '—'} → ${r.after} <div class="tiny">${r.note || ''}</div></td></tr>`).join('');

      const experienceHtml = c.experience.map(x => `<li>${x}</li>`).join('');
      const approachHtml = c.approach.map(a => `<li>${a}</li>`).join('');
      const deliverHtml = c.deliverables.map(d => `<li>${d}</li>`).join('');
      const benefitsHtml = c.benefits.map(b => `<li>${b}</li>`).join('');

      // use avatar path from AVATARS map
      const avatarPath = AVATARS[c.id] || '';

      return `
        <div>
          <div class="hero-row">
            <div class="hero-avatar">${ avatarPath ? `<img src="${avatarPath}" alt="${c.name}">` : c.initials }</div>
            <div class="hero-meta">
              <h3 id="modalDetailTitle" style="margin:0;font-weight:900;font-size:20px;">${c.name} — ${c.role} @ ${c.company}</h3>
              <p class="muted" style="margin-top:8px;">TL;DR: ${c.tldr}</p>

              <div class="pills">
                <div class="pill">Пакет: ${c.package}</div>
                <div class="pill">Cohort: ${c.cohort}</div>
                <div class="pill">Role: ${c.role}</div>
              </div>

              <div class="salary-block">
                <div>
                  <div class="salary-big">${salaryMonth}</div>
                  <div class="salary-note">≈ ${salaryYear} · ${c.salary_note}</div>
                </div>
                <div class="muted">Before: ${beforeSalary} · Channel: ${c.channel} · Time-to-offer: ${c.time_to_offer}</div>
              </div>
            </div>
          </div>

          <div class="section">
            <h4>Короткий опис курсу</h4>
            <p class="muted">${c.course}</p>
          </div>

          <div class="section">
            <h4>Досвід до курсу</h4>
            <ul class="muted">${experienceHtml}</ul>
          </div>

          <div class="section">
            <h4>Проблематика (Context)</h4>
            <p class="muted">Детальний опис продукту і бізнес-цілей: що було до початку роботи, які метрики треба було покращити, які обмеження по ресурсам та часу. Цей блок містить бекграунд для розуміння масштабу impact.</p>
          </div>

          <div class="section">
            <h4>Підхід (Approach)</h4>
            <ol class="muted">${approachHtml}</ol>
          </div>

          <div class="section">
            <h4>Deliverables (Що створено)</h4>
            <ul class="muted">${deliverHtml}</ul>
          </div>

          <div class="section">
            <h4>Timeline (покроково)</h4>
            <ul class="muted">${c.timeline.map(t=>`<li>${t}</li>`).join('')}</ul>
          </div>

          <div class="section">
            <h4>Результати — числові (До → Після)</h4>
            <table class="table" role="table"><tbody>${resultsRows}</tbody></table>
          </div>

          <div class="section">
            <h4>Кар'єрний результат та роль зараз</h4>
            <p class="muted">Поточна позиція: <strong>${c.outcome.position}</strong> · Формат: full-time / hybrid (деталі в CMS) · Time-to-offer: ${c.outcome.time_to_offer} · Зарплата після: <strong>${formatUAH(c.outcome.salary_month)}/міс</strong> (≈ ${formatUAH(c.outcome.salary_year)}/рік)</p>
          </div>

          <div class="section">
            <h4>Переваги для випускника (What they gained)</h4>
            <ul class="muted">${benefitsHtml}</ul>
          </div>

          <div class="section">
            <h4>Практичні learnings & negotiation tips</h4>
            <p class="muted">Короткі поради: як структурувати кейс для портфоліо, які метрики вказувати, як готуватися до переговорів щодо зарплати, які питання задавати рекрутерам. (Цю секцію можна розширити для кожного кейсу індивідуально.)</p>
            <ul class="muted">
              <li>Пишіть про business impact — цифри важать більше за абстрактні фрази.</li>
              <li>Готуйте proof: скріни before/after і короткий опис методології.</li>
              <li>Підготуйте чітку story: проблема → підхід → результат → learnings.</li>
              <li>На переговорах просіть діапазон (мінімум/ціль) і аргументуйте impact.</li>
            </ul>
          </div>

          <div class="section">
            <h4>Цитата</h4>
            <blockquote class="muted" style="font-style:italic;">${c.testimonial}</blockquote>
          </div>

          <div class="section">
            <h4>Proof / Attachments</h4>
            <p class="muted">${c.proof}</p>
            <p class="muted">Посилання на повний кейс (Notion / Behance) доступні за згодою — вставити в CMS поле full_case_url.</p>
          </div>

          <div class="cta-row">
            <button class="btn btn-primary open-signup" data-pkg="${c.package}" aria-label="Отримати програму ${c.package}">Отримати програму</button>
            <button class="btn btn-ghost open-signup" data-pkg="${c.package}" aria-label="Залишити заявку по кейсу">Залишити заявку</button>
            <a href="#" class="btn btn-ghost" aria-label="Показати повний кейс ${c.name}">Показати повний кейс</a>
          </div>

          <footer class="muted" style="margin-top:12px;">Cohort: ${c.cohort} · Mentor: (ім'я ментора) · Published: 2025 · Permission: name/photo/salary = true · Verified</footer>
        </div>
      `;
    }

    /* Модал: відкриття / закриття + focus trap */
    const modalDetail = document.getElementById('modalDetail');
    const modalDetailInner = document.getElementById('modalDetailInner');
    const modalSignup = document.getElementById('modalSignup');

    function openModal(modal){
      if(!modal) return;
      modal.style.display = 'flex';
      modal.setAttribute('aria-hidden','false');
      document.documentElement.classList.add('modal-open');
      const panel = modal.querySelector('.modal-panel');
      setTimeout(()=> panel.classList.add('modal-open'), 20);
      // focus management
      const focusables = panel.querySelectorAll('a[href], button:not([disabled]), input, textarea, select, [tabindex]:not([tabindex="-1"])');
      modal._focusables = Array.from(focusables);
      modal._first = modal._focusables[0];
      modal._last = modal._focusables[modal._focusables.length-1];
      modal._prevActive = document.activeElement;
      if(modal._first) setTimeout(()=> modal._first.focus(), 80);
      modal._keydown = function(e){
        if(e.key === 'Escape'){ closeModal(modal); }
        if(e.key === 'Tab'){
          if(modal._focusables.length === 0){ e.preventDefault(); return; }
          if(e.shiftKey){
            if(document.activeElement === modal._first){ e.preventDefault(); modal._last.focus(); }
          } else {
            if(document.activeElement === modal._last){ e.preventDefault(); modal._first.focus(); }
          }
        }
      };
      document.addEventListener('keydown', modal._keydown);
    }

    function closeModal(modal){
      if(!modal) return;
      const panel = modal.querySelector('.modal-panel');
      if(panel) panel.classList.remove('modal-open');
      modal.style.display = 'none';
      modal.setAttribute('aria-hidden','true');
      if(modal._prevActive) modal._prevActive.focus();
      document.removeEventListener('keydown', modal._keydown);
      document.documentElement.classList.remove('modal-open');
    }

    /* Прив'язки кнопок Детальніше */
    document.querySelectorAll('.detail-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const id = btn.getAttribute('data-case');
        const data = CASES[id];
        if(!data) return;
        modalDetailInner.innerHTML = buildDetailHtml(data);

        // якщо хочемо варіювати фон контейнера avatar, знайдемо .hero-avatar контейнер і підсвітимо його градієнтом
        const avatarContainer = modalDetailInner.querySelector('.hero-avatar');
        if(avatarContainer){
          const gradient = (data.id % 2 === 0) ? 'linear-gradient(135deg,#7c3aed,#06b6d4)' : 'linear-gradient(135deg,#0ea5a4,#059669)';
          // поставити фон за потреби (але фото перекриває фон — тільки якщо фото відсутнє, буде видно)
          avatarContainer.style.background = gradient;
        }
        openModal(modalDetail);
      });
    });

    /* close handlers */
    document.querySelectorAll('[data-close="backdrop"]').forEach(b => b.addEventListener('click', (e)=> {
      const m = e.target.closest('.modal-wrap');
      closeModal(m);
    }));
    document.querySelectorAll('[data-close="button"]').forEach(b => b.addEventListener('click', (e)=> {
      const m = e.target.closest('.modal-wrap');
      closeModal(m);
    }));

    /* Apply / signup from cards */
    document.querySelectorAll('.apply-btn').forEach(b => {
      b.addEventListener('click', () => {
        const pkg = b.getAttribute('data-package') || 'Pro';
        const sel = document.querySelector('#modalSignupInner select[name="package_select"]');
        if(sel) sel.value = pkg;
        openModal(modalSignup);
      });
    });

    /* CTA enroll */
    document.getElementById('ctaEnroll').addEventListener('click', ()=> {
      const sel = document.querySelector('#modalSignupInner select[name="package_select"]');
      if(sel) sel.value = 'Pro';
      openModal(modalSignup);
    });

    /* Open signup from detail modal (delegation) */
    document.addEventListener('click', (e) => {
      const el = e.target.closest('.open-signup');
      if(!el) return;
      const pkg = el.getAttribute('data-pkg') || 'Pro';
      const sel = document.querySelector('#modalSignupInner select[name="package_select"]');
      if(sel) sel.value = pkg;
      // close detail then open signup for smoother UX
      closeModal(modalDetail);
      setTimeout(()=> openModal(modalSignup), 220);
    });

    /* Sign-up form handling (simulation) */
    const signupForm = document.getElementById('signupForm');
    signupForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const formData = new FormData(signupForm);
      const payload = Object.fromEntries(formData.entries());
      // Simulate sending to CRM — replace with real fetch in production
      console.log('Lead payload:', payload);
      document.getElementById('signupMessage').style.display = 'block';
      try{ window.dataLayer = window.dataLayer || []; window.dataLayer.push({event:'signup_submitted', payload}); } catch(e){}
      setTimeout(()=> { closeModal(modalSignup); document.getElementById('signupMessage').style.display='none'; alert('Заявка відправлена (симуляція).'); }, 1600);
    });

    /* Download syllabus placeholder */
    document.getElementById('downloadSyllabus').addEventListener('click', ()=> {
      alert('Тут можна підключити реальний файл: замініть на посилання на PDF.');
    });

    /* Filters */
    function runFilters(){
      const role = document.getElementById('filter-role').value;
      const pkg = document.getElementById('filter-package').value;
      const ind = document.getElementById('filter-ind').value;
      document.querySelectorAll('.cs-card').forEach(card => {
        let show = true;
        if(role !== 'all' && card.dataset.role !== role) show = false;
        if(pkg !== 'all' && card.dataset.package !== pkg) show = false;
        if(ind !== 'all' && card.dataset.industry !== ind) show = false;
        card.style.display = show ? 'flex' : 'none';
      });
      equalizeCards();
    }
    document.getElementById('filter-role').addEventListener('change', runFilters);
    document.getElementById('filter-package').addEventListener('change', runFilters);
    document.getElementById('filter-ind').addEventListener('change', runFilters);

    /* Equalize heights for "під лінійку" вигляду */
    function equalizeCards(){
      const cards = Array.from(document.querySelectorAll('.cs-card')).filter(c=> c.style.display !== 'none');
      if(cards.length === 0) return;
      let maxH = 0;
      cards.forEach(c => { c.style.height = 'auto'; maxH = Math.max(maxH, c.offsetHeight); });
      cards.forEach(c => c.style.height = maxH + 'px');
    }
    window.addEventListener('load', ()=> setTimeout(equalizeCards, 200));
    window.addEventListener('resize', ()=> setTimeout(equalizeCards, 300));
  </script>
</section>
<!-- ===== END SECTION ===== -->


<!-- ===== Переваги — вставити в <body> ===== -->
<section id="perevagi" aria-labelledby="perevagi-title"
         class="relative max-w-7xl mx-auto px-6 lg:px-10 py-16 overflow-x-hidden"
         style="font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;">
  <header class="text-center mb-10">
    <h2 id="perevagi-title" class="text-4xl lg:text-5xl font-extrabold leading-tight">Переваги</h2>
 
  </header>

  <!-- Grid: 3 cards (equal) -->
  <div class="grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3" aria-hidden="false">
    <!-- Card: Технічні навички -->
    <article class="card-eq bg-white rounded-[12px] shadow-lg p-6 flex flex-col" data-card>
      <!-- image: left card -->
      <img src="img/pe1.png" alt="Ілюстрація — технічні навички" class="card-img-full" />

      <div class="flex items-start justify-between">
        <div>
          <h3 class="text-xl font-semibold">Технічні навички</h3>
          <p class="text-sm text-gray-500 mt-1">Практика в інструментах, production-ready deliverables та handoff.</p>
        </div>
        <div class="text-right">
          <div class="text-xs text-gray-400">Інструментів</div>
          <div class="text-2xl font-extrabold text-emerald-600">10+</div>
        </div>
      </div>

      <div class="mt-5 flex-1">
        <ul class="space-y-3 text-sm text-gray-700">
          <li><strong>Figma:</strong> components, variants, auto layout — deliverable: design system starter.</li>
          <li><strong>HTML/CSS/JS:</strong> interactive prototypes, accessibility — deliverable: Storybook POC.</li>
          <li><strong>Miro / FigJam:</strong> discovery & workshops — deliverable: workshop pack.</li>
        </ul>
      </div>

      <div class="mt-6 flex items-center justify-between gap-3">
        <button class="btn-eq bg-gradient-to-tr from-emerald-500 to-emerald-400 text-white font-semibold"
                data-action="details" data-target="tech" aria-controls="modal-details" aria-expanded="false">
          Детальніше
        </button>

        <button class="btn-eq border border-gray-200 bg-white text-gray-800"
                data-action="signup" data-package="Технічні навички" aria-controls="modal-signup">
          Записатися
        </button>
      </div>
    </article>

    <!-- Card: Кар'єра & Результати -->
    <article class="card-eq bg-white rounded-[12px] shadow-lg p-6 flex flex-col" data-card>
      <!-- image: middle card -->
      <img src="img/pe2.png" alt="Ілюстрація — кар'єра та результати" class="card-img-full" />

      <div class="flex items-start justify-between">
        <div>
          <h3 class="text-xl font-semibold">Карʼєра & Результати</h3>
          <p class="text-sm text-gray-500 mt-1">Що після курсу: ролі, зарплати, time-to-offer та proof.</p>
        </div>
        <div class="text-right">
          <div class="text-xs text-gray-400">Hire rate</div>
          <div class="text-2xl font-extrabold text-emerald-600">78%</div>
        </div>
      </div>

      <div class="mt-5 flex-1">
        <ul class="space-y-3 text-sm text-gray-700">
          <li><strong>Product Designer:</strong> end-to-end кейси, demo-day exposure — result: faster time-to-offer.</li>
          <li><strong>UX Researcher:</strong> research pipelines та executive decks — result: stronger hiring signals.</li>
          <li><strong>Frontend-for-Designers:</strong> production-like prototypes — result: seamless handoff.</li>
        </ul>
      </div>

      <div class="mt-6 flex items-center justify-between gap-3">
        <button class="btn-eq bg-gradient-to-tr from-emerald-500 to-emerald-400 text-white font-semibold"
                data-action="details" data-target="career" aria-controls="modal-details" aria-expanded="false">
          Детальніше
        </button>

        <button class="btn-eq border border-gray-200 bg-white text-gray-800"
                data-action="signup" data-package="Кар'єра" aria-controls="modal-signup">
          Записатися
        </button>
      </div>
    </article>

    <!-- Card: Формат & Підтримка -->
    <article class="card-eq bg-white rounded-[12px] shadow-lg p-6 flex flex-col" data-card>
      <!-- image: right card -->
      <img src="img/pe3.png" alt="Ілюстрація — формат та підтримка" class="card-img-full" />

      <div class="flex items-start justify-between">
        <div>
          <h3 class="text-xl font-semibold">Формат & Підтримка</h3>
          <p class="text-sm text-gray-500 mt-1">Live-сесії, mentor 1:1, peer-review, office-hours.</p>
        </div>
        <div class="text-right">
          <div class="text-xs text-gray-400">Доступ</div>
          <div class="text-2xl font-extrabold text-emerald-600">12 міс</div>
        </div>
      </div>

      <div class="mt-5 flex-1">
        <ul class="space-y-3 text-sm text-gray-700">
          <li><strong>Live:</strong> 2 сесії/тиждень + записи 24/7.</li>
          <li><strong>Mentor 1:1:</strong> персональні рев’ю, action plans.</li>
          <li><strong>Career support:</strong> mock-interviews, CV overhaul, hiring-days.</li>
        </ul>
      </div>

      <div class="mt-6 flex items-center justify-between gap-3">
        <button class="btn-eq bg-gradient-to-tr from-emerald-500 to-emerald-400 text-white font-semibold"
                data-action="details" data-target="format" aria-controls="modal-details" aria-expanded="false">
          Детальніше
        </button>

        <button class="btn-eq border border-gray-200 bg-white text-gray-800"
                data-action="signup" data-package="Формат & Підтримка" aria-controls="modal-signup">
          Записатися
        </button>
      </div>
    </article>
  </div>

  <!-- Metrics strip -->
  <div class="mt-10 bg-white rounded-[12px] shadow p-6 flex flex-col lg:flex-row items-center justify-between gap-6">
    <div class="flex gap-8 items-center">
      <div class="text-center">
        <div class="text-3xl font-extrabold" data-counter="78">0</div>
        <div class="text-sm text-gray-500">hire rate (%)</div>
      </div>
      <div class="text-center">
        <div class="text-3xl font-extrabold" data-counter="10">0</div>
        <div class="text-sm text-gray-500">практичних проєктів</div>
      </div>
      <div class="text-center">
        <div class="text-3xl font-extrabold" data-counter="2">0</div>
        <div class="text-sm text-gray-500">міс до оферу</div>
      </div>
    </div>

    <div class="flex items-center gap-4">
      <button class="btn-eq bg-emerald-600 text-white px-6 py-3 rounded-[12px]" data-action="signup" data-package="Загальний">Записатися зараз</button>
      <button class="btn-eq border border-gray-200 px-6 py-3 rounded-[12px]" data-action="details" data-target="program">Отримати програму</button>
    </div>
  </div>
</section>

<!-- ========== MODAL DETAILS (reused) ========== -->
<div id="modal-details" class="fixed inset-0 z-50 hidden items-center justify-center" role="dialog" aria-modal="true" aria-labelledby="modal-details-title">
  <div class="absolute inset-0 bg-black/60" data-close="true"></div>

  <div class="relative w-full max-w-5xl mx-4 bg-white rounded-[12px] shadow-lg overflow-auto max-h-[92vh] p-6">
    <div class="flex items-start justify-between gap-4">
      <div>
        <h3 id="modal-details-title" class="text-2xl font-bold"></h3>
        <p id="modal-details-sub" class="text-sm text-gray-600 mt-1"></p>
      </div>
      <div>
        <button class="text-gray-500" data-close="true" aria-label="Закрити">✕</button>
      </div>
    </div>

    <hr class="my-4">

    <div id="modal-details-body" class="prose max-w-none text-sm text-gray-700">
      <!-- content injected dynamically -->
    </div>

    <div class="mt-6 flex justify-between items-center">
      <div class="text-xs text-gray-500">Privacy: погоджуюсь на обробку персональних даних при поданні заявки.</div>
      <div class="flex gap-3">
        <button class="btn-eq border border-gray-200 px-4 py-2 rounded-[12px]" data-close="true">Закрити</button>
        <button class="btn-eq bg-emerald-600 text-white px-4 py-2 rounded-[12px]" data-action="signup" data-package="">Записатися</button>
      </div>
    </div>
  </div>
</div>

<!-- ========== MODAL SIGNUP ========== -->
<div id="modal-signup" class="fixed inset-0 z-50 hidden items-center justify-center" role="dialog" aria-modal="true" aria-labelledby="modal-signup-title">
  <div class="absolute inset-0 bg-black/60" data-close="true"></div>

  <div class="relative w-full max-w-2xl mx-4 bg-white rounded-[12px] shadow-lg overflow-auto max-h-[92vh] p-6">
    <div class="flex items-start justify-between">
      <div>
        <h3 id="modal-signup-title" class="text-2xl font-bold">Записатися на курс</h3>
        <p id="modal-signup-sub" class="text-sm text-gray-600 mt-1">Заповніть форму — ми зв'яжемося для підтвердження.</p>
      </div>
      <div><button data-close="true" class="text-gray-500" aria-label="Закрити">✕</button></div>
    </div>

    <hr class="my-4">

    <form id="signup-form" class="space-y-4 text-sm" novalidate>
      <input type="hidden" name="package" id="signup-package" value="">
      <div>
        <label class="block text-xs text-gray-600">Ім'я та прізвище</label>
        <input required name="name" class="w-full border border-gray-200 rounded-lg px-3 py-2" placeholder="Іван Іванов">
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
        <div>
          <label class="block text-xs text-gray-600">Email</label>
          <input required name="email" type="email" class="w-full border border-gray-200 rounded-lg px-3 py-2" placeholder="you@example.com">
        </div>
        <div>
          <label class="block text-xs text-gray-600">Телефон</label>
          <input name="phone" class="w-full border border-gray-200 rounded-lg px-3 py-2" placeholder="+380 99 123 45 67">
        </div>
      </div>

      <div>
        <label class="block text-xs text-gray-600">Коментар / запит</label>
        <textarea name="comment" class="w-full border border-gray-200 rounded-lg px-3 py-2" rows="4" placeholder="Коротко про досвід і очікування"></textarea>
      </div>

      <div class="flex items-center gap-3">
        <input id="pd-agree" type="checkbox" required>
        <label for="pd-agree" class="text-sm text-gray-600">Погоджуюсь на обробку персональних даних</label>
      </div>

      <div class="flex justify-end gap-3">
        <button type="button" class="btn-eq border border-gray-200 px-4 py-2 rounded-[12px]" data-close="true">Відмінити</button>
        <button type="submit" class="btn-eq bg-emerald-600 text-white px-4 py-2 rounded-[12px]">Надіслати заявку</button>
      </div>
    </form>
  </div>
</div>

<!-- ========== Малий CSS для вирівнювання + фото ===== -->
<style>
  :root {
    --card-min-h: 420px;
    --btn-radius: 12px;
  }
  .card-eq { min-height: var(--card-min-h); display:flex; flex-direction:column; }
  .btn-eq { min-width: 150px; height:48px; border-radius: var(--btn-radius); display:inline-flex; align-items:center; justify-content:center; gap:.5rem; }
  .card-eq ul { margin: 0; padding-left: 0; list-style: none; }
  .card-eq li::before { content: ''; }
  @media(min-width:1280px) { :root { --card-min-h: 480px; } }

  /* image style: show full available width, keep aspect ratio */
  .card-img-full {
    width: 100%;
    height: auto;
    display: block;
    margin-bottom: 14px;
    border-radius: 8px;
    object-fit: cover;
    background-color: #f6f7f8;
  }

  /* prevent any accidental horizontal overflow from prose/tables */
  #modal-details-body table { width: 100%; table-layout: auto; word-break: break-word; }
  /* ensure modals don't cause body scrollbars horizontally */
  [role="dialog"] { -webkit-overflow-scrolling: touch; }
</style>

<!-- ========== SCRIPTS: модулі (залишені без змін) ===== -->
<script>
document.addEventListener('DOMContentLoaded', function () {
  const html = document.documentElement;
  const DETAILS = {
    "tech": {
      title: "Технічні навички — детально",
      sub: "Повний перелік інструментів, deliverables, weekly roadmap, чеклісти та чому це дає результат.",
      body: `
        <h4>Що всередині</h4>
        <p>Практика на реальних брифах, mentor sign-off, production-ready deliverables.</p>

        <h5>Deliverables</h5>
        <ul>
          <li>2 end-to-end кейси (research → prototype → test → outcomes)</li>
          <li>2 клікабельні прототипи (mobile + desktop)</li>
          <li>Design system starter: tokens, components, docs</li>
          <li>Storybook POC та handoff templates</li>
          <li>Notion template для case-study</li>
        </ul>

        <h5>Weekly roadmap (орієнтовно)</h5>
        <ol>
          <li><strong>Week 1</strong> — Research brief & interviews</li>
          <li><strong>Week 2</strong> — IA, flows, lo-fi wireframes</li>
          <li><strong>Week 3–4</strong> — Hi-fi prototyping, interactions</li>
          <li><strong>Week 5</strong> — Usability testing & iteration</li>
          <li><strong>Week 6</strong> — Polish, case write-up, mentor sign-off</li>
        </ol>

        <h5>Зарплати (орієнтовно)</h5>
        <p>Річний та місячний діапазони, і чому саме такі:</p>
        <table class="text-sm">
          <thead><tr><th class="text-left">Роль</th><th class="text-left">Рік</th><th class="text-left">Місяць</th><th class="text-left">Чому</th></tr></thead>
          <tbody>
            <tr><td>Product Designer</td><td>$24k — $72k</td><td>$2 000 — $6 000</td><td>Роль впливає на product metrics; високий попит у SaaS/marketplaces.</td></tr>
            <tr><td>Frontend (для дизайнерів)</td><td>$18k — $50k</td><td>$1 500 — $4 167</td><td>Код-орієнтовані дизайнери допомагають швидше доставляти POCs.</td></tr>
            <tr><td>UI / Visual Designer</td><td>$20k — $55k</td><td>$1 667 — $4 583</td><td>Motion & systems — велика цінність для продукту та retention.</td></tr>
          </tbody>
        </table>

        <h5>Чому ці зарплати?</h5>
        <ul>
          <li>Рівень досвіду (junior/mid/senior)</li>
          <li>Remote-opportunities (вищі діапазони)</li>
          <li>Company size & product maturity</li>
          <li>Наявність measurable outcomes (KPI, A/B results)</li>
        </ul>

        <h5>Чекліст перевірки (Rubric)</h5>
        <p>Research, Interaction, Visual, Accessibility, Handoff — кожний критерій має опис та поріг 0–10.</p>
      `
    },

    "career": {
      title: "Кар'єра & Результати — детально",
      sub: "Roadmap до офера, типові зарплати, time-to-offer та career toolkit.",
      body: `
        <h4>Огляд</h4>
        <p>Ми навчаємо так, щоб ваші deliverables були готові до відправлення рекрутерам. Підтримка: CV, mock-interviews, hiring-days.</p>

        <h5>Зарплатні діапазони та пояснення</h5>
        <table class="text-sm">
          <thead><tr><th class="text-left">Роль</th><th class="text-left">Рік</th><th class="text-left">Місяць</th><th class="text-left">Пояснення</th></tr></thead>
          <tbody>
            <tr><td>Product Designer</td><td>$24k — $72k</td><td>$2 000 — $6 000</td><td>Попит на дизайн з impact; A/B та product-led growth цінуються високо.</td></tr>
            <tr><td>UX Researcher</td><td>$26k — $80k</td><td>$2 167 — $6 667</td><td>Експерти, що дають actionable insights, мають високий попит у продукті.</td></tr>
            <tr><td>UI Designer</td><td>$20k — $55k</td><td>$1 667 — $4 583</td><td>Візуальна майстерність + системи — ключ до product polish.</td></tr>
          </tbody>
        </table>

        <h5>Time-to-offer (орієнти)</h5>
        <ul>
          <li>Junior → Mid: 1–3 міс</li>
          <li>Mid → Senior: 3–8 міс (з portfolio та mock interviews)</li>
        </ul>

        <h5>Career toolkit</h5>
        <ul>
          <li>CV & LinkedIn templates</li>
          <li>Recorded mock-interviews з фідбеком</li>
          <li>Negotiation checklist</li>
        </ul>
      `
    },

    "format": {
      title: "Формат & Підтримка — детально",
      sub: "Live-сесії, mentor 1:1, office-hours, матеріали та гарантії.",
      body: `
        <h4>Як відбувається навчання</h4>
        <p>2 live-сесії / тиждень, записи доступні 24/7, mentor 1:1, weekly demo-checks та peer-review.</p>

        <h5>Що входить</h5>
        <ul>
          <li>Синхронні лекції + практичні розбори</li>
          <li>1:1 mentor sessions</li>
          <li>Office-hours двічі на тиждень</li>
          <li>Шаблони, rubrics, checklists, demo-day support</li>
        </ul>

        <h5>Гарантії та підтримка</h5>
        <p>Career support: mock-interviews, hiring-days, direct-hire partnership. Після курсу — підтримка з portfolio refinement.</p>
      `
    },

    "program": {
      title: "Повна програма (коротко)",
      sub: "6 модулів, 10 практичних проєктів, demo day та career support.",
      body: `
        <h4>Структура курсу</h4>
        <ol>
          <li>Module 1 — Research</li>
          <li>Module 2 — Interaction Design</li>
          <li>Module 3 — Visual Design</li>
          <li>Module 4 — Prototyping & Testing</li>
          <li>Module 5 — Frontend for Designers</li>
          <li>Module 6 — Career Prep & Demo Day</li>
        </ol>
      `
    }
  };

  // modal references
  const modalDetails = document.getElementById('modal-details');
  const modalSignup = document.getElementById('modal-signup');
  const createTrap = window.createFocusTrap || (window.focusTrap && window.focusTrap.createFocusTrap) || null;

  function openModal(modalEl, opener) {
    if (!modalEl) return;
    modalEl.classList.remove('hidden');
    modalEl.style.display = 'flex';
    modalEl.setAttribute('aria-hidden','false');
    html.style.overflow = 'hidden';
    if (opener) opener.setAttribute('aria-expanded','true');
    if (createTrap) {
      modalEl.__trap = createTrap(modalEl, { escapeDeactivates: false });
      modalEl.__trap.activate();
    } else {
      const f = modalEl.querySelector('button, [href], input, textarea');
      if (f) f.focus();
    }
  }
  function closeModal(modalEl, opener) {
    if (!modalEl) return;
    modalEl.classList.add('hidden'); modalEl.style.display='';
    modalEl.setAttribute('aria-hidden','true');
    html.style.overflow = '';
    if (opener) opener.setAttribute('aria-expanded','false');
    if (modalEl.__trap && typeof modalEl.__trap.deactivate === 'function') {
      try { modalEl.__trap.deactivate(); } catch(e) {}
      modalEl.__trap = null;
    }
  }

  // Delegate actions
  document.body.addEventListener('click', function(e) {
    const btn = e.target.closest('[data-action]');
    if (!btn) return;
    const action = btn.getAttribute('data-action');

    if (action === 'details') {
      const key = btn.getAttribute('data-target') || 'program';
      const data = DETAILS[key] || DETAILS['program'];
      document.getElementById('modal-details-title').textContent = data.title;
      document.getElementById('modal-details-sub').textContent = data.sub;
      document.getElementById('modal-details-body').innerHTML = data.body;
      const signupBtn = modalDetails.querySelector('[data-action="signup"]');
      if (signupBtn) signupBtn.setAttribute('data-package', btn.getAttribute('data-package') || key);
      openModal(modalDetails, btn);
      return;
    }

    if (action === 'signup') {
      const pkg = btn.getAttribute('data-package') || '';
      document.getElementById('signup-package').value = pkg;
      document.getElementById('modal-signup-sub').textContent = pkg ? `Пакет: ${pkg}` : 'Заповніть форму для запису';
      openModal(modalSignup, btn);
      return;
    }
  });

  // close handlers
  document.querySelectorAll('[data-close]').forEach(el => el.addEventListener('click', function(e){
    const modal = e.target.closest('[role="dialog"]');
    if (modal) closeModal(modal);
  }));

  // click backdrop to close (safe)
  document.querySelectorAll('[role="dialog"]').forEach(modal => {
    modal.addEventListener('click', function(e) {
      if (e.target === modal.querySelector('.absolute')) closeModal(modal);
    });
  });

  // Escape closes modals
  document.addEventListener('keydown', function(e){
    if (e.key === 'Escape') {
      document.querySelectorAll('[role="dialog"]').forEach(m => { if (!m.classList.contains('hidden')) closeModal(m); });
    }
  });

  // signup demo submit
  const signupForm = document.getElementById('signup-form');
  if (signupForm) {
    signupForm.addEventListener('submit', function(e){
      e.preventDefault();
      const fd = new FormData(signupForm);
      const name = fd.get('name') || 'Студент';
      closeModal(modalSignup);
      alert(`Дякуємо, ${name}! Ми отримали вашу заявку і зв'яжемося найближчим робочим днем.`);
      signupForm.reset();
    });
  }

  // GSAP animations (reveal, hover, counters)
  if (window.gsap && window.ScrollTrigger) {
    gsap.registerPlugin(ScrollTrigger);

    gsap.from('[data-card]', {
      y: 30, opacity: 0, duration: 0.8, ease: 'power3.out', stagger: 0.12,
      scrollTrigger: { trigger: '#perevagi', start: 'top 85%' }
    });

    document.querySelectorAll('[data-card]').forEach(card => {
      card.addEventListener('mouseenter', () => gsap.to(card, { scale:1.01, boxShadow:'0 18px 40px rgba(2,6,23,0.12)', duration:0.35 }));
      card.addEventListener('mouseleave', () => gsap.to(card, { scale:1, boxShadow:'0 10px 30px rgba(2,6,23,0.06)', duration:0.35 }));
    });

    document.querySelectorAll('.btn-eq').forEach(btn => {
      btn.addEventListener('mouseenter', () => gsap.to(btn, { y:-3, duration:0.18 }));
      btn.addEventListener('mouseleave', () => gsap.to(btn, { y:0, duration:0.18 }));
      btn.addEventListener('mousedown', () => gsap.to(btn, { scale:0.98, duration:0.06 }));
      btn.addEventListener('mouseup', () => gsap.to(btn, { scale:1, duration:0.06 }));
    });

    document.querySelectorAll('[data-counter]').forEach(el => {
      const end = parseFloat(el.getAttribute('data-counter')) || 0;
      const obj = { v: 0 };
      gsap.to(obj, {
        v: end, duration: Math.max(1.2, end/60), ease:'power1.out',
        scrollTrigger: { trigger: el, start:'top 90%', once:true },
        onUpdate: () => el.textContent = Math.round(obj.v)
      });
    });

    // modal open animation observer
    const observer = new MutationObserver(muts => {
      muts.forEach(m => {
        if (m.type === 'attributes' && m.target.getAttribute('aria-hidden') === 'false') {
          const content = m.target.querySelector('.relative') || m.target.querySelector('div');
          if (content) gsap.fromTo(content, { y:-12, opacity:0, scale:0.995 }, { y:0, opacity:1, scale:1, duration:0.42, ease:'power3.out' });
        }
      });
    });
    document.querySelectorAll('[role="dialog"]').forEach(node => observer.observe(node, { attributes:true, attributeFilter:['style','class','aria-hidden'] }));
  }

  // initial aria-hidden
  document.querySelectorAll('[role="dialog"]').forEach(m => m.setAttribute('aria-hidden','true'));
});
</script>







<!-- =========================
     FAQ (Питання й відповіді) — автономний блок
     - Scoped styles & scripts under #pytannya (no bleed)
     - Accessible accordion, keyboard nav, search + highlight
     - Smooth expand/collapse animation (JS calculates height)
<!-- START: FAQ SECTION (self-contained) -->
<section id="pytannya" aria-labelledby="faq-title" class="faq-section" role="region">
  <!-- Prevent automatic browser jump to #pytannya on load -->
  <script>
    (function(){
      try {
        if (location.hash && location.hash.toLowerCase().includes('#pytannya')) {
          history.replaceState(null, document.title, location.pathname + location.search);
          // keep page at top — do not scroll to anchor
          window.scrollTo(0, 0);
        }
      } catch(e) { /* silent */ }
    })();
  </script>

  <style>
    /* ===== Scoped styles for FAQ (keeps everything local) ===== */
    #pytannya{ --bg:#f7fafc; --card:#fff; --text:#071423; --muted:#6b7280; --accent:#24C56A; --accent-dark:#1f9a51; --glass:rgba(8,15,20,0.04);
      font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial; padding:56px 18px; background:var(--bg); color:var(--text); box-sizing:border-box; }
    #pytannya .container{max-width:1100px;margin:0 auto;}
    #pytannya h2{font-size:32px;margin:0 0 6px;font-weight:800}
    #pytannya .lead{color:var(--muted);margin:0 0 20px;font-size:15px;line-height:1.6}

    /* Search */
    #pytannya .search-row{display:flex;gap:12px;align-items:center;margin:18px 0 22px}
    #pytannya .search-wrap{position:relative;flex:1}
    #pytannya input[type="search"]{width:100%;padding:12px 46px 12px 14px;border-radius:12px;border:1px solid var(--glass);font-size:15px;background:#fff;box-shadow:0 8px 24px rgba(11,18,32,0.03)}
    #pytannya button.clear{position:absolute;right:8px;top:50%;transform:translateY(-50%);border-radius:8px;border:0;background:#f3f7f7;padding:6px 10px;color:var(--muted);cursor:pointer;display:none}
    #pytannya button.clear.show{display:inline-block}
    #pytannya .hint{font-size:13px;color:var(--muted)}

    /* List / accordion */
    #pytannya .faq-list{display:flex;flex-direction:column;gap:12px}
    #pytannya .faq-item{background:var(--card);border-radius:12px;border:1px solid rgba(8,15,20,0.03);box-shadow:0 18px 48px rgba(11,18,32,0.04);overflow:hidden}
    #pytannya .faq-toggle{display:flex;align-items:center;justify-content:space-between;padding:16px 18px;border:0;background:transparent;width:100%;text-align:left;cursor:pointer;font-weight:700;font-size:15px;color:var(--text)}
    #pytannya .faq-toggle:focus{outline:3px solid rgba(36,197,106,0.12);outline-offset:2px;border-radius:8px}
    #pytannya .chev{width:20px;height:20px;color:var(--muted);transition:transform .26s ease}
    #pytannya .panel{padding:0 18px;overflow:hidden;max-height:0;opacity:0;transition:max-height .36s cubic-bezier(.2,.9,.2,1),opacity .24s ease}
    #pytannya .panel.open{opacity:1;padding:12px 18px 18px 18px}
    #pytannya .body{font-size:15px;line-height:1.6;color:#173132}
    #pytannya .meta{margin-top:10px}
    #pytannya .pill{display:inline-block;padding:6px 10px;border-radius:999px;background:#f2fbf6;color:var(--accent);font-weight:700;margin-right:8px;font-size:13px;border:1px solid rgba(36,197,106,0.06)}

    /* Show more */
    #pytannya .more-wrap{text-align:center;margin-top:14px}
    #pytannya .more-btn{display:inline-block;padding:10px 16px;border-radius:10px;border:1px dashed rgba(8,15,20,0.04);background:#fff;cursor:pointer;font-weight:700;color:var(--accent)}
    #pytannya .more-btn:active{transform:translateY(1px)}

    /* CTA */
    #pytannya .cta{display:flex;justify-content:center;margin-top:22px}
    #pytannya .btn-primary{background:linear-gradient(180deg,var(--accent),var(--accent-dark));color:#fff;padding:12px 20px;border-radius:12px;border:0;font-weight:800;box-shadow:0 14px 36px rgba(36,197,106,0.12);cursor:pointer}

    /* Modal (centered) */
    #pytannya .backdrop{position:fixed;inset:0;display:none;align-items:center;justify-content:center;padding:20px;background:rgba(2,6,23,0.56);z-index:12000}
    #pytannya .backdrop.open{display:flex}
    #pytannya .modal{background:#fff;border-radius:12px;max-width:920px;width:100%;max-height:88vh;display:flex;flex-direction:column;box-shadow:0 30px 80px rgba(2,6,23,0.6);overflow:hidden;transform:translateY(0);transition:transform .18s ease}
    #pytannya .modal .head{display:flex;align-items:center;justify-content:space-between;padding:16px 18px;border-bottom:1px solid rgba(8,15,20,0.03)}
    #pytannya .modal .title{font-size:20px;font-weight:800}
    #pytannya .modal .body{padding:18px 22px;overflow:auto}
    #pytannya .modal .footer{display:flex;justify-content:flex-end;gap:12px;padding:14px 18px;border-top:1px solid rgba(8,15,20,0.03)}
    #pytannya .modal .close{background:transparent;border:0;font-size:20px;color:var(--muted);cursor:pointer;padding:6px;border-radius:6px}
    #pytannya .modal .close:focus{outline:3px solid rgba(36,197,106,0.12)}

    /* Form */
    #pytannya form{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    #pytannya .full{grid-column:1/-1}
    #pytannya label{display:block;font-size:13px;margin-bottom:6px;color:var(--muted);font-weight:700}
    #pytannya input, #pytannya textarea, #pytannya select{width:100%;padding:10px 12px;border-radius:8px;border:1px solid rgba(8,15,20,0.06);font-size:14px;background:#fff}
    #pytannya textarea{min-height:110px;resize:vertical}
    #pytannya .error{color:#b91c1c;font-size:13px;margin-top:6px;display:none}
    #pytannya .success{background:#f0fdf4;color:#064e3b;padding:12px;border-radius:8px;border:1px solid rgba(36,197,106,0.08);display:none;margin-top:12px}

    /* Responsive */
    @media (max-width:900px){ #pytannya form{grid-template-columns:1fr} #pytannya .modal{max-width:96%} }
    @media (max-width:640px){ #pytannya h2{font-size:22px} #pytannya .lead{font-size:14px} }

    /* Highlight */
    #pytannya mark.fnd{background:linear-gradient(90deg,#fffbcc,#ffd9a8);padding:0 2px;border-radius:3px}

    /* visually-hidden */
    #pytannya .sr-only{position:absolute!important;left:-9999px;width:1px;height:1px;top:auto;overflow:hidden}
  </style>

  <div class="container">
    <h2 id="faq-title">Питання й відповіді</h2>
    <p class="lead">Відповіді на найважливіші запитання — формат, результати, гарантії та кар’єрна підтримка. Якщо не знайшли — запишіться на консультацію.</p>

    <!-- Search -->
    <div class="search-row" role="search" aria-label="Пошук по питаннях">
      <div class="search-wrap">
        <label for="faqSearch" class="sr-only">Пошук по питаннях</label>
        <input id="faqSearch" type="search" placeholder="Пошук: формат, програма, працевлаштування, сертифікат..." aria-label="Пошук по питаннях" />
        <button id="faqClear" class="clear" aria-hidden="true" title="Очистити пошук">✕</button>
      </div>
      <div class="hint" aria-hidden="true">Пошук інтерактивний — підсвічує результати</div>
    </div>

    <!-- FAQ list -->
    <div id="faqList" class="faq-list" role="list" aria-label="Список запитань">
      <!-- 1..6 visible -->
      <article class="faq-item" role="listitem" data-id="q1">
        <h3>
          <button class="faq-toggle" aria-expanded="false" aria-controls="panel-q1" id="btn-q1">
            <span class="faq-q">1. Хто підходить для курсу? (цільова аудиторія)</span>
            <svg class="chev" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </h3>
        <div id="panel-q1" class="panel" role="region" aria-labelledby="btn-q1" hidden>
          <div class="body">
            <p><strong>Коротко:</strong> Junior → mid дизайнери, frontend-спеціалісти, product/QA або ті, хто прагне сформувати 3–4 конкурентних кейси для портфоліо.</p>
            <div class="meta"><span class="pill">6 місяців</span><span class="pill">10 проєктів</span></div>
            <div style="margin-top:12px"><button class="btn-primary" data-open-modal="consult" type="button">Записатися на консультацію</button></div>
          </div>
        </div>
      </article>

      <article class="faq-item" role="listitem" data-id="q2">
        <h3>
          <button class="faq-toggle" aria-expanded="false" aria-controls="panel-q2" id="btn-q2">
            <span class="faq-q">2. Який формат та розклад занять?</span>
            <svg class="chev" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </h3>
        <div id="panel-q2" class="panel" role="region" aria-labelledby="btn-q2" hidden>
          <div class="body">
            <p>2 live-сесії на тиждень + записи; 8–12 год/тиждень домашньої роботи; регулярні менторські рев’ю та peer-review.</p>
            <div class="meta"><span class="pill">Live + запис</span><span class="pill">Mentor reviews</span></div>
            <div style="margin-top:12px"><button class="btn-primary" data-open-modal="consult" type="button">Детальніше / Записатися</button></div>
          </div>
        </div>
      </article>

      <article class="faq-item" role="listitem" data-id="q3">
        <h3>
          <button class="faq-toggle" aria-expanded="false" aria-controls="panel-q3" id="btn-q3">
            <span class="faq-q">3. Які результати та гарантії — чи є метрики?</span>
            <svg class="chev" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </h3>
        <div id="panel-q3" class="panel" role="region" aria-labelledby="btn-q3" hidden>
          <div class="body">
            <p>Hire-rate ~78% упродовж 3 місяців (регіон/ринок впливають). Середній час до офера — 2–3 місяці. Студенти отримують 3–4 повні кейси з метриками для портфоліо.</p>
            <p style="font-size:13px;color:var(--muted)">Метрики наведені за згодою випускників і внутрішньої статистики.</p>
            <div style="margin-top:12px"><button class="btn-primary" data-open-modal="consult" type="button">Проконсультуватися щодо результатів</button></div>
          </div>
        </div>
      </article>

      <article class="faq-item" role="listitem" data-id="q4">
        <h3>
          <button class="faq-toggle" aria-expanded="false" aria-controls="panel-q4" id="btn-q4">
            <span class="faq-q">4. Яка увага приділяється кар'єрі й працевлаштуванню?</span>
            <svg class="chev" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </h3>
        <div id="panel-q4" class="panel" role="region" aria-labelledby="btn-q4" hidden>
          <div class="body">
            <p>Career support: CV/LinkedIn рев’ю, mock interviews з lead-менторями, direct-intros до партнерів, negotiation support. Після курсу — персональна career-дорожня карта і 3-місячний follow-up.</p>
            <div style="margin-top:12px"><button class="btn-primary" data-open-modal="consult" type="button">Записатися на кар'єрну консультацію</button></div>
          </div>
        </div>
      </article>

      <article class="faq-item" role="listitem" data-id="q5">
        <h3>
          <button class="faq-toggle" aria-expanded="false" aria-controls="panel-q5" id="btn-q5">
            <span class="faq-q">5. Які платіжні умови та чи є повернення?</span>
            <svg class="chev" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </h3>
        <div id="panel-q5" class="panel" role="region" aria-labelledby="btn-q5" hidden>
          <div class="body">
            <p>Оплата карткою або у розстрочку. Політика: повне повернення протягом 14 днів (якщо пройдено ≤1 модуля). Після 14 днів — часткове повернення згідно договору.</p>
            <div style="margin-top:12px"><button class="btn-primary" data-open-modal="consult" type="button">Проконсультуватись про оплату</button></div>
          </div>
        </div>
      </article>

      <article class="faq-item" role="listitem" data-id="q6">
        <h3>
          <button class="faq-toggle" aria-expanded="false" aria-controls="panel-q6" id="btn-q6">
            <span class="faq-q">6. Сертифікат та перевірка сертифіката</span>
            <svg class="chev" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </h3>
        <div id="panel-q6" class="panel" role="region" aria-labelledby="btn-q6" hidden>
          <div class="body">
            <p>Після завершення — цифровий сертифікат з унікальним кодом для верифікації. Додатково — бейджі за ключові навички після перевірки deliverables.</p>
            <div style="margin-top:12px"><button class="btn-primary" data-open-modal="consult" type="button">Дізнатись про сертифікацію</button></div>
          </div>
        </div>
      </article>

      <!-- hidden extras (q7..q12) initially display:none -->
      <article class="faq-item faq-hidden" role="listitem" data-id="q7" aria-hidden="true" style="display:none">
        <h3>
          <button class="faq-toggle" aria-expanded="false" aria-controls="panel-q7" id="btn-q7">
            <span class="faq-q">7. Які технічні вимоги та інструменти?</span>
            <svg class="chev" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </h3>
        <div id="panel-q7" class="panel" role="region" aria-labelledby="btn-q7" hidden>
          <div class="body">
            <p>Сучасний браузер (Chrome/Firefox/Edge), інтернет 5+ Mbps, ноутбук від 13". Інструменти: Figma, Miro, Notion; базові знання HTML/CSS — плюс.</p>
          </div>
        </div>
      </article>

      <article class="faq-item faq-hidden" role="listitem" data-id="q8" aria-hidden="true" style="display:none">
        <h3>
          <button class="faq-toggle" aria-expanded="false" aria-controls="panel-q8" id="btn-q8">
            <span class="faq-q">8. Що входить у програму (модулі/ДЗ/портфоліо)?</span>
            <svg class="chev" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </h3>
        <div id="panel-q8" class="panel" role="region" aria-labelledby="btn-q8" hidden>
          <div class="body">
            <p>6 модулів, 10 практичних проєктів з рев’ю менторів. Після курсу — 3–4 повних кейси, готові для HR/PM.</p>
            <div style="margin-top:10px"><button class="btn-primary" data-download="syllabus" type="button">Завантажити програму (PDF)</button></div>
          </div>
        </div>
      </article>

      <article class="faq-item faq-hidden" role="listitem" data-id="q9" aria-hidden="true" style="display:none">
        <h3>
          <button class="faq-toggle" aria-expanded="false" aria-controls="panel-q9" id="btn-q9">
            <span class="faq-q">9. Чи є стипендії / знижки / корпоративні пакети?</span>
            <svg class="chev" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </h3>
        <div id="panel-q9" class="panel" role="region" aria-labelledby="btn-q9" hidden>
          <div class="body">
            <p>Є гранти та корпоративні пакети. Залиште заявку — підберемо фінансування або пакет для компанії.</p>
          </div>
        </div>
      </article>

      <article class="faq-item faq-hidden" role="listitem" data-id="q10" aria-hidden="true" style="display:none">
        <h3>
          <button class="faq-toggle" aria-expanded="false" aria-controls="panel-q10" id="btn-q10">
            <span class="faq-q">10. Як проходить оцінювання та екзамени?</span>
            <svg class="chev" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </h3>
        <div id="panel-q10" class="panel" role="region" aria-labelledby="btn-q10" hidden>
          <div class="body">
            <p>Оцінювання: менторські рев’ю, peer-review, перевірка deliverables. Фінальна демонстрація кейсів — рішення про сертифікацію згідно rubric.</p>
          </div>
        </div>
      </article>

      <article class="faq-item faq-hidden" role="listitem" data-id="q11" aria-hidden="true" style="display:none">
        <h3>
          <button class="faq-toggle" aria-expanded="false" aria-controls="panel-q11" id="btn-q11">
            <span class="faq-q">11. Чи підходить курс для людей за кордоном?</span>
            <svg class="chev" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </h3>
        <div id="panel-q11" class="panel" role="region" aria-labelledby="btn-q11" hidden>
          <div class="body">
            <p>Так — записи 24/7, повтори live-сесій, асинхронні рев’ю і рекомендації для міжнародних студентів.</p>
          </div>
        </div>
      </article>

      <article class="faq-item faq-hidden" role="listitem" data-id="q12" aria-hidden="true" style="display:none">
        <h3>
          <button class="faq-toggle" aria-expanded="false" aria-controls="panel-q12" id="btn-q12">
            <span class="faq-q">12. Політика конфіденційності та збирання даних?</span>
            <svg class="chev" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </h3>
        <div id="panel-q12" class="panel" role="region" aria-labelledby="btn-q12" hidden>
          <div class="body">
            <p>Ми зберігаємо мінімальний набір даних для навчання та сертифікації. Дані обробляються відповідно до політики конфіденційності; доступ до робіт — лише з вашої згоди.</p>
          </div>
        </div>
      </article>
    </div>

    <!-- Show more -->
    <div class="more-wrap" aria-hidden="false">
      <button id="faqShowMore" class="more-btn" aria-expanded="false">Показати додаткові питання</button>
    </div>

    <!-- CTA -->
    <div class="cta">
      <button class="btn-primary" data-open-modal="consult" type="button">Не знайшли відповідь? Записатися на консультацію</button>
    </div>
  </div>

  <!-- Modal: Consultation form (centered) -->
  <div class="backdrop" id="faqBackdrop" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="faqModalTitle">
    <div class="modal" role="document" aria-describedby="faqModalDesc">
      <div class="head">
        <h3 id="faqModalTitle" class="title">Записатися на консультацію</h3>
        <button class="close" type="button" data-close-modal aria-label="Закрити модал">✕</button>
      </div>

      <div class="body" id="faqModalDesc">
        <form id="faqForm" novalidate>
          <div>
            <label for="f-name">Ім'я *</label>
            <input id="f-name" name="name" type="text" required />
            <div class="error" data-error-for="name">Вкажіть ім'я</div>
          </div>

          <div>
            <label for="f-email">Email *</label>
            <input id="f-email" name="email" type="email" required />
            <div class="error" data-error-for="email">Вкажіть валідний email</div>
          </div>

          <div>
            <label for="f-phone">Телефон</label>
            <input id="f-phone" name="phone" type="tel" />
            <div class="error" data-error-for="phone">Невірний формат</div>
          </div>

          <div>
            <label for="f-time">Бажаний час</label>
            <select id="f-time" name="time">
              <option value="">Не важливо</option>
              <option>Ранок (9:00–12:00)</option>
              <option>День (12:00–16:00)</option>
              <option>Вечір (18:00–21:00)</option>
            </select>
          </div>

          <div class="full">
            <label for="f-msg">Коротко про питання *</label>
            <textarea id="f-msg" name="message" required placeholder="Наприклад: хочу дізнатись про програму та працевлаштування"></textarea>
            <div class="error" data-error-for="message">Опишіть, будь ласка, ваше питання</div>
          </div>

          <!-- honeypot (hidden) -->
          <div style="position:absolute;left:-9999px;opacity:0;" aria-hidden="true">
            <label>Якщо ви людина — залиште порожнім</label>
            <input name="hp" tabindex="-1" autocomplete="off" />
          </div>

          <div class="full" style="display:flex;align-items:center;gap:8px">
            <input id="f-gdpr" type="checkbox" required />
            <label for="f-gdpr" style="margin:0;font-size:13px;color:var(--muted)">Погоджуюсь на обробку персональних даних *</label>
          </div>

          <div class="full" style="display:flex;justify-content:flex-end;gap:10px;margin-top:8px">
            <button type="submit" class="btn-primary">Відправити заявку</button>
            <button type="button" class="more-btn" data-close-modal>Скасувати</button>
          </div>

          <div class="success" role="status" aria-live="polite">Дякуємо! Ваша заявка прийнята. Очікуйте зв'язку протягом 24 годин.</div>
        </form>
      </div>
    </div>
  </div>

  <!-- JSON-LD (FAQ short answers) -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {"@type":"Question","name":"Хто підходить для курсу?","acceptedAnswer":{"@type":"Answer","text":"Junior→mid, фахівці з суміжних сфер, ті хто хоче сформувати портфоліо."}},
      {"@type":"Question","name":"Який формат та розклад занять?","acceptedAnswer":{"@type":"Answer","text":"2 live-сесії на тиждень + записи; 6 місяців; 8–12 год/тиждень."}},
      {"@type":"Question","name":"Які результати та гарантії?","acceptedAnswer":{"@type":"Answer","text":"Hire-rate ~78% (3 міс); 3–4 повних кейси у портфоліо."}}
    ]
  }
  </script>

  <!-- Scoped JS: accordion, search, show-more, modal (no-scroll restore), form simulate -->
  <script>
  (function(){
    const root = document.getElementById('pytannya');
    if(!root) return;

    const faqList = root.querySelector('#faqList');
    const toggles = Array.from(root.querySelectorAll('.faq-toggle'));
    const panels = Array.from(root.querySelectorAll('.panel'));
    const searchInput = root.querySelector('#faqSearch');
    const clearBtn = root.querySelector('#faqClear');
    const showMoreBtn = root.querySelector('#faqShowMore');
    const hiddenItems = Array.from(root.querySelectorAll('.faq-hidden'));
    const backdrop = root.querySelector('#faqBackdrop');
    const modalOpenButtons = Array.from(root.querySelectorAll('[data-open-modal="consult"]'));
    const modalCloseButtons = Array.from(root.querySelectorAll('[data-close-modal]'));
    const form = root.querySelector('#faqForm');
    const successEl = root.querySelector('.success');

    // Analytics stub
    function sendEvent(name, payload){ try{ if(window.dataLayer) window.dataLayer.push(Object.assign({event:name},payload||{})); else console.log('[event]', name, payload||{}); }catch(e){} }

    // init panels hidden
    panels.forEach(p => { p.hidden = true; p.style.maxHeight = '0px'; p.style.opacity = '0'; });

    // Open / close panel functions
    function openPanel(panel){
      panel.hidden = false;
      panel.classList.add('open');
      const body = panel.querySelector('.body');
      const natural = body.scrollHeight + 24;
      panel.style.maxHeight = natural + 'px';
      panel.style.opacity = '1';
    }
    function closePanel(panel){
      panel.classList.remove('open');
      panel.style.maxHeight = panel.scrollHeight + 'px';
      void panel.offsetHeight;
      panel.style.maxHeight = '0px';
      panel.style.opacity = '0';
      panel.addEventListener('transitionend', function handler(){
        panel.hidden = true;
        panel.removeEventListener('transitionend', handler);
      });
    }

    // Accordion toggle (single open)
    faqList.addEventListener('click', (e)=>{
      const btn = e.target.closest('.faq-toggle');
      if(!btn) return;
      const panelId = btn.getAttribute('aria-controls');
      const panel = root.querySelector('#' + panelId);
      if(!panel) return;
      const isOpen = btn.getAttribute('aria-expanded') === 'true';

      toggles.forEach(t => {
        if(t !== btn && t.getAttribute('aria-expanded') === 'true'){
          t.setAttribute('aria-expanded','false');
          const p = root.querySelector('#' + t.getAttribute('aria-controls'));
          if(p) closePanel(p);
        }
      });

      btn.setAttribute('aria-expanded', String(!isOpen));
      if(!isOpen) openPanel(panel); else closePanel(panel);
      sendEvent('faq_item_toggle', { id: panelId, open: !isOpen });
    });

    // Keyboard navigation for toggles
    root.addEventListener('keydown', (e)=>{
      const active = document.activeElement;
      if(!active || !active.classList || !active.classList.contains('faq-toggle')) return;
      const list = toggles;
      const idx = list.indexOf(active);
      if(e.key === 'ArrowDown'){ e.preventDefault(); list[(idx+1)%list.length].focus(); }
      if(e.key === 'ArrowUp'){ e.preventDefault(); list[(idx-1+list.length)%list.length].focus(); }
      if(e.key === 'Home'){ e.preventDefault(); list[0].focus(); }
      if(e.key === 'End'){ e.preventDefault(); list[list.length-1].focus(); }
      if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); active.click(); }
    });

    // Search + highlight (debounced)
    let timer = null;
    function escapeRegExp(s){ return s.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); }
    function highlight(node, q){
      if(!node) return;
      if(!q){ node.innerHTML = node.textContent; return; }
      const re = new RegExp('('+escapeRegExp(q)+')','ig');
      node.innerHTML = node.textContent.replace(re, '<mark class="fnd">$1</mark>');
    }
    function applyFilter(q){
      const query = (q||'').trim().toLowerCase();
      const items = Array.from(root.querySelectorAll('.faq-item'));
      items.forEach(it=>{
        const title = it.querySelector('.faq-q').textContent.trim().toLowerCase();
        const body = it.querySelector('.body') ? it.querySelector('.body').textContent.toLowerCase() : '';
        const combined = title + ' ' + body;
        if(query === '' || combined.indexOf(query) !== -1){
          it.style.display = '';
          highlight(it.querySelector('.faq-q'), query);
          const b = it.querySelector('.body'); if(b) highlight(b, query);
          if(it.classList.contains('faq-hidden')) it.style.display = '';
        } else {
          it.style.display = 'none';
        }
      });
      clearBtn.classList.toggle('show', query.length>0);
      sendEvent('faq_search',{query});
    }
    searchInput.addEventListener('input', (e)=>{
      const v = e.target.value;
      if(timer) clearTimeout(timer);
      timer = setTimeout(()=> applyFilter(v), 180);
    });
    clearBtn.addEventListener('click', ()=>{ searchInput.value=''; applyFilter(''); searchInput.focus(); clearBtn.classList.remove('show'); });

    // Show more / less
    let moreOpen = false;
    showMoreBtn.addEventListener('click', ()=>{
      moreOpen = !moreOpen;
      showMoreBtn.setAttribute('aria-expanded', String(moreOpen));
      showMoreBtn.textContent = moreOpen ? 'Приховати додаткові питання' : 'Показати додаткові питання';
      hiddenItems.forEach(it=>{ it.style.display = moreOpen ? '' : 'none'; it.setAttribute('aria-hidden', String(!moreOpen)); });
      sendEvent('faq_show_more',{open:moreOpen});
    });

    // Modal behavior: center modal, focus-trap, no-scroll restore approach
    let lastFocused = null;
    let savedScroll = 0;

    function focusableWithin(node){
      return Array.from(node.querySelectorAll('a[href],button:not([disabled]),textarea,input,select,[tabindex]:not([tabindex="-1"])'))
        .filter(el => el.offsetParent !== null);
    }

    function openModal(){
      // save visible scroll position to avoid jump on close
      savedScroll = window.scrollY || window.pageYOffset || 0;
      lastFocused = document.activeElement;
      backdrop.classList.add('open'); backdrop.setAttribute('aria-hidden','false');
      // lock scroll
      document.documentElement.style.overflow = 'hidden';
      document.body.style.overflow = 'hidden';
      // focus first input without scrolling the page
      const first = backdrop.querySelector('input,textarea,select,button');
      try {
        if(first && typeof first.focus === 'function') first.focus({preventScroll:true});
      } catch(e){ if(first) first.focus(); }
      sendEvent('faq_consultation_open',{});
    }

    function closeModal(){
      backdrop.classList.remove('open'); backdrop.setAttribute('aria-hidden','true');
      document.documentElement.style.overflow = '';
      document.body.style.overflow = '';
      // restore scroll to saved position to prevent jumping to FAQ section
      try { window.scrollTo(0, Math.max(0, savedScroll)); } catch(e){}
      // restore focus to previously focused element without scrolling
      try {
        if(lastFocused && typeof lastFocused.focus === 'function') lastFocused.focus({preventScroll:true});
      } catch(e){
        try { if(lastFocused) lastFocused.focus(); } catch(_) {}
      }
      sendEvent('faq_consultation_close',{});
    }

    modalOpenButtons.forEach(b => b.addEventListener('click', openModal));
    modalCloseButtons.forEach(b => b.addEventListener('click', closeModal));
    // close when clicking backdrop
    backdrop.addEventListener('click', (e)=>{ if(e.target === backdrop) closeModal(); });
    // ESC to close
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape' && backdrop.classList.contains('open')) closeModal(); });

    // Focus-trap inside modal
    backdrop.addEventListener('keydown', (e)=>{
      if(e.key !== 'Tab') return;
      const focusables = focusableWithin(backdrop);
      if(focusables.length === 0) return;
      const first = focusables[0], last = focusables[focusables.length-1];
      if(e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
      else if(!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
    });

    // Form validation and simulated submit
    function validateField(field){
      const name = field.name; const val = (field.value||'').trim();
      const err = root.querySelector('.error[data-error-for="'+name+'"]');
      let ok = true;
      if(field.required && val === '') ok = false;
      if(ok && field.type === 'email') ok = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(val);
      if(!ok){ if(err) err.style.display='block'; field.setAttribute('aria-invalid','true'); }
      else { if(err) err.style.display='none'; field.removeAttribute('aria-invalid'); }
      return ok;
    }

    if(form){
      form.addEventListener('submit', (e)=>{
        e.preventDefault();
        // honeypot
        const hp = form.querySelector('input[name="hp"]'); if(hp && hp.value.trim() !== '') return;
        const fields = Array.from(form.querySelectorAll('input,textarea,select')).filter(f=> f.type !== 'button' && f.type !== 'submit');
        let allOk = true;
        fields.forEach(f => { if(!validateField(f)) allOk = false; });
        const gdpr = form.querySelector('#f-gdpr'); if(gdpr && !gdpr.checked){ allOk = false; gdpr.focus(); alert('Потрібно погодитись на обробку персональних даних.'); }
        if(!allOk){ const firstInvalid = form.querySelector('[aria-invalid="true"]'); if(firstInvalid) firstInvalid.focus(); return; }

        sendEvent('faq_consultation_submit', { name: form.name.value, email: form.email.value });
        const submitBtn = form.querySelector('button[type="submit"]'); submitBtn.disabled = true;
        setTimeout(()=> {
          successEl.style.display = 'block';
          form.reset();
          submitBtn.disabled = false;
          setTimeout(()=> { successEl.style.display = 'none'; closeModal(); }, 1400);
        }, 700);
      });

      form.addEventListener('blur', (e)=>{ if(e.target && (e.target.tagName==='INPUT' || e.target.tagName==='TEXTAREA' || e.target.tagName==='SELECT')) validateField(e.target); }, true);
    }

    // simulated download
    root.addEventListener('click', (e)=>{
      const dl = e.target.closest('[data-download="syllabus"]');
      if(dl){ sendEvent('faq_download_program',{}); alert('Завантаження програми (симуляція). Замініть на реальний файл у продакшені.'); }
    });

    // Hide extras initially
    hiddenItems.forEach(it => { it.style.display = 'none'; it.setAttribute('aria-hidden','true'); });

    // Do not auto-focus or scroll to FAQ on page load (defensive)
  })();
  </script>
</section>




<!-- ====== START: SCHOOL SECTION (self-contained, namespaced) ====== -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

<section id="school" class="school-block" aria-labelledby="school-title">
  <div class="school-inner">
    <!-- Header -->
    <header class="school-header">
      <h2 id="school-title">Школа</h2>
      <p class="school-sub">Практичний UX/UI інтенсив — від досліджень до працевлаштування. Portfolio-ready · mentor-led · outcome-driven.</p>
    </header>

    <!-- Top: about + stats -->
    <div class="school-top">
      <div class="school-about">
        <p>Наша школа готує дизайнерів та researcher’ів з 2018 року. Поєднуємо live-заняття, менторські рев’ю та практичні проєкти — щоб ви отримали portfolio-ready кейси і підвищили шанс на офер.</p>
        <div class="school-about-meta">Понад <strong>1 200</strong> випускників • <strong>78%</strong> hire rate • <strong>10</strong> практичних проєктів</div>
      </div>

      <div class="school-stats" aria-hidden="false">
        <div class="stat">
          <div class="stat-num" data-target="1200">1200</div>
          <div class="stat-label">випускників</div>
        </div>
        <div class="stat">
          <div class="stat-num" data-target="78">78</div>
          <div class="stat-label">hire rate %</div>
        </div>
        <div class="stat">
          <div class="stat-num" data-target="2">2</div>
          <div class="stat-label">міс до офера (середн.)</div>
        </div>
      </div>
    </div>

    <!-- Packages: equal square cards -->
    <div class="school-cards" role="list" aria-label="Пакети">
      <!-- Starter -->
      <article class="card" role="listitem" data-package="starter">
        <div class="card-top">
          <h3 class="card-title">Starter</h3>
          <div class="card-salary"><span class="small">≈</span>$1,200–$2,800<span class="small">/міс</span></div>
        </div>

        <!-- IMAGE ON THE PACKAGE (Starter) -->
        <img src="img/qq1.png" alt="Starter" class="package-img">

        <p class="card-sub">8 тижнів · 6 практичних кейсів · 1:1 mentor</p>
        <ul class="card-bullets">
          <li>End-to-end кейси (research→prototype→test)</li>
          <li>2 clickable прототипи</li>
          <li>Mentor feedback</li>
        </ul>
        <div class="card-actions">
          <button class="btn btn-primary" data-action="details" data-target="starter" aria-controls="modal-details">Детальніше</button>
          <button class="btn btn-outline" data-action="signup" data-package="Starter" aria-controls="modal-signup">Записатися</button>
        </div>
      </article>

      <!-- Pro -->
      <article class="card" role="listitem" data-package="pro">
        <div class="card-top">
          <h3 class="card-title">Pro</h3>
          <div class="card-salary"><span class="small">≈</span>$2,000–$4,500<span class="small">/міс</span></div>
        </div>

        <!-- IMAGE ON THE PACKAGE (Pro) -->
        <img src="img/qq2.png" alt="Pro" class="package-img">

        <p class="card-sub">12–16 тижнів · design systems · motion</p>
        <ul class="card-bullets">
          <li>Design systems + Storybook POC</li>
          <li>6–10 portfolio projects</li>
          <li>Mock interviews & CV overhaul</li>
        </ul>
        <div class="card-actions">
          <button class="btn btn-primary" data-action="details" data-target="pro" aria-controls="modal-details">Детальніше</button>
          <button class="btn btn-outline" data-action="signup" data-package="Pro" aria-controls="modal-signup">Записатися</button>
        </div>
      </article>

      <!-- Master -->
      <article class="card" role="listitem" data-package="master">
        <div class="card-top">
          <h3 class="card-title">Master</h3>
          <div class="card-salary"><span class="small">≈</span>$3,500–$12,000<span class="small">/міс</span></div>
        </div>

        <!-- IMAGE ON THE PACKAGE (Master) -->
        <img src="img/qq3.png" alt="Master" class="package-img">

        <p class="card-sub">24 тижні · leadership · capstone</p>
        <ul class="card-bullets">
          <li>Product strategy · multi-team capstone</li>
          <li>Negotiation & hiring workshops</li>
          <li>Direct-hire opportunities</li>
        </ul>
        <div class="card-actions">
          <button class="btn btn-primary" data-action="details" data-target="master" aria-controls="modal-details">Детальніше</button>
          <button class="btn btn-outline" data-action="signup" data-package="Master" aria-controls="modal-signup">Записатися</button>
        </div>
      </article>
    </div>

    <!-- Comparison table (desktop) -->
    <div class="school-compare" aria-hidden="false">
      <div class="compare-head">
        <h3>Порівняння пакетів</h3>
        <div class="compare-actions">
          <button class="btn btn-outline" id="download-syllabus">Завантажити програму (PDF)</button>
        </div>
      </div>

      <div class="table-wrap" role="table" aria-label="Порівняльна таблиця пакетів">
        <div class="table-row header">
          <div class="cell feature">Фіча</div>
          <div class="cell">Starter</div>
          <div class="cell">Pro</div>
          <div class="cell">Master</div>
        </div>

        <div class="table-row">
          <div class="cell feature">Live-сесії</div>
          <div class="cell">2/тиж</div>
          <div class="cell">2/тиж + labs</div>
          <div class="cell">2/тиж + advanced</div>
        </div>

        <div class="table-row">
          <div class="cell feature">Проєкти</div>
          <div class="cell">3–6</div>
          <div class="cell">6–10</div>
          <div class="cell">10+</div>
        </div>

        <div class="table-row">
          <div class="cell feature">Mentor 1:1</div>
          <div class="cell">1</div>
          <div class="cell">3</div>
          <div class="cell">Lead mentor</div>
        </div>

        <div class="table-row">
          <div class="cell feature">Mock interviews</div>
          <div class="cell">—</div>
          <div class="cell">Так</div>
          <div class="cell">Так, team</div>
        </div>

        <div class="table-row">
          <div class="cell feature">Career support</div>
          <div class="cell">CV review</div>
          <div class="cell">Mock interviews, hiring-days</div>
          <div class="cell">Direct-hire, negotiation</div>
        </div>

        <div class="table-row">
          <div class="cell feature">Ціна (орієнт.)</div>
          <div class="cell">$499</div>
          <div class="cell">$1,499</div>
          <div class="cell">$3,499</div>
        </div>
      </div>
    </div>

    <!-- Deliverables, Why us -->
    <div class="school-extra">
      <div class="deliverables">
        <h4>Що ви отримаєте</h4>
        <ul>
          <li>6–10 end-to-end case studies</li>
          <li>2 clickable prototypes (mobile & desktop)</li>
          <li>Design system starter (tokens + components)</li>
          <li>Storybook POC & handoff checklist</li>
          <li>Notion case-study template + demo presentation</li>
          <li>CV & LinkedIn templates, negotiation checklist</li>
          <li>Recorded mock interviews + mentor feedback</li>
        </ul>
      </div>

      <div class="why-us">
        <h4>Чому ми</h4>
        <ul>
          <li>Практика, не лекції — 70% часу на hands-on</li>
          <li>Mentor sign-off для кожного кейсу</li>
          <li>Hiring-days & direct-hire партнери</li>
          <li>Rubrics & measurable outcomes</li>
          <li>12 міс доступ до матеріалів</li>
        </ul>
      </div>
    </div>

    <!-- FAQ + CTA strip -->
    <div class="school-bottom">
      <div class="faq">
        <h4>FAQ</h4>
        <details><summary>Хто підходить?</summary><div>Новачки з базою та mid designers. Індивідуальні менторські сесії допомагають підготуватися саме під ваш шлях.</div></details>
        <details><summary>Формат занять?</summary><div>2 live/тиж + записи; labs; менторські рев’ю.</div></details>
        <details><summary>Чи є записи?</summary><div>Так — 12 міс доступу до записів та матеріалів.</div></details>
        <details><summary>Payment options?</summary><div>One-time або розстрочка — деталі при записі.</div></details>
      </div>

      <div class="cta-strip">
        <button class="btn btn-primary large" data-action="signup" data-package="Consultation">Отримати консультацію</button>
        <button class="btn btn-outline large" id="download-program">Отримати програму (PDF)</button>
      </div>
    </div>
  </div>
</section>

<!-- ====== MODALS (single instances, accessible) ====== -->
<!-- Details modal (reused for packages) -->
<div id="modal-details" class="school-modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="modal-details-title">
  <div class="modal-backdrop" data-close="true"></div>
  <div class="modal-panel" role="document">
    <header class="modal-header">
      <h3 id="modal-details-title">Деталі</h3>
      <button class="modal-close" data-close="true" aria-label="Закрити">✕</button>
    </header>
    <div id="modal-details-body" class="modal-body" tabindex="0">
      <!-- injected content -->
    </div>
    <footer class="modal-footer">
      <button class="btn btn-outline" data-close="true">Закрити</button>
      <button class="btn btn-primary" data-action="signup" data-package="" aria-controls="modal-signup">Записатися</button>
    </footer>
  </div>
</div>

<!-- Signup modal -->
<div id="modal-signup" class="school-modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="modal-signup-title">
  <div class="modal-backdrop" data-close="true"></div>
  <div class="modal-panel" role="document">
    <header class="modal-header">
      <h3 id="modal-signup-title">Записатися</h3>
      <button class="modal-close" data-close="true" aria-label="Закрити">✕</button>
    </header>
    <div class="modal-body">
      <form id="school-signup-form" class="signup-form" novalidate>
        <input type="hidden" name="package" id="form-package" value="">
        <label>Ім'я<input name="name" required placeholder="Іван Іванов"></label>
        <label>Email<input name="email" type="email" required placeholder="ivan@example.com"></label>
        <label>Телефон<input name="phone" placeholder="+380..."></label>
        <label>Коментар<textarea name="comment" rows="4"></textarea></label>
        <label class="consent"><input name="agree" type="checkbox" required> Погоджуюсь на обробку персональних даних</label>
        <div class="form-actions">
          <button type="button" class="btn btn-outline" data-close="true">Відмінити</button>
          <button type="submit" class="btn btn-primary">Надіслати заявку</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- ====== STYLES (namespaced to .school-block) ====== -->
<style>
  :root{ --sb-gap:12px; --sb-radius:12px; --sb-accent:#10b981; --sb-accent2:#06b6a4; --sb-bg:#ffffff; --sb-shadow: 0 8px 30px rgba(2,6,23,0.06); --sb-font: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; --sb-btn-size:44px; --sb-cell-size:64px; }
  .school-block{ font-family:var(--sb-font); color:#111827; max-width:1200px; margin:0 auto; padding:28px; box-sizing:border-box; }
  .school-inner{ display:flex; flex-direction:column; gap:18px; }

  /* Header */
  .school-header { text-align:center; margin-bottom:6px; }
  .school-header h2{ font-size:30px; margin:0; font-weight:800; letter-spacing:-0.02em; }
  .school-sub{ color:#6b7280; margin-top:8px; font-size:15px; }

  /* Top: about + stats */
  .school-top{ display:flex; gap:16px; align-items:stretch; flex-wrap:wrap; }
  .school-about{ flex:1 1 60%; background:var(--sb-bg); border-radius:14px; padding:18px; box-shadow:var(--sb-shadow); min-width:260px; }
  .school-about p{ margin:0 0 8px 0; color:#374151; line-height:1.45; }
  .school-about-meta{ color:#6b7280; font-size:13px; }

  .school-stats{ display:flex; gap:10px; flex:1 1 36%; align-items:stretch; justify-content:flex-end; min-width:220px; }
  .school-stats .stat{ background:var(--sb-bg); padding:12px; border-radius:12px; flex:1 1 0; text-align:center; box-shadow:var(--sb-shadow); }
  .stat-num{ font-weight:800; font-size:20px; color:var(--sb-accent); }
  .stat-label{ font-size:12px; color:#6b7280; margin-top:6px; }

  /* Cards */
  .school-cards{ display:grid; grid-template-columns:repeat(3,1fr); gap:14px; align-items:stretch; }
  @media (max-width:980px){ .school-cards{ grid-template-columns:repeat(2,1fr); } }
  @media (max-width:640px){ .school-cards{ grid-template-columns:1fr; } }

  .card{ background:var(--sb-bg); border-radius:14px; padding:18px; box-shadow:var(--sb-shadow); display:flex; flex-direction:column; gap:10px; min-height:320px; transition:transform .28s ease, box-shadow .28s ease; }
  .card:hover{ transform:translateY(-6px); box-shadow:0 20px 40px rgba(2,6,23,0.08); }
  .card-top{ display:flex; justify-content:space-between; align-items:center; gap:10px; }
  .card-title{ font-size:18px; margin:0; font-weight:700; }
  .card-salary{ text-align:right; font-weight:800; color:var(--sb-accent); font-size:16px; }
  .card-sub{ color:#6b7280; font-size:13px; margin:0; }
  .card-bullets{ margin:6px 0 0 0; padding-left:18px; color:#374151; flex:1 1 auto; }
  .card-bullets li{ margin-bottom:6px; font-size:13px; }

  .card-actions{ display:flex; gap:10px; margin-top:8px; }
  .btn{ border:0; cursor:pointer; display:inline-flex; align-items:center; justify-content:center; gap:8px; border-radius:12px; padding:10px 14px; min-height:var(--sb-btn-size); font-weight:700; font-size:14px; }
  .btn.small{ padding:6px 8px; font-size:13px; min-height:36px; border-radius:10px; }
  .btn.large{ padding:14px 20px; font-size:16px; min-height:52px; }
  .btn-primary{ background:linear-gradient(180deg,var(--sb-accent),var(--sb-accent2)); color:#fff; box-shadow:0 8px 18px rgba(6,95,70,0.08); }
  .btn-outline{ background:#fff; border:1px solid #e6e9ee; color:#111827; }

  /* Package image styling: show full available width inside card */
  .package-img{ width:100%; height:160px; object-fit:cover; border-radius:10px; display:block; }

  /* Table */
  .school-compare{ background:var(--sb-bg); border-radius:14px; padding:14px; box-shadow:var(--sb-shadow); }
  .compare-head{ display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; }
  .table-wrap{ display:flex; flex-direction:column; gap:8px; }
  .table-row{ display:grid; grid-template-columns: 220px 1fr 1fr 1fr; gap:8px; align-items:center; padding:8px; border-radius:10px; background:transparent; }
  .table-row.header{ font-weight:700; color:#374151; }
  .cell{ background:#fff; padding:10px; border-radius:10px; text-align:center; min-height:var(--sb-cell-size); display:flex; align-items:center; justify-content:center; box-shadow:var(--sb-shadow); flex-direction:column; }
  .cell.feature{ text-align:left; font-weight:600; padding-left:14px; flex-direction:row; }

  @media (max-width:980px){
    .table-row{ grid-template-columns: 1fr; }
    .cell{ min-height:48px; }
  }

  /* Extra blocks */
  .school-extra{ display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
  @media (max-width:980px){ .school-extra{ grid-template-columns:1fr; } }
  .school-extra h4{ margin:0 0 8px 0; font-size:16px; }
  .deliverables ul, .why-us ul{ padding-left:18px; color:#374151; margin:0; }

  /* Mentors */
  .school-mentors{ background:transparent; }
  .mentors-grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:12px; }
  @media (max-width:980px){ .mentors-grid{ grid-template-columns:repeat(2,1fr); } }
  @media (max-width:640px){ .mentors-grid{ grid-template-columns:1fr; } }
  .mentor{ background:#fff; padding:12px; border-radius:12px; display:flex; gap:12px; align-items:center; box-shadow:var(--sb-shadow); }
  .mentor-img{ width:72px; height:72px; border-radius:10px; object-fit:cover; }
  .mentor-name{ font-weight:700; }
  .mentor-role{ color:#6b7280; font-size:13px; }

  /* Bottom */
  .school-bottom{ display:flex; gap:12px; align-items:flex-start; flex-wrap:wrap; }
  .faq{ flex:1 1 60%; background:#fff; padding:12px; border-radius:12px; box-shadow:var(--sb-shadow); }
  .cta-strip{ flex:1 1 36%; display:flex; flex-direction:column; gap:10px; }
  .cta-strip .btn{ width:100%; }

  /* Modals */
  .school-modal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:100000; }
  .school-modal[aria-hidden="false"]{ display:flex; }
  .modal-backdrop{ position:absolute; inset:0; background:rgba(0,0,0,0.48); }
  .modal-panel{ position:relative; background:#fff; border-radius:14px; width:100%; max-width:960px; max-height:88vh; overflow:auto; padding:18px; box-shadow:0 40px 80px rgba(2,6,23,0.4); transform-origin:center; }
  .modal-header{ display:flex; justify-content:space-between; align-items:center; gap:12px; }
  .modal-close{ background:transparent; border:0; font-size:18px; cursor:pointer; color:#6b7280; }
  .modal-body{ margin-top:12px; color:#374151; line-height:1.45; }
  .modal-footer{ display:flex; justify-content:flex-end; gap:10px; margin-top:12px; }

  /* small helpers */
  .small{ font-size:12px; color:#6b7280; }
  .consent{ display:flex; align-items:center; gap:8px; font-size:13px; color:#6b7280; }
  .signup-form label{ display:block; margin-bottom:8px; }
  .signup-form input, .signup-form textarea{ width:100%; padding:10px; border-radius:10px; border:1px solid #e6e9ee; box-sizing:border-box; }
  .form-actions{ display:flex; justify-content:flex-end; gap:8px; margin-top:8px; }

  /* Accessible focus */
  .btn:focus, .modal-close:focus, .card:focus{ outline:3px solid rgba(16,185,129,0.14); outline-offset:2px; }
</style>

<!-- ====== SCRIPT (namespaced, single init, no conflicts) ====== -->
<script>
(function(){
  if(window.__school_block_inited) return;
  window.__school_block_inited = true;

  const $ = sel => document.querySelector(sel);
  const $$ = sel => Array.from(document.querySelectorAll(sel));

  const root = $('#school');
  const detailsModal = $('#modal-details');
  const signupModal = $('#modal-signup');
  const modalDetailsBody = $('#modal-details-body');
  const signupForm = $('#school-signup-form');
  const formPackageInput = $('#form-package');

  const DETAILS = {
    starter: {
      title: 'Starter — повний опис',
      oneLiner: '8 тижнів · Перші end-to-end кейси, portfolio-ready deliverables.',
      summary: `<p>Starter — інтенсив для тих, хто робить перший e2e кейс. Фокус на research, IA, wireframes, hi-fi прототипах та usability testing.</p>`,
      deliverables: `<ul><li>3–6 case studies (докладні writeups для портфоліо)</li><li>2 clickable prototypes (mobile + desktop)</li><li>Notion case-study template + demo presentation</li><li>Mentor feedback & rubric assessment</li></ul>`,
      roadmap: `<p><strong>Weekly roadmap (зразок)</strong></p><ol><li>Week 1 — Research: hypothesis, interviews, personas</li><li>Week 2 — IA & flows, low-fi wireframes</li><li>Week 3 — Hi-fi visual, prototyping</li><li>Week 4 — Usability testing, iteration, final case writeup</li></ol>`,
      salaries: `<p><strong>Орієнт. зарплата:</strong> $1,200 — $2,800 / міс (junior, entry-level; варіюється за регіоном та remote).</p>`,
      faq: `<p><strong>FAQ (Starter)</strong><br>Кому підійде? → Тим, хто хоче перший e2e кейс.</p>`
    },
    pro: {
      title: 'Pro — повний опис',
      oneLiner: '12–16 тижнів · design systems, accessibility, Storybook POC.',
      summary: `<p>Pro — для переходу на mid: дизайн системи, motion, accessibility, advanced prototyping.</p>`,
      deliverables: `<ul><li>6–10 portfolio projects</li><li>Design system starter + Storybook POC</li><li>Recorded mentor reviews</li></ul>`,
      roadmap: `<p><strong>Weekly roadmap (зразок)</strong></p><ol><li>System tokens & components</li><li>Accessibility audit & improvements</li><li>Motion & interaction polish</li></ol>`,
      salaries: `<p><strong>Орієнт. зарплата:</strong> $2,000 — $4,500 / міс (mid levels).</p>`,
      faq: `<p><strong>FAQ (Pro)</strong><br>Чи підходить для UI/Visual? → Так, є motion & visual deep dive.</p>`
    },
    master: {
      title: 'Master — повний опис',
      oneLiner: '24 тижні · leadership, product strategy, capstone project.',
      summary: `<p>Master — для lead/manager roles: multi-team capstone, negotiation workshops, hiring days.</p>`,
      deliverables: `<ul><li>Capstone multi-team project</li><li>Leadership & hiring workshops</li><li>Direct-hire funnel exposure</li></ul>`,
      roadmap: `<p><strong>Roadmap:</strong> product strategy, ops, cross-team capstone, negotiation & hiring prep.</p>`,
      salaries: `<p><strong>Орієнт. зарплата:</strong> $3,500 — $12,000 / міс (senior/lead; залежить від масштабу та регіону).</p>`,
      faq: `<p><strong>FAQ (Master)</strong><br>Чи є placement support? → Так, hiring-days + direct-hire партнери.</p>`
    }
  };

  function trapFocus(modal){
    const focusable = Array.from(modal.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])'))
      .filter(el => !el.hasAttribute('disabled'));
    if(!focusable.length) return (()=>{});
    const first = focusable[0];
    const last = focusable[focusable.length-1];
    const keyHandler = (e) => {
      if(e.key === 'Tab'){
        if(e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
        else if(!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
      }
      if(e.key === 'Escape'){ closeModal(modal); }
    };
    document.addEventListener('keydown', keyHandler);
    first.focus();
    return () => document.removeEventListener('keydown', keyHandler);
  }

  function openModal(modal){
    if(!modal) return;
    modal.setAttribute('aria-hidden','false');
    modal.classList.add('open');
    document.documentElement.style.overflow = 'hidden';
    modal.__releaseFocus = trapFocus(modal);
    const panel = modal.querySelector('.modal-panel');
    if(panel){
      panel.style.transform = 'translateY(-8px) scale(.992)';
      panel.style.opacity = '0';
      requestAnimationFrame(()=>{ panel.style.transition='opacity .28s ease, transform .28s ease'; panel.style.transform='translateY(0) scale(1)'; panel.style.opacity='1'; });
    }
  }
  function closeModal(modal){
    if(!modal) return;
    modal.setAttribute('aria-hidden','true');
    modal.classList.remove('open');
    document.documentElement.style.overflow = '';
    const panel = modal.querySelector('.modal-panel');
    if(panel){
      panel.style.transition='opacity .18s ease, transform .18s ease';
      panel.style.transform='translateY(-8px) scale(.992)';
      panel.style.opacity='0';
    }
    if(modal.__releaseFocus) { try{ modal.__releaseFocus(); }catch(e){} modal.__releaseFocus = null; }
  }

  function setupModalCloseClicks(){
    $$('.school-modal [data-close]').forEach(el => {
      el.addEventListener('click', function(ev){
        const modal = ev.target.closest('.school-modal');
        if(modal) closeModal(modal);
      });
    });
    $$('.school-modal').forEach(mod => {
      mod.addEventListener('click', function(e){
        const panel = mod.querySelector('.modal-panel');
        if(panel && !panel.contains(e.target)) closeModal(mod);
      });
    });
    document.addEventListener('keydown', (e) => {
      if(e.key === 'Escape'){
        if(detailsModal.getAttribute('aria-hidden')==='false') closeModal(detailsModal);
        if(signupModal.getAttribute('aria-hidden')==='false') closeModal(signupModal);
      }
    });
  }

  function showDetails(key){
    const data = DETAILS[key];
    if(!data) return;
    const html = `
      <h2 style="margin:0 0 8px 0;">${escapeHtml(data.title||'Деталі')}</h2>
      ${data.oneLiner ? `<p style="color:#6b7280;margin:0 0 8px 0;">${data.oneLiner}</p>` : ''}
      ${data.summary||''}
      ${data.deliverables||''}
      ${data.roadmap||''}
      ${data.salaries||''}
      ${data.faq||''}
    `;
    modalDetailsBody.innerHTML = html;
    const signupBtn = detailsModal.querySelector('[data-action="signup"]');
    if(signupBtn) signupBtn.setAttribute('data-package', capitalize(key));
    openModal(detailsModal);
    if(window.dataLayer) try{ window.dataLayer.push({event:'school_details_open', package:key}); }catch(e){}
  }

  function capitalize(s){ if(!s) return ''; return s.charAt(0).toUpperCase() + s.slice(1); }
  function escapeHtml(str){ return String(str).replace(/[&<>"']/g, function(m){ return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]; }); }

  function openSignup(packageName){
    formPackageInput.value = packageName || '';
    const title = $('#modal-signup-title');
    if(title) title.textContent = packageName ? `Записатися — ${packageName}` : 'Записатися';
    openModal(signupModal);
    if(window.dataLayer) try{ window.dataLayer.push({event:'school_signup_open', package:packageName}); }catch(e){}
  }

  function setupSignupForm(){
    if(!signupForm) return;
    signupForm.addEventListener('submit', function(ev){
      ev.preventDefault();
      const formData = new FormData(signupForm);
      const name = formData.get('name') || 'Студент';
      closeModal(signupModal);
      setTimeout(()=>{ alert(`Дякуємо, ${name}! Ми отримали вашу заявку.`); }, 80);
      signupForm.reset();
      if(window.dataLayer) try{ window.dataLayer.push({event:'school_signup_submit'}); }catch(e){}
    });
  }

  function animateCounters(){
    $$('.stat-num').forEach(el => {
      const target = parseInt(el.dataset.target || '0',10);
      if(isNaN(target)) return;
      let started = false;
      const observer = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
          if(entry.isIntersecting && !started){
            started = true;
            let start = null; const duration = Math.min(1400, Math.max(800, target*6));
            function step(ts){
              if(!start) start = ts;
              const progress = Math.min(1, (ts-start)/duration);
              el.textContent = Math.round(progress*target);
              if(progress < 1) requestAnimationFrame(step);
              else obs.disconnect();
            }
            requestAnimationFrame(step);
          }
        });
      }, {threshold:0.6});
      observer.observe(el);
    });
  }

  function setupReveals(){
    const cards = $$('.card');
    cards.forEach(card => card.style.opacity = '0');
    const obs = new IntersectionObserver((entries, o) => {
      entries.forEach(e => {
        if(e.isIntersecting){ e.target.style.transition='opacity .5s ease, transform .5s ease'; e.target.style.opacity='1'; e.target.style.transform='translateY(0)'; o.unobserve(e.target); }
      });
    }, {threshold:0.12});
    cards.forEach(c => { c.style.transform='translateY(12px)'; obs.observe(c); });
  }

  function setupDelegation(){
    document.body.addEventListener('click', function(e){
      const btn = e.target.closest('[data-action]');
      if(!btn) return;
      const action = btn.getAttribute('data-action');
      if(action === 'details'){
        const key = btn.getAttribute('data-target') || btn.closest('[data-package]')?.getAttribute('data-package') || 'starter';
        if(detailsModal.getAttribute('aria-hidden')==='false' && modalDetailsBody.innerText.includes(DETAILS[key]?.title || '')) return;
        showDetails(key);
      } else if(action === 'signup'){
        const pkg = btn.getAttribute('data-package') || '';
        openSignup(pkg);
      }
      e.stopPropagation();
    }, {capture:false});
  }

  function setupDownloads(){
    $('#download-syllabus')?.addEventListener('click', ()=>{ alert('Demo: Завантаження програми (PDF).'); });
    $('#download-program')?.addEventListener('click', ()=>{ alert('Demo: Завантаження програми (PDF).'); });
  }

  document.addEventListener('DOMContentLoaded', function init(){
    setupModalCloseClicks();
    setupDelegation();
    setupSignupForm();
    animateCounters();
    setupReveals();
    setupDownloads();
    [detailsModal, signupModal].forEach(m => m && m.setAttribute('aria-hidden','true'));
    $$('[data-action="details"]').forEach(b => b.setAttribute('aria-controls','modal-details'));
    $$('[data-action="signup"]').forEach(b => b.setAttribute('aria-controls','modal-signup'));
  });
})();
</script>
<!-- ====== END: SCHOOL SECTION ====== -->




<section id="ux-courses-section" class="uxc-wrapper py-16 bg-[#f6fbfa]" aria-labelledby="uxc-title">
  <div class="container mx-auto px-4 max-w-7xl">
    <header class="text-center mb-10">
      <h2 id="uxc-title" class="text-4xl md:text-5xl font-extrabold text-[#081826] leading-tight">Пакети навчання</h2>
      <p class="mt-3 text-slate-600 max-w-3xl mx-auto">
        Обери свій рівень — від Starter до Master. Практичні інтенсиви з 10+ кейсами, менторством і career support.
      </p>
    </header>

    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6">
      <div class="flex items-center gap-3">
        <div class="text-sm text-slate-500">Фільтр:</div>
        <div class="flex gap-2">
          <button data-filter="all" class="uxc-filter-btn px-3 py-1 rounded-lg text-sm bg-white border border-slate-200 shadow-sm">Усі</button>
          <button data-filter="beginner" class="uxc-filter-btn px-3 py-1 rounded-lg text-sm bg-white border border-slate-200 shadow-sm">Для початківців</button>
          <button data-filter="advanced" class="uxc-filter-btn px-3 py-1 rounded-lg text-sm bg-white border border-slate-200 shadow-sm">Поглиблені</button>
        </div>
      </div>
      <div class="flex items-center gap-3">
        <button id="uxc-compare-btn" class="px-4 py-2 rounded-lg text-sm bg-gradient-to-r from-[#06b07f] to-[#16c9a1] text-white font-semibold shadow-md">Порівняти пакети</button>
      </div>
    </div>

    <!-- ====== Тут додані заглушки фото для кожного пакета ======
         Замініть src на ваші реальні шляхи до зображень коли будуть готові. -->
    <div id="uxc-grid" class="grid gap-6 sm:grid-cols-2 md:grid-cols-3 auto-rows-fr">
      <!-- cards will be rendered by JS -->
    </div>
    <!-- ====== /заглушки фото ====== -->

    <div class="mt-10 bg-white p-4 rounded-2xl shadow-sm flex items-center justify-between">
      <div class="text-slate-600 text-sm">Партнери та proof:</div>
      <div class="flex items-center gap-6">
        <img src="https://via.placeholder.com/90x28?text=Partner" alt="Partner" class="h-6"/>
        <img src="https://via.placeholder.com/90x28?text=Client" alt="Client" class="h-6"/>
        <div class="text-sm text-slate-700">78% hire rate • 1200+ випускників</div>
      </div>
    </div>
  </div>

  <!-- DETAILS MODAL -->
  <div class="uxc-modal fixed inset-0 z-50 hidden items-center justify-center px-4" data-modal="details" aria-hidden="true">
    <div class="uxc-backdrop absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div role="dialog" aria-modal="true" aria-labelledby="uxc-details-title" class="relative z-10 w-full max-w-6xl mx-auto bg-white rounded-2xl shadow-2xl overflow-y-auto max-h-[90vh]">
      <div class="p-6 md:p-8">
        <div class="flex items-start justify-between gap-4">
          <div>
            <h3 id="uxc-details-title" class="text-2xl md:text-3xl font-extrabold text-[#081826]">Package Title — Hero</h3>
            <p id="uxc-details-sub" class="text-slate-600 mt-1">Short value proposition.</p>
            <div id="uxc-kpi-strip" class="flex flex-wrap gap-2 mt-4"></div>
          </div>
          <div class="flex items-center gap-3">
            <button class="uxc-close-btn inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-slate-100 hover:bg-slate-200" aria-label="Закрити модалку">✕</button>
          </div>
        </div>

        <main class="mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6">
          <aside class="lg:col-span-1 bg-[#fbffff] p-5 rounded-xl border border-slate-100">
            <div class="mb-4">
              <div class="text-sm text-slate-500">Ціна</div>
              <div id="uxc-price" class="text-2xl font-extrabold text-[#0b6b4a]">$1,499 <span id="uxc-price-old" class="text-sm text-slate-400 line-through ml-2">$1,999</span></div>
            </div>

            <ul class="text-sm text-slate-600 space-y-2 mb-4">
              <li><strong>Тривалість:</strong> <span id="uxc-duration">16 тижнів</span></li>
              <li><strong>Формат:</strong> <span id="uxc-format">Live + записи</span></li>
              <li><strong>Занять на тиждень:</strong> <span id="uxc-hours">10–15 год</span></li>
              <li><strong>Менторів:</strong> <span id="uxc-mentors">2 lead</span></li>
              <li><strong>Місць:</strong> <span id="uxc-seats">12</span></li>
            </ul>

            <div class="space-y-3">
              <!-- main CTA(s) inside details - will be wired to open signup modal -->
              <button class="uxc-primary-cta flex w-full items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-white">Записатись</button>
              <button id="uxc-download-program" class="w-full px-4 py-2 rounded-lg border border-slate-200 bg-white">Завантажити програму (PDF)</button>
            </div>
          </aside>

          <section class="lg:col-span-2 space-y-4">
            <!-- many content blocks omitted here for brevity in snippet but are in full code -->
            <article class="bg-white p-5 rounded-xl border border-slate-50">
              <h4 class="text-lg font-bold text-[#081826]">Що це таке</h4>
              <p class="mt-2 text-slate-600">Детальний трек: від досліджень до production-ready deliverables...</p>
              <div class="mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3">
                <div class="text-sm text-slate-600"><strong>Рівень:</strong> Beginner → Advanced</div>
                <div class="text-sm text-slate-600"><strong>Deliverables:</strong> 6 case studies, Storybook POC</div>
              </div>
            </article>

            <article class="bg-white p-5 rounded-xl border border-slate-50">
              <h4 class="text-lg font-bold text-[#081826]">Програма по тижнях</h4>
              <p class="text-sm text-slate-500 mt-2">Розгорнутий week-by-week план із deliverables та чеклістами.</p>
              <div id="uxc-weeks" class="mt-4 space-y-3"></div>
            </article>

            <article class="bg-white p-5 rounded-xl border border-slate-50">
              <h4 class="text-lg font-bold text-[#081826]">Deliverables та проєкти</h4>
              <ul class="mt-3 list-disc list-inside text-slate-600">
                <li>6 end-to-end case studies</li>
                <li>2 clickable prototypes (mobile + desktop)</li>
                <li>Design system starter</li>
              </ul>
            </article>

            <article class="bg-white p-5 rounded-xl border border-slate-50">
              <h4 class="text-lg font-bold text-[#081826]">FAQ</h4>
              <details class="mt-2"><summary class="cursor-pointer text-slate-700 font-medium">Чи підходить курс для повних новачків?</summary><div class="mt-2 text-sm text-slate-600">Так — Starter дає базу.</div></details>
              <details class="mt-2"><summary class="cursor-pointer text-slate-700 font-medium">Чи будуть записи?</summary><div class="mt-2 text-sm text-slate-600">Так, записи доступні 12 міс.</div></details>
            </article>
          </section>
        </main>

        <footer class="mt-6">
          <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3 bg-slate-50 p-4 rounded-xl">
            <div><div class="text-sm text-slate-600">Потрібна допомога?</div><div class="text-sm text-slate-700">Запишіться на консультацію або натисніть «Записатись»</div></div>
            <div class="flex gap-3">
              <button class="uxc-primary-cta px-4 py-2 rounded-lg text-white font-semibold">Записатись</button>
              <button class="uxc-close-btn px-4 py-2 rounded-lg bg-white border border-slate-200">Закрити</button>
            </div>
          </div>
        </footer>
      </div>
    </div>
  </div>

  <!-- SIGNUP MODAL -->
  <div class="uxc-modal fixed inset-0 z-50 hidden items-center justify-center px-4" data-modal="signup" aria-hidden="true">
    <div class="uxc-backdrop absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div role="dialog" aria-modal="true" aria-labelledby="uxc-signup-label" class="relative z-10 w-full max-w-2xl mx-auto bg-white rounded-2xl shadow-2xl overflow-y-auto max-h-[90vh]">
      <div class="p-6 md:p-8">
        <div class="flex items-start justify-between">
          <div>
            <h3 id="uxc-signup-label" class="text-2xl font-extrabold text-[#081826]">Записатись на пакет</h3>
            <p class="text-slate-600 mt-1">Заповніть форму — ми зв’яжемося протягом 24 годин.</p>
            <div id="uxc-selected-package" class="mt-2 text-sm text-slate-600"></div>
          </div>
          <div>
            <button class="uxc-close-btn inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-slate-100" aria-label="Закрити модалку">✕</button>
          </div>
        </div>

        <form id="uxc-signup-form" class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4" novalidate>
          <div class="space-y-3">
            <label class="block text-sm"><span class="text-slate-700">Ім'я та прізвище *</span><input name="name" type="text" required class="mt-1 block w-full rounded-lg border border-slate-200 px-3 py-2" placeholder="Іван Іванов" /><p class="text-red-500 text-xs hidden" data-error-for="name"></p></label>
            <label class="block text-sm"><span class="text-slate-700">Телефон *</span><input name="phone" type="tel" inputmode="tel" placeholder="+380XXXXXXXXX" class="mt-1 block w-full rounded-lg border border-slate-200 px-3 py-2" required /><p class="text-red-500 text-xs hidden" data-error-for="phone"></p></label>
            <label class="block text-sm"><span class="text-slate-700">Email *</span><input name="email" type="email" required class="mt-1 block w-full rounded-lg border border-slate-200 px-3 py-2" placeholder="you@example.com" /><p class="text-red-500 text-xs hidden" data-error-for="email"></p></label>
            <label class="block text-sm"><span class="text-slate-700">Посилання на портфоліо (опц.)</span><input name="portfolio" type="url" class="mt-1 block w-full rounded-lg border border-slate-200 px-3 py-2" placeholder="https://..." /></label>
          </div>

          <div class="space-y-3">
            <label class="block text-sm"><span class="text-slate-700">Вибір пакета *</span>
              <select name="package" required class="mt-1 block w-full rounded-lg border border-slate-200 px-3 py-2">
                <option value="">-- Оберіть пакет --</option>
                <option value="starter">Starter</option>
                <option value="foundations">Foundations</option>
                <option value="pro">Pro</option>
                <option value="career">Career</option>
                <option value="master">Master</option>
                <option value="corporate">Corporate</option>
              </select>
              <p class="text-red-500 text-xs hidden" data-error-for="package"></p>
            </label>

            <label class="block text-sm"><span class="text-slate-700">Зручний спосіб зв'язку</span>
              <div class="mt-2 flex gap-2">
                <label class="px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm"><input type="radio" name="contact_method" value="telegram" class="mr-2" />Telegram</label>
                <label class="px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm"><input type="radio" name="contact_method" value="whatsapp" class="mr-2" />WhatsApp</label>
                <label class="px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm"><input type="radio" name="contact_method" value="call" class="mr-2" />Дзвінок</label>
              </div>
            </label>

            <label class="block text-sm"><span class="text-slate-700">Час для зв'язку</span><select name="preferred_time" class="mt-1 block w-full rounded-lg border border-slate-200 px-3 py-2"><option value="">Будь-який</option><option value="morning">Ранок</option><option value="day">День</option><option value="evening">Вечір</option></select></label>

            <label class="block text-sm"><span class="text-slate-700">Рівень підготовки</span><select name="level" class="mt-1 block w-full rounded-lg border border-slate-200 px-3 py-2"><option value="">Оберіть рівень</option><option value="beginner">Новачок</option><option value="intermediate">Середній</option><option value="advanced">Просунутий</option></select></label>
          </div>

          <div class="md:col-span-2">
            <label class="block text-sm"><span class="text-slate-700">Цілі навчання</span>
              <div class="mt-2 flex flex-wrap gap-2">
                <label class="px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm"><input type="checkbox" name="goals" value="job" class="mr-2" />Знайти роботу</label>
                <label class="px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm"><input type="checkbox" name="goals" value="upskill" class="mr-2" />Підвищити кваліфікацію</label>
                <label class="px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm"><input type="checkbox" name="goals" value="project" class="mr-2" />Особистий проєкт</label>
              </div>
            </label>

            <label class="block text-sm mt-3"><span class="text-slate-700">Коментар (опц.)</span><textarea name="comment" rows="3" class="mt-1 block w-full rounded-lg border border-slate-200 px-3 py-2"></textarea></label>

            <div class="flex items-center gap-2 mt-3"><input id="uxc-consent-2" name="consent" type="checkbox" required /><label for="uxc-consent-2" class="text-sm text-slate-700">Я погоджуюсь з <a href="#" class="text-[#06b07f] underline">політикою конфіденційності</a> *</label></div>

            <input type="hidden" name="utm_source" value="" />
            <input type="hidden" name="referrer" value="" />
            <div class="mt-4 flex gap-3 items-center">
              <button type="submit" class="uxc-primary-cta px-5 py-2 rounded-lg text-white font-semibold">Відправити заявку</button>
              <button type="button" class="uxc-close-btn px-4 py-2 rounded-lg bg-white border border-slate-200">Скасувати</button>
            </div>

            <div id="uxc-signup-result" class="mt-4 hidden p-3 rounded-lg"></div>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>

<!-- ===========================
     SCRIPT: updated modal wiring & safe handlers
   =========================== -->
<script>
(() => {
  const section = document.getElementById('ux-courses-section');
  const grid = section.querySelector('#uxc-grid');
  const hasGSAP = typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined';
  const hasTrap = typeof focusTrap !== 'undefined';

  const PACKAGES = [
    { id:'starter', title:'Starter', tagline:'Початковий трек — перший кейс в портфоліо', price:499, price_old:699, duration:'8 тижнів', format:'2 live / тиж + записи', projects:'3–6 кейсів', hours:'6–8 год / тиж', mentors:'1 mentor', bullets:['Research basics','Wireframes → Hi-fi','Clickable prototypes'], weeks:[{title:'Week 1 — Основи UX', body:'Intro, user interviews, CJM, persona.'},{title:'Week 2 — Wireframing', body:'Flows, low-fi → mid-fi prototyping.'}] },
    { id:'foundations', title:'Foundations', tagline:'Фундамент для переходу на Middle', price:999, price_old:1299, duration:'12 тижнів', format:'3 live / тиж + labs', projects:'3 mid + 1 big', hours:'8–12 год / тиж', mentors:'2 mentors', bullets:['Research pipelines','IA & testing','Component basics'], weeks:[{title:'Week 1 — Research', body:'Research plan.'}] },
    { id:'pro', title:'Pro', tagline:'Design systems, motion, accessibility', price:1499, price_old:1999, duration:'16 тижнів', format:'3 live + labs / тиж', projects:'6–10', hours:'10–15 год / тиж', mentors:'2 lead mentors', bullets:['Design tokens','Storybook POC','Accessibility'], weeks:[{title:'Weeks 1–4 — Tokens', body:'Design tokens, theming.'}] },
    { id:'career', title:'Career', tagline:'Mock interviews та negotiation workshops', price:1899, price_old:2499, duration:'12 тижнів', format:'2 live / тиж + career sessions', projects:'Career deliverables', hours:'4–6 год / тиж', mentors:'Career coach', bullets:['CV overhaul','3 mock interviews','Negotiation'], weeks:[{title:'Week 1 — CV', body:'CV structure.'}] },
    { id:'master', title:'Master', tagline:'Leadership, product strategy', price:3499, price_old:4999, duration:'24 тижні', format:'4 live / тиж + capstone', projects:'Capstone multi-team', hours:'15+ год / тиж', mentors:'3–4 leads', bullets:['Product strategy','Design ops','Leadership'], weeks:[{title:'Phase 1 — Strategy', body:'Product metrics, OKRs.'}] },
    { id:'corporate', title:'Corporate', tagline:'Tailored programs for teams', price:'від 6 999$', price_old:null, duration:'Tailored', format:'Tailored', projects:'Team sprints', hours:'Depends', mentors:'Dedicated AM', bullets:['Skills audit','Workshops','ROI tracking'], weeks:[{title:'Phase 1 — Audit', body:'Kickoff, skills matrix.'}] }
  ];

  const formatPrice = p => (typeof p === 'number' ? `$${p.toLocaleString()}` : p);

  // helper: returns an image URL for a package (uses your local img/ folder files)
  function imgFor(pkg){
    const map = {
      starter:  'img/ux1.avif',
      foundations: 'img/ux2.webp',
      pro:      'img/ux3.webp',
      career:   'img/ux4.webp',
      master:   'img/ux5.webp',
      corporate:'img/ux6.jpg'
    };
    return map[pkg.id] || ('https://via.placeholder.com/800x450/ffffff/0b6b4a?text=' + encodeURIComponent(pkg.title));
  }

  function renderCards(){
    grid.innerHTML = '';
    PACKAGES.forEach(pkg => {
      const card = document.createElement('article');
      card.className = 'uxc-card bg-white rounded-xl shadow-sm p-5 flex flex-col justify-between h-full min-h-[360px]';
      card.dataset.pkgId = pkg.id;

      // image URL for this package
      const imgUrl = imgFor(pkg);

      card.innerHTML = `
        <div>
          <div class="uxc-media mb-4 rounded-md overflow-hidden bg-gradient-to-br from-[#f3fbf8] to-white flex items-center justify-center" style="height:160px;">
            <img src="${imgUrl}" alt="${pkg.title} — зображення" loading="lazy" class="w-full h-full object-cover"/>
          </div>
          <div class="h-28 mb-4 rounded-md overflow-hidden bg-gradient-to-br from-[#f3fbf8] to-white flex items-center justify-center">
            <div class="text-center">
              <div class="text-xs font-semibold text-slate-400">Пакет</div>
              <div class="text-2xl font-extrabold text-[#081826]">${pkg.title}</div>
              <div class="text-sm text-slate-500 mt-1">${pkg.tagline}</div>
            </div>
          </div>
          <div class="text-sm text-slate-600 space-y-2 mb-3">
            <div><strong>Тривалість:</strong> ${pkg.duration}</div>
            <div><strong>Формат:</strong> ${pkg.format}</div>
            <div><strong>Проєкти:</strong> ${pkg.projects}</div>
          </div>
          <div class="flex flex-wrap gap-2 mt-2 mb-4">
            ${pkg.bullets.map(b=>`<span class="text-xs px-2 py-1 bg-emerald-50 text-emerald-700 rounded-full border border-emerald-100">${b}</span>`).join('')}
          </div>
        </div>
        <div class="flex items-center justify-between mt-4 gap-3">
          <div>
            <div class="text-lg font-extrabold text-[#0b6b4a]">${formatPrice(pkg.price)}</div>
            ${pkg.price_old?`<div class="text-xs text-slate-400 line-through">${formatPrice(pkg.price_old)}</div>`:''}
          </div>
          <div class="flex flex-col gap-2 w-36">
            <button class="uxc-detail-btn text-sm font-semibold px-3 py-2 rounded-md border border-slate-200 bg-white">Детальніше</button>
            <button class="uxc-signup-btn text-sm font-semibold px-3 py-2 rounded-md" style="background: linear-gradient(90deg,#06b07f,#16c9a1); color:white;">Записатись</button>
          </div>
        </div>
      `;
      grid.appendChild(card);
    });
  }

  // open/close with focus-trap and simple GSAP animation
  function openModal(type, context={}){
    const modal = section.querySelector(`.uxc-modal[data-modal="${type}"]`);
    if(!modal) return;
    modal.classList.remove('hidden'); modal.classList.add('flex'); modal.setAttribute('aria-hidden','false');
    const dialog = modal.querySelector('[role="dialog"]');
    if(hasTrap && dialog){
      try { modal._trap = focusTrap.createFocusTrap(dialog, {escapeDeactivates:false, allowOutsideClick:true}); modal._trap.activate(); } catch(e){console.warn(e);}
    }
    document.documentElement.classList.add('uxc-modal-open');
    if(hasGSAP && dialog) gsap.fromTo(dialog, {autoAlpha:0, y:10, scale:0.98}, {duration:0.36, autoAlpha:1, y:0, scale:1, ease:'power3.out'});

    if(type === 'details' && context.pkgId) fillDetails(context.pkgId);
    if(type === 'signup' && context.pkgId) {
      prefillSignup(context.pkgId);
    }

    // focus first input in signup
    if(type === 'signup'){
      setTimeout(()=>{ const f = modal.querySelector('input[name="name"]'); if(f) f.focus(); }, 180);
    }
  }

  function closeModal(modalEl){
    if(!modalEl) return;
    const dialog = modalEl.querySelector('[role="dialog"]');
    if(hasGSAP && dialog){
      gsap.to(dialog, {duration:0.24, autoAlpha:0, y:10, scale:0.98, onComplete:()=>{
        modalEl.classList.add('hidden'); modalEl.classList.remove('flex'); modalEl.setAttribute('aria-hidden','true');
      }});
    } else {
      modalEl.classList.add('hidden'); modalEl.classList.remove('flex'); modalEl.setAttribute('aria-hidden','true');
    }
    if(modalEl._trap){ try{ modalEl._trap.deactivate(); }catch(e){} modalEl._trap = null; }
    document.documentElement.classList.remove('uxc-modal-open');
  }

  // fill details and ensure its internal "Записатись" opens signup with correct pkg
  function fillDetails(pkgId){
    const pkg = PACKAGES.find(p=>p.id===pkgId); if(!pkg) return;
    const modal = section.querySelector('.uxc-modal[data-modal="details"]');
    modal.querySelector('#uxc-details-title').textContent = `${pkg.title} • ${pkg.duration}`;
    modal.querySelector('#uxc-details-sub').textContent = pkg.tagline;
    modal.querySelector('#uxc-price').innerHTML = `<span class="text-2xl font-extrabold text-[#0b6b4a]">${formatPrice(pkg.price)}</span>`;
    const old = modal.querySelector('#uxc-price-old'); old.textContent = pkg.price_old?formatPrice(pkg.price_old):'';
    modal.querySelector('#uxc-duration').textContent = pkg.duration;
    modal.querySelector('#uxc-format').textContent = pkg.format;
    modal.querySelector('#uxc-hours').textContent = pkg.hours || '—';
    modal.querySelector('#uxc-mentors').textContent = pkg.mentors || '—';
    modal.querySelector('#uxc-seats').textContent = '12';

    // KPI strip
    const kpi = modal.querySelector('#uxc-kpi-strip'); kpi.innerHTML = `
      <span class="text-xs px-3 py-1 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-100">${pkg.projects}</span>
      <span class="text-xs px-3 py-1 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-100">${pkg.hours || '—'} / week</span>
      <span class="text-xs px-3 py-1 rounded-full bg-slate-50 text-slate-700 border border-slate-100">${pkg.mentors}</span>
    `;

    // weeks
    const weeksWrap = modal.querySelector('#uxc-weeks'); weeksWrap.innerHTML = '';
    (pkg.weeks || []).forEach(w=>{
      const item = document.createElement('div');
      item.className = 'border border-slate-100 rounded-lg overflow-hidden';
      item.innerHTML = `
        <button aria-expanded="false" class="w-full text-left px-4 py-3 bg-white flex items-start justify-between gap-3 uxc-acc">
          <div>
            <div class="text-sm font-semibold text-slate-800">${w.title}</div>
            <div class="text-xs text-slate-500 mt-1">${w.body}</div>
          </div>
          <div class="text-slate-400 text-xl">▾</div>
        </button>
        <div class="uxc-panel hidden px-4 py-3 bg-slate-50 text-sm text-slate-600">
          <p>${w.body} — розгорнутий опис з прикладами задач і чеклістами.</p>
        </div>
      `;
      const btn = item.querySelector('.uxc-acc');
      btn.addEventListener('click', ()=>{
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', String(!expanded));
        item.querySelector('.uxc-panel').classList.toggle('hidden');
      });
      weeksWrap.appendChild(item);
    });

    // wire up internal CTAs inside details modal: ensure they open signup with selected pkg
    modal.querySelectorAll('.uxc-primary-cta').forEach(b=>{
      // remove previous handlers to avoid duplicates
      b.dataset.pkg = pkg.id;
      b.onclick = (ev) => {
        ev.stopPropagation();
        // close details then open signup
        closeModal(modal);
        // slight delay to allow close animation then open signup
        setTimeout(()=> openModal('signup', {pkgId: pkg.id}), 260);
      };
    });
  }

  // prefill signup form with package and show selected package label
  function prefillSignup(pkgId){
    const signupModal = section.querySelector('.uxc-modal[data-modal="signup"]');
    const form = signupModal.querySelector('#uxc-signup-form');
    const select = form.querySelector('[name="package"]');
    const label = signupModal.querySelector('#uxc-selected-package');
    // set select value if present
    if(select){
      // if option exists, set it; else add an option temporarily
      const opt = Array.from(select.options).find(o=>o.value===pkgId);
      if(opt) select.value = pkgId;
      else {
        // add temporary visible option
        const temp = document.createElement('option');
        temp.value = pkgId; temp.selected = true; temp.textContent = pkgId;
        select.appendChild(temp);
        select.value = pkgId;
      }
    }
    const pkg = PACKAGES.find(p=>p.id===pkgId);
    label.textContent = pkg ? `Пакет: ${pkg.title}` : '';
    // hidden fields
    const ref = form.querySelector('[name="referrer"]'); if(ref) ref.value = document.referrer || '';
  }

  // setup delegation for cards and general modal controls
  function attachEvents(){
    // card-level buttons (delegation)
    grid.addEventListener('click', (e) => {
      const card = e.target.closest('.uxc-card');
      if(!card) return;
      const pkgId = card.dataset.pkgId;
      if(e.target.closest('.uxc-detail-btn')) openModal('details', {pkgId});
      if(e.target.closest('.uxc-signup-btn')) openModal('signup', {pkgId});
    });

    // close via backdrop or close btn
    section.addEventListener('click', (e) => {
      if(e.target.classList.contains('uxc-backdrop')){
        const modal = e.target.closest('.uxc-modal'); if(modal) closeModal(modal);
      }
      if(e.target.closest('.uxc-close-btn')){
        const openModalEl = section.querySelector('.uxc-modal:not([aria-hidden="true"])'); if(openModalEl) closeModal(openModalEl);
      }
    });

    // ESC to close
    document.addEventListener('keydown', (e) => {
      if(e.key === 'Escape'){
        const openModalEl = section.querySelector('.uxc-modal:not([aria-hidden="true"])');
        if(openModalEl) closeModal(openModalEl);
      }
    });

    // Download program (example: open PDF or trigger event)
    section.querySelectorAll('#uxc-download-program').forEach(btn=>{
      btn.addEventListener('click', (e)=> {
        // place to trigger analytics and actual download
        console.info('analytics:event','download_program_pdf');
        // fallback: open a placeholder
        window.open('/program.pdf','_blank');
      });
    });
  }

  // signup form: validation + fake submit (replace with fetch)
  function initForm(){
    const form = section.querySelector('#uxc-signup-form');
    const resultBox = section.querySelector('#uxc-signup-result');
    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      resultBox.className = 'mt-4 hidden'; resultBox.innerHTML = '';
      const fd = new FormData(form);
      const name = (fd.get('name')||'').trim();
      const phone = (fd.get('phone')||'').trim();
      const email = (fd.get('email')||'').trim();
      const pkg = fd.get('package')||'';
      const consent = form.querySelector('[name="consent"]').checked;

      form.querySelectorAll('[data-error-for]').forEach(el=>{ el.classList.add('hidden'); el.textContent=''; });
      let ok = true;
      if(name.length < 2){ const el = form.querySelector('[data-error-for="name"]'); el.textContent = 'Введіть імʼя та прізвище'; el.classList.remove('hidden'); ok=false;}
      if(!/^\+?380\d{9}$/.test(phone)){ const el = form.querySelector('[data-error-for="phone"]'); el.textContent = 'Введіть номер у форматі +380XXXXXXXXX'; el.classList.remove('hidden'); ok=false;}
      if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){ const el = form.querySelector('[data-error-for="email"]'); el.textContent = 'Введіть коректний email'; el.classList.remove('hidden'); ok=false;}
      if(!pkg){ const el = form.querySelector('[data-error-for="package"]'); el.textContent = 'Оберіть пакет'; el.classList.remove('hidden'); ok=false;}
      if(!consent){ resultBox.className = 'mt-4 p-3 rounded-lg bg-red-50 text-red-700'; resultBox.textContent = 'Потрібно погодитися з політикою конфіденційності.'; resultBox.classList.remove('hidden'); ok=false; }

      if(!ok) { console.info('analytics','signup_attempt_failed',{name,email,phone,pkg}); return; }

      const btn = form.querySelector('button[type="submit"]'); const prevText = btn.textContent; btn.disabled = true; btn.textContent = 'Заявка відправляється…';

      // Simulate backend request (replace with fetch)
      setTimeout(()=>{
        btn.disabled = false; btn.textContent = prevText;
        resultBox.className = 'mt-4 p-3 rounded-lg bg-emerald-50 text-emerald-700';
        resultBox.innerHTML = '<strong>✅ Дякуємо!</strong> Ми звʼяжемося з вами протягом 24 годин 🚀';
        resultBox.classList.remove('hidden');
        console.info('analytics','signup_submitted',{name,email,phone,pkg});
        setTimeout(()=> {
          const signupModal = section.querySelector('.uxc-modal[data-modal="signup"]'); if(signupModal) closeModal(signupModal);
        }, 1600);
        form.reset();
      }, 900);
    });
  }

  // animations
  function anims(){
    const cards = section.querySelectorAll('.uxc-card');
    if(hasGSAP){
      gsap.registerPlugin(ScrollTrigger);
      gsap.set(cards, {y: 20, autoAlpha: 0});
      gsap.to(cards, {y:0, autoAlpha:1, duration:0.8, ease:'power3.out', stagger:0.12, scrollTrigger:{trigger:grid, start:'top 85%'}});
      cards.forEach(card => {
        card.addEventListener('mouseenter', ()=> gsap.to(card, {scale:1.02, y:-6, boxShadow:'0 20px 40px rgba(6,17,31,0.06)', duration:0.28}));
        card.addEventListener('mouseleave', ()=> gsap.to(card, {scale:1, y:0, boxShadow:'0 6px 18px rgba(6,17,31,0.04)', duration:0.28}));
      });
    } else {
      cards.forEach(c=> { c.style.transition='transform .2s ease, box-shadow .2s ease'; c.addEventListener('mouseenter', ()=> c.style.transform='translateY(-6px)'); c.addEventListener('mouseleave', ()=> c.style.transform='none'); });
    }
  }

  function init(){
    renderCards();
    attachEvents();
    initForm();
    anims();
    // Make details modal primary CTAs safe: initially no handler until fillDetails runs.
  }

  if(document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init); else init();

})();
</script>

<!-- ===========================
     Minimal scoped styles (unchanged + image styles)
   =========================== -->
<style>
  #ux-courses-section { font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; }
  .uxc-modal-open { overflow: hidden; }
  .uxc-card .uxc-detail-btn, .uxc-card .uxc-signup-btn { height: 44px; min-width: 120px; display: inline-flex; align-items: center; justify-content: center; border-radius: 10px; }
  .uxc-primary-cta { background: linear-gradient(90deg,#06b07f,#16c9a1); color: white; border: none; box-shadow: 0 8px 24px rgba(6,176,127,0.14); height:44px; }
  .uxc-close-btn { height:42px; }
  #uxc-grid .uxc-card { transition: transform .18s ease, box-shadow .18s ease; display:flex; flex-direction:column; justify-content:space-between; }
  .uxc-acc[aria-expanded="true"] { background:#f8fdfb; }
  .uxc-acc[aria-expanded="true"] + .uxc-panel { display:block; }

  /* ADDED: image/media styles for cards */
  .uxc-card .uxc-media { width: 100%; display:block; border-radius: 12px; overflow: hidden; background: #fff; }
  .uxc-card .uxc-media img { display:block; width:100%; height:100%; object-fit:cover; object-position:center; }
  @media (max-width: 640px) { .uxc-modal [role="dialog"] { width:100%; height:100%; border-radius:0; max-height:100vh; margin:0; } }
</style>

<!-- Additional scripts (unchanged from your bundle) -->
<script>
(function(){
  // селектори (підлаштуй, якщо у тебе інші id/class)
  const detailsModal = document.querySelector('.uxc-modal[data-modal="details"]');
  const signupModal  = document.querySelector('.uxc-modal[data-modal="signup"]');
  const signupForm   = signupModal ? signupModal.querySelector('#uxc-signup-form') : null;
  const signupSelect = signupForm ? signupForm.querySelector('[name="package"]') : null;
  const signupLabel  = signupModal ? signupModal.querySelector('#uxc-selected-package') : null;
  const detailsTitle = detailsModal ? detailsModal.querySelector('#uxc-details-title') : null;

  if (!detailsModal || !signupModal || !signupForm) {
    console.warn('Відсутні обовʼязкові елементи модалок (details/signup). Перевір селектори.');
    return;
  }

  function openModal(modalEl){
    if (!modalEl) return;
    modalEl.classList.remove('hidden');
    modalEl.classList.add('flex');
    modalEl.setAttribute('aria-hidden','false');
    document.documentElement.classList.add('uxc-modal-open');

    const dialog = modalEl.querySelector('[role="dialog"]');
    if (window.focusTrap && dialog) {
      try {
        modalEl._trap = focusTrap.createFocusTrap(dialog, {escapeDeactivates: false, allowOutsideClick: true});
        modalEl._trap.activate();
      } catch (e) { console.warn(e); }
    }

    if (window.gsap && dialog) {
      gsap.fromTo(dialog, {autoAlpha:0, y:10, scale:0.98}, {duration:0.36, autoAlpha:1, y:0, scale:1, ease:'power3.out'});
    }
  }

  function closeModal(modalEl){
    if (!modalEl) return;
    const dialog = modalEl.querySelector('[role="dialog"]');
    if (window.gsap && dialog) {
      gsap.to(dialog, {duration:0.22, autoAlpha:0, y:10, scale:0.98, onComplete: ()=>{
        modalEl.classList.add('hidden'); modalEl.classList.remove('flex'); modalEl.setAttribute('aria-hidden','true');
      }});
    } else {
      modalEl.classList.add('hidden'); modalEl.classList.remove('flex'); modalEl.setAttribute('aria-hidden','true');
    }
    if (modalEl._trap) { try { modalEl._trap.deactivate(); } catch(e){} modalEl._trap = null; }
    document.documentElement.classList.remove('uxc-modal-open');
  }

  function detectPkgIdFromContext(buttonEl){
    if (buttonEl && buttonEl.dataset && buttonEl.dataset.pkg) return buttonEl.dataset.pkg;
    if (detailsModal && detailsModal.dataset && detailsModal.dataset.currentPkg) return detailsModal.dataset.currentPkg;
    if (detailsTitle) {
      const t = detailsTitle.textContent.trim();
      if (t){
        const parts = t.split(/•|—|−|:/).map(s=>s.trim()).filter(Boolean);
        if (parts.length>0){
          const first = parts[0].split(/\s+/)[0];
          return first.toLowerCase();
        }
      }
    }
    return '';
  }

  function fillSignupPackage(pkgId){
    if (!signupSelect) return;
    const opt = Array.from(signupSelect.options).find(o => o.value === pkgId);
    if (opt) {
      signupSelect.value = pkgId;
    } else {
      if(pkgId){
        const temp = document.createElement('option');
        temp.value = pkgId;
        temp.textContent = pkgId;
        temp.selected = true;
        signupSelect.appendChild(temp);
        signupSelect.value = pkgId;
      }
    }
    if (signupLabel){
      const pretty = (pkgId && pkgId.length>0) ? `Пакет: ${pkgId[0].toUpperCase() + pkgId.slice(1)}` : '';
      signupLabel.textContent = pretty;
    }
  }

  detailsModal.addEventListener('click', function(e){
    const btn = e.target.closest('.uxc-primary-cta, .uxc-signup-btn, [data-action="open-signup"]');
    if (!btn) return;
    e.preventDefault();
    e.stopPropagation();

    const pkgId = detectPkgIdFromContext(btn);

    closeModal(detailsModal);
    setTimeout(()=>{
      fillSignupPackage(pkgId);
      openModal(signupModal);
      const nameInput = signupModal.querySelector('input[name="name"]');
      if(nameInput) nameInput.focus();
    }, 260);
  });

  function setPkgDataOnDetailsButtons(pkgId){
    const btns = detailsModal.querySelectorAll('.uxc-primary-cta, .uxc-signup-btn, [data-action="open-signup"]');
    btns.forEach(b => { b.dataset.pkg = pkgId; });
    detailsModal.dataset.currentPkg = pkgId;
  }

  document.addEventListener('keydown', function(e){
    if (e.key === 'Escape') {
      const openModal = document.querySelector('.uxc-modal:not([aria-hidden="true"])');
      if (openModal) closeModal(openModal);
    }
  });
  document.querySelectorAll('.uxc-modal .uxc-backdrop').forEach(b => {
    b.addEventListener('click', function(){ const modal = this.closest('.uxc-modal'); if(modal) closeModal(modal); });
  });

})();
</script>

<script>
(function(){
  const filterButtons = document.querySelectorAll('.uxc-filter-btn');
  const grid = document.querySelector('#uxc-grid');
  if(!grid || !filterButtons.length) return;

  const CATEGORY_MAP = {
    starter: 'beginner',
    foundations: 'beginner',
    pro: 'advanced',
    career: 'advanced',
    master: 'advanced',
    corporate: 'corporate'
  };

  function getCardCategories(card){
    const explicit = (card.dataset.category || '').trim();
    if(explicit){
      return explicit.split(/[\s,]+/).map(s => s.toLowerCase());
    }
    const pkg = (card.dataset.pkgId || '').toLowerCase();
    if(pkg && CATEGORY_MAP[pkg]){
      return [ CATEGORY_MAP[pkg] ];
    }
    return [];
  }

  function applyFilter(filter){
    const cards = grid.querySelectorAll('.uxc-card');
    const useGSAP = typeof gsap !== 'undefined';

    cards.forEach(card => {
      const cats = getCardCategories(card);
      let show = false;
      if(filter === 'all') show = true;
      else if(cats.length === 0) {
        show = false;
      } else {
        show = cats.includes(filter);
      }

      if(show){
        if(useGSAP){
          card.classList.remove('hidden');
          gsap.killTweensOf(card);
          gsap.to(card, {autoAlpha:1, y:0, duration:0.35, ease:'power3.out', onStart: ()=> card.style.display = ''});
        } else {
          card.classList.remove('hidden');
          card.style.display = '';
        }
      } else {
        if(useGSAP){
          gsap.killTweensOf(card);
          gsap.to(card, {autoAlpha:0, y:10, duration:0.28, ease:'power3.out', onComplete: ()=> { card.classList.add('hidden'); }});
        } else {
          card.classList.add('hidden');
          card.style.display = 'none';
        }
      }
    });
  }

  function setActiveButton(activeBtn){
    filterButtons.forEach(btn => {
      const is = btn === activeBtn;
      btn.setAttribute('aria-pressed', is ? 'true' : 'false');
      if(is) btn.classList.add('active'); else btn.classList.remove('active');
    });
  }

  filterButtons.forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.preventDefault();
      const filter = (btn.dataset.filter || 'all').toLowerCase();
      setActiveButton(btn);
      applyFilter(filter);
      try { console.info('analytics:event','filter',{filter}); } catch(e){}
    });
  });

  (function init(){
    let initial = 'all';
    const active = Array.from(filterButtons).find(b => b.classList.contains('active') || b.getAttribute('aria-pressed')==='true');
    if(active && active.dataset.filter) initial = active.dataset.filter.toLowerCase();
    document.querySelectorAll('#uxc-grid .uxc-card').forEach(c => {
      c.classList.remove('hidden'); c.style.display = '';
      if(typeof gsap !== 'undefined') gsap.set(c, {autoAlpha: 1, y: 0});
    });
    const btn = Array.from(filterButtons).find(b=> (b.dataset.filter || 'all').toLowerCase() === initial) || filterButtons[0];
    setActiveButton(btn);
    applyFilter(initial);
  })();

})();
</script>







<!-- Optional CSS for .active button -->
<style>
  .uxc-filter-btn.active {
    background: linear-gradient(90deg,#06b07f,#16c9a1);
    color: white;
    border-color: transparent;
    box-shadow: 0 6px 18px rgba(6,176,127,0.12);
  }
</style>


<!-- =========================
  СЕКЦІЯ: КАР'ЄРА (повна, UA) — вставити в <body>
========================= -->
<section id="karera" class="bg-gray-50 text-slate-900 py-16 px-6 md:px-12 lg:px-20" style="font-family: 'Inter', 'IBM Plex Sans', system-ui, -apple-system, 'Segoe UI', Roboto, Arial;">

  <style>
    :root{
      --accent:#10b981; --accent-2:#06b6d4; --muted:#6b7280;
      --card-radius:14px; --btn-radius:10px; --btn-h:46px; --panel-radius:14px;
      --btn-width:150px; --table-cell-h:54px; --soft-border: rgba(2,6,23,0.06);
    }
    .career-wrap{max-width:1200px;margin:0 auto;}
    .card{background:#fff;border-radius:var(--card-radius);padding:18px;border:1px solid rgba(2,6,23,0.04);box-shadow:0 8px 30px rgba(2,6,23,0.03);}
    .btn{height:var(--btn-h);min-width:var(--btn-width);display:inline-flex;align-items:center;justify-content:center;padding:0 18px;border-radius:10px;font-weight:700;cursor:pointer;border:1px solid transparent;transition:transform .14s,box-shadow .14s,opacity .12s;box-shadow:0 6px 18px rgba(2,6,23,0.06)}
    .btn:active{transform:translateY(1px)}
    .btn-primary{background:var(--accent);color:#fff}
    .btn-ghost{background:#fff;border:1px solid var(--soft-border);color:var(--accent)}
    .kpi{display:flex;gap:12px}
    .kpi .tile{background:#fff;padding:12px;border-radius:10px;text-align:center;box-shadow:0 6px 20px rgba(2,6,23,0.03)}
    .career-modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:90}
    .career-modal.active{display:flex}
    .career-modal .panel{width:96%;max-width:1100px;max-height:88vh;overflow:auto;border-radius:var(--panel-radius);padding:22px;background:#fff;box-shadow:0 30px 80px rgba(2,6,23,0.5);transition:transform .32s cubic-bezier(.2,.9,.2,1),opacity .26s}
    .career-table{width:100%;border-collapse:separate;border-spacing:0 6px}
    .career-table td{padding:12px 14px;border-radius:10px;background:#fbfbfc;vertical-align:top;border:1px solid rgba(2,6,23,0.03);height:var(--table-cell-h)}
    .career-table tr td:first-child{width:220px;font-weight:600;color:#374151}
    .focus-outline:focus{outline:3px solid rgba(16,185,129,0.14);outline-offset:3px}
    .visually-hidden{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    .muted{color:var(--muted)}
    .small{font-size:13px}
    .two-col td{background:#fff}
    @media (max-width:900px){
      .btn{min-width:120px}
      .career-table td{font-size:13px;padding:10px}
    }
    .career-modal.active .panel{transform:translateY(0);opacity:1}
    .career-modal .panel{transform:translateY(16px);opacity:0}

    /* додатковий клас для фото в картках */
    .service-img{width:100%;height:auto;border-radius:8px;display:block;margin-top:12px;object-fit:cover}
  </style>

  <div class="career-wrap">

    <!-- HERO -->
    <div class="card mb-8 flex flex-col lg:flex-row gap-6 items-start">
      <div style="flex:1">
        <h2 class="text-3xl font-extrabold">Карʼєра — від портфоліо до оферу</h2>
        <p class="text-gray-600 mt-3">Повний career-стек українською: персональні плани, mock-interviews, CV & portfolio coaching, hiring-days, direct-hire. Весь контент і процеси сфокусовані на швидкому працевлаштуванні та підвищенні зарплати.</p>

        <div class="mt-5 flex gap-3">
          <button class="btn btn-primary focus-outline" data-modal-open="modal-career-plan">Отримати персональний career-plan</button>
          <button class="btn btn-ghost focus-outline" data-modal-open="modal-mock-book">Замовити mock-interview</button>
        </div>
      </div>

      <div style="width:340px">
        <div class="kpi">
          <div class="tile"><div class="text-sm text-gray-500">Hire rate</div><div class="text-2xl font-bold">78%</div></div>
          <div class="tile"><div class="text-sm text-gray-500">Time-to-offer</div><div class="text-2xl font-bold">~2.3 міс</div></div>
          <div class="tile"><div class="text-sm text-gray-500">Salary uplift</div><div class="text-2xl font-bold">+28%</div></div>
        </div>
        <div class="text-xs text-gray-400 mt-2">Дані за внутрішньою вибіркою випускників</div>
      </div>
    </div>

    <!-- SERVICES GRID -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
      <div class="lg:col-span-2 card">
        <h3 class="text-xl font-semibold">Career-сервіси — що входить</h3>
        <p class="text-sm text-gray-600 mt-1">Глибокі ревʼю, рубрики, hiring-days, переговорна підготовка, підбір вакансій.</p>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">

          <!-- Mock -->
          <div class="card" style="min-height:240px">
            <div><strong>Mock interviews</strong><div class="text-sm text-gray-600 mt-1">Симуляція інтервʼю • запис • action-plan</div></div>
            <!-- фото: oo1.png -->
            <img src="img/oo1.png" alt="Mock interviews" class="service-img">
            <div class="mt-4 flex gap-3">
              <button class="btn btn-primary focus-outline" data-modal-open="modal-mock-details">Детальніше</button>
              <button class="btn btn-ghost focus-outline" data-modal-open="modal-mock-book">Записатися</button>
            </div>
          </div>

          <!-- CV -->
          <div class="card" style="min-height:240px">
            <div><strong>CV & LinkedIn</strong><div class="text-sm text-gray-600 mt-1">ATS-friendly ревізія • 2 раунди • PDF</div></div>
            <!-- фото: oo2.png -->
            <img src="img/oo2.png" alt="CV & LinkedIn" class="service-img">
            <div class="mt-4 flex gap-3">
              <button class="btn btn-primary focus-outline" data-modal-open="modal-cv-details">Детальніше</button>
              <button class="btn btn-ghost focus-outline" data-modal-open="modal-cv-book">Записатися</button>
            </div>
          </div>

          <!-- Portfolio -->
          <div class="card" style="min-height:240px">
            <div><strong>Portfolio review</strong><div class="text-sm text-gray-600 mt-1">Notion-шаблон • mentor sign-off • rubrics</div></div>
            <!-- фото: oo3.png -->
            <img src="img/oo3.png" alt="Portfolio review" class="service-img">
            <div class="mt-4 flex gap-3">
              <button class="btn btn-primary focus-outline" data-modal-open="modal-portfolio-details">Детальніше</button>
              <button class="btn btn-ghost focus-outline" data-modal-open="modal-portfolio-book">Записатися</button>
            </div>
          </div>

          <!-- Hiring-days -->
          <div class="card" style="min-height:240px">
            <div><strong>Hiring-days</strong><div class="text-sm text-gray-600 mt-1">Demo & 1:1 • direct-hire опції</div></div>
            <!-- фото: oo4.png -->
            <img src="img/oo4.png" alt="Hiring-days" class="service-img">
            <div class="mt-4 flex gap-3">
              <button class="btn btn-primary focus-outline" data-modal-open="modal-hiring-details">Детальніше</button>
              <button class="btn btn-ghost focus-outline" data-modal-open="modal-hiring-calendar">Календар</button>
            </div>
          </div>

          <!-- Negotiation -->
          <div class="card" style="min-height:240px">
            <div><strong>Negotiation coaching</strong><div class="text-sm text-gray-600 mt-1">Role-play • evidence pack • шаблони</div></div>
            <!-- фото: oo5.png -->
            <img src="img/oo5.png" alt="Negotiation coaching" class="service-img">
            <div class="mt-4 flex gap-3">
              <button class="btn btn-primary focus-outline" data-modal-open="modal-negotiation-details">Детальніше</button>
              <button class="btn btn-ghost focus-outline" data-modal-open="modal-negotiation-book">Записатися</button>
            </div>
          </div>

          <!-- Job matching -->
          <div class="card" style="min-height:240px">
            <div><strong>Job matching</strong><div class="text-sm text-gray-600 mt-1">Auto + ручний підбір • referrals</div></div>
            <!-- фото: oo6.png -->
            <img src="img/oo6.png" alt="Job matching" class="service-img">
            <div class="mt-4 flex gap-3">
              <button class="btn btn-primary focus-outline" data-modal-open="modal-matching-details">Детальніше</button>
              <button class="btn btn-ghost focus-outline" data-modal-open="modal-matching-book">Подати профіль</button>
            </div>
          </div>

        </div>
      </div>

      <!-- Roles column -->
      <aside class="card">
        <h4 class="text-lg font-semibold">Ролі та треки</h4>
        <p class="text-sm text-gray-600 mt-1">Опис ролей, очікувані зарплати, necessary deliverables.</p>

        <div class="mt-4 space-y-4">
          <!-- Product Designer -->
          <div class="p-3 rounded-lg bg-gray-50">
            <div class="flex justify-between">
              <div><div class="text-sm text-gray-600">Product Designer</div><div class="font-semibold">$24k — $72k / рік</div></div>
              <div class="text-xs text-gray-400">Time-to-offer: 2–3 міс</div>
            </div>
            <div class="mt-3 text-sm text-gray-600">2+ end-to-end кейси • Figma • basic analytics</div>
            <div class="mt-3 flex gap-3">
              <button class="btn btn-primary focus-outline" data-modal-open="modal-role-product">Деталі ролі</button>
              <button class="btn btn-ghost focus-outline" data-modal-open="modal-role-apply">Почати трек</button>
            </div>
          </div>

          <!-- UX Researcher -->
          <div class="p-3 rounded-lg bg-gray-50">
            <div class="flex justify-between">
              <div><div class="text-sm text-gray-600">UX Researcher</div><div class="font-semibold">$26k — $80k / рік</div></div>
              <div class="text-xs text-gray-400">Time-to-offer: 6 тижнів</div>
            </div>
            <div class="mt-3 text-sm text-gray-600">Research pipelines • Dovetail/Lookback</div>
            <div class="mt-3 flex gap-3">
              <button class="btn btn-primary focus-outline" data-modal-open="modal-role-research">Деталі ролі</button>
              <button class="btn btn-ghost focus-outline" data-modal-open="modal-role-apply">Почати трек</button>
            </div>
          </div>

          <!-- Frontend (for designers) -->
          <div class="p-3 rounded-lg bg-gray-50">
            <div class="flex justify-between">
              <div><div class="text-sm text-gray-600">Frontend (для дизайнерів)</div><div class="font-semibold">$18k — $50k / рік</div></div>
              <div class="text-xs text-gray-400">Time-to-offer: 1–3 міс</div>
            </div>
            <div class="mt-3 text-sm text-gray-600">Storybook POC • accessibility</div>
            <div class="mt-3 flex gap-3">
              <button class="btn btn-primary focus-outline" data-modal-open="modal-role-frontend">Деталі ролі</button>
              <button class="btn btn-ghost focus-outline" data-modal-open="modal-role-apply">Почати трек</button>
            </div>
          </div>

          <!-- Senior / Lead (new) -->
          <div class="p-3 rounded-lg bg-gray-50">
            <div class="flex justify-between">
              <div><div class="text-sm text-gray-600">Product Designer — Senior / Lead</div><div class="font-semibold">$48k — $95k / рік</div></div>
              <div class="text-xs text-gray-400">Time-to-offer: 4–8 тижнів</div>
            </div>
            <div class="mt-3 text-sm text-gray-600">5+ end-to-end кейсів • Leadership • Design systems • Experiments</div>
            <div class="mt-3 flex gap-3">
              <button class="btn btn-primary focus-outline" data-modal-open="modal-track-senior">Деталі ролі</button>
              <button class="btn btn-ghost focus-outline" data-modal-open="modal-track-apply">Почати трек</button>
            </div>
          </div>

        </div>
      </aside>
    </div>

  

  <!-- =========================
    MODALS: детальні, багато контенту (всі деталі ролей додані)
  ========================= -->

  <!-- CAREER PLAN -->
  <div id="modal-career-plan" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-career-plan-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-career-plan-title" class="text-2xl font-semibold">Персональний career-plan — що отримаєте</h3>
      <p class="text-sm text-gray-600 mt-2">Комплексний документ з поетапним планом дій, deliverables, часом на виконання та рекомендаціями по каналам подачі.</p>

      <section class="mt-4">
        <h4 class="font-semibold">Вміст плану</h4>
        <ul class="list-disc pl-5 mt-2 text-sm text-gray-600">
          <li><strong>Skills-audit:</strong> поточний профіль умінь з gap-analysis.</li>
          <li><strong>Roadmap 8–12 тижнів:</strong> пріоритизація кейсів, deadlines, шаблони.</li>
          <li><strong>Portfolio checklist:</strong> структура case-study, метрики, скриншоти, таблиці результатів.</li>
          <li><strong>Mock-plan:</strong> коли і які mock потрібні, теми, expected outcomes.</li>
          <li><strong>Job-match shortlist:</strong> 5–10 релевантних вакансій з пріоритетами та каналами подачі.</li>
          <li><strong>Negotiation brief:</strong> пропозиції по salary band, BATNA, підготовка до переговорів.</li>
          <li><strong>Action items:</strong> короткострокові tasks з описом і часом на виконання.</li>
        </ul>
      </section>

      <section class="mt-4">
        <h4 class="font-semibold">Deliverables (приклад)</h4>
        <table class="career-table">
          <tbody>
            <tr><td style="width:200px">Deliverable</td><td>Research brief • User interviews • CJM • 2 end-to-end case-studies • Notion case template • Storybook POC</td></tr>
            <tr><td>Час</td><td>8–12 год/модуль; повний план 8–12 тижнів</td></tr>
            <tr><td>Outcome</td><td>Portfolio-ready кейс • mentor sign-off • shortlist в hiring-days</td></tr>
          </tbody>
        </table>
      </section>

      <div class="mt-4 flex justify-end gap-3">
        <button class="btn btn-ghost" data-modal-close>Закрити</button>
        <button class="btn btn-primary" id="plan-request-btn">Отримати план</button>
      </div>
    </div>
  </div>

  <!-- MOCK DETAILS -->
  <div id="modal-mock-details" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-mock-details-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-mock-details-title" class="text-2xl font-semibold">Mock-interview — повний опис</h3>
      <p class="text-sm text-gray-600 mt-2">Симуляція інтервʼю з mentor, запис, детальний фідбек та action-plan. Підходить для Product, UI, Research та Frontend-for-Designers.</p>

      <section class="mt-4">
        <h4 class="font-semibold">Формат сесії</h4>
        <ul class="list-disc pl-5 mt-2 text-sm text-gray-600">
          <li><strong>Тривалість:</strong> 45–60 хв (в залежності від формату).</li>
          <li><strong>Типи:</strong> behavioral / product deep-dive / system design / technical (frontend) / research debrief.</li>
          <li><strong>Deliverable:</strong> запис сесії, письмовий action-plan (3 priorities), rubric scorecard.</li>
        </ul>
      </section>

      <section class="mt-4">
        <h4 class="font-semibold">Приклад bank питань</h4>
        <div class="text-sm text-gray-600">
          <strong>Product</strong>: Опишіть кейс, де ви збільшили метрику; як обирали метрики успіху; які trade-offs ви враховували. <br><br>
          <strong>Behavioral</strong>: Розкажіть про конфлікт у команді і як вирішували. Що б ви зробили інакше? <br><br>
          <strong>Design</strong>: Як ви підходите до accessibility; як організовуєте design system; приклад tokenization. <br><br>
          <strong>Research</strong>: Опишіть pipeline для нового фічерелізу; як ви аналізуєте дані і презентуєте insight керівництву.
        </div>
      </section>

      <section class="mt-4">
        <h4 class="font-semibold">Рубрика оцінювання (приклад)</h4>
        <table class="career-table">
          <tbody>
            <tr><td style="width:200px"><strong>Критерій</strong></td><td><strong>Опис</strong></td></tr>
            <tr><td>Communication (0–10)</td><td>Чіткість відповідей, структура, storytelling.</td></tr>
            <tr><td>Product thinking (0–10)</td><td>Вміння визначати проблеми, метрики, пріоритизація</td></tr>
            <tr><td>Craft (0–10)</td><td>Дизайн/код/методологія — підхід, якість deliverable</td></tr>
            <tr><td>Ownership (0–10)</td><td>Відповідальність, приклад impact, follow-through</td></tr>
          </tbody>
        </table>
      </section>

      <section class="mt-4">
        <h4 class="font-semibold">Чекліст після mock</h4>
        <ol class="list-decimal pl-5 text-sm text-gray-600 mt-2">
          <li>Переглянути запис — визначити 3 quick wins.</li>
          <li>Оновити кейс у портфоліо: measurement, context, role, outcome.</li>
          <li>Запланувати follow-up mock через 2 тижні.</li>
        </ol>
      </section>

      <div class="mt-4 flex justify-end gap-3">
        <button class="btn btn-ghost" data-modal-close>Закрити</button>
        <button class="btn btn-primary" data-modal-open="modal-mock-book">Записатися на mock</button>
      </div>
    </div>
  </div>

  <!-- MOCK BOOKING -->
  <div id="modal-mock-book" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-mock-book-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-mock-book-title" class="text-2xl font-semibold">Запис на mock-interview</h3>
      <p class="text-sm text-gray-600 mt-2">Заповніть форму, ми зв'яжемося для підтвердження часу. Після сесії — запис і action-plan.</p>

      <form id="form-mock-book" class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-3" onsubmit="return false;">
        <label class="text-sm">Ім'я <input name="name" required class="mt-1 p-2 border rounded-md w-full"></label>
        <label class="text-sm">Email <input name="email" type="email" required class="mt-1 p-2 border rounded-md w-full"></label>
        <label class="text-sm">Формат <select name="format" class="mt-1 p-2 border rounded-md w-full"><option>Product deep-dive</option><option>Behavioral</option><option>Design critique</option><option>Frontend technical</option></select></label>
        <label class="text-sm">Переважна дата/час <input name="when" placeholder="2025-09-01 11:00" required class="mt-1 p-2 border rounded-md w-full"></label>

        <label class="text-sm md:col-span-2">
          Коментар (коротко) <textarea name="comment" class="mt-1 p-2 border rounded-md w-full" rows="3" placeholder="Коротко про досвід та що саме хочете перевірити"></textarea>
        </label>

        <div class="md:col-span-2 flex justify-end gap-3">
          <button class="btn btn-ghost" data-modal-close>Скасувати</button>
          <button id="submit-mock" class="btn btn-primary">Підтвердити запис</button>
        </div>
      </form>

      <div class="mt-6 text-xs text-gray-400">Після підтвердження ви отримаєте лінк на відео/зустріч та запис сесії. Ми зберігаємо записи 90 днів. </div>
    </div>
  </div>

  <!-- CV DETAILS -->
  <div id="modal-cv-details" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-cv-details-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-cv-details-title" class="text-2xl font-semibold">CV & LinkedIn — повний пакет</h3>
      <p class="text-sm text-gray-600 mt-2">ATS-оптимізація, структурні правки, elevator pitch, 2 раунди ревізій, PDF ready.</p>

      <section class="mt-4">
        <h4 class="font-semibold">CV checklist (детально)</h4>
        <ul class="list-disc pl-5 text-sm text-gray-600 mt-2">
          <li>Контактна інформація — email, телефон, лінк на портфоліо/LinkedIn.</li>
          <li>Summary — 2–3 речення про експертизу та impact.</li>
          <li>Кожен bullet повинен містити: контекст → дія → результат (метрика).</li>
          <li>Ключові слова: Figma, Storybook, user research, A/B testing — релевантні ролі.</li>
          <li>ATS: уникати графічного тексту в основній частині, мати чисту структуру, PDF та plain-text версії.</li>
        </ul>
      </section>

      <div class="mt-4 flex justify-end gap-3">
        <button class="btn btn-ghost" data-modal-close>Закрити</button>
        <button class="btn btn-primary" data-modal-open="modal-cv-book">Замовити ревізію</button>
      </div>
    </div>
  </div>

  <!-- CV BOOK -->
  <div id="modal-cv-book" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-cv-book-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-cv-book-title" class="text-2xl font-semibold">Форма замовлення CV-ревізії</h3>

      <form id="form-cv" class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-3" onsubmit="return false;">
        <label class="text-sm">Ім'я <input name="name" required class="mt-1 p-2 border rounded-md w-full"></label>
        <label class="text-sm">Email <input name="email" type="email" required class="mt-1 p-2 border rounded-md w-full"></label>
        <label class="text-sm md:col-span-2">Посилання на CV або портфоліо <input name="link" class="mt-1 p-2 border rounded-md w-full" placeholder="https://..."></label>
        <label class="text-sm md:col-span-2">Коментар <textarea name="note" rows="3" class="mt-1 p-2 border rounded-md w-full" placeholder="Коротко: що саме хочете покращити"></textarea></label>

        <div class="md:col-span-2 flex justify-end gap-3">
          <button class="btn btn-ghost" data-modal-close>Скасувати</button>
          <button id="submit-cv-book" class="btn btn-primary">Замовити ревізію</button>
        </div>
      </form>
    </div>
  </div>

  <!-- PORTFOLIO DETAILS -->
  <div id="modal-portfolio-details" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-portfolio-details-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-portfolio-details-title" class="text-2xl font-semibold">Portfolio review — Notion & case-study template</h3>

      <section class="mt-4">
        <h4 class="font-semibold">Структура case-study (Notion-ready)</h4>
        <ol class="list-decimal pl-5 text-sm text-gray-600 mt-2">
          <li><strong>Титул:</strong> роль, команда, період, посилання на prototype.</li>
          <li><strong>Контекст:</strong> проблема бізнесу, KPI, обмеження.</li>
          <li><strong>Підхід:</strong> дослідження, гіпотези, flow, wireframes.</li>
          <li><strong>Рішення:</strong> дизайн, компоненти, accessibility notes.</li>
          <li><strong>Результат:</strong> метрики до/після, A/B, qualitative insights.</li>
          <li><strong>Learnings:</strong> що зробили б інакше, next steps.</li>
        </ol>
      </section>

      <div class="mt-4 flex justify-end gap-3">
        <button class="btn btn-ghost" data-modal-close>Закрити</button>
        <button class="btn btn-primary" data-modal-open="modal-portfolio-book">Записатися на ревʼю</button>
      </div>
    </div>
  </div>

  <!-- PORTFOLIO BOOK -->
  <div id="modal-portfolio-book" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-portfolio-book-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-portfolio-book-title" class="text-2xl font-semibold">Форма запису на portfolio review</h3>
      <form id="form-portfolio" class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-3" onsubmit="return false;">
        <label class="text-sm">Ім'я <input name="name" required class="mt-1 p-2 border rounded-md w-full"></label>
        <label class="text-sm">Email <input name="email" required type="email" class="mt-1 p-2 border rounded-md w-full"></label>
        <label class="text-sm md:col-span-2">Посилання на кейс (Notion/URL) <input name="link" class="mt-1 p-2 border rounded-md w-full" placeholder="https://..."></label>
        <label class="text-sm md:col-span-2">Коментар <textarea name="note" rows="3" class="mt-1 p-2 border rounded-md w-full"></textarea></label>

        <div class="md:col-span-2 flex justify-end gap-3">
          <button class="btn btn-ghost" data-modal-close>Скасувати</button>
          <button id="submit-portfolio" class="btn btn-primary">Записатися</button>
        </div>
      </form>
    </div>
  </div>

  <!-- HIRING DAYS DETAIL -->
  <div id="modal-hiring-details" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-hiring-details-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-hiring-details-title" class="text-2xl font-semibold">Hiring-days — механіка й підготовка</h3>

      <section class="mt-4">
        <h4 class="font-semibold">Як проходить захід</h4>
        <ol class="list-decimal pl-5 text-sm text-gray-600 mt-2">
          <li>Реєстрація кандидатів → перевірка deliverables → shortlist.</li>
          <li>Під час дня: 7–10 хв кейс-демо + 7–10 хв Q&A з рекрутером/хт.</li>
          <li>Post-event: partner отримує shortlists; direct-hire — інтервʼю з компанією.</li>
        </ol>
      </section>

      <div class="mt-4 flex justify-end gap-3">
        <button class="btn btn-ghost" data-modal-close>Закрити</button>
        <button class="btn btn-primary" data-modal-open="modal-hiring-calendar">Переглянути календар</button>
      </div>
    </div>
  </div>

  <!-- HIRING CALENDAR -->
  <div id="modal-hiring-calendar" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-hiring-calendar-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-hiring-calendar-title" class="text-2xl font-semibold">Календар hiring-days</h3>
      <div class="mt-4 text-sm text-gray-600">
        <strong>Найближчі події:</strong>
        <ul class="list-disc pl-5 mt-2">
          <li>10 вересня 2025 — FinEdge (Product Designer) — онлайн — 20 місць</li>
          <li>22 вересня 2025 — AppWorks (UI/Visual) — Київ — 12 місць</li>
          <li>05 жовтня 2025 — ShopQuick (UX Researcher) — онлайн — 15 місць</li>
        </ul>
      </div>
      <div class="mt-4 flex justify-end gap-3">
        <button class="btn btn-ghost" data-modal-close>Закрити</button>
        <button class="btn btn-primary" data-modal-open="modal-event-register">Забронювати місце</button>
      </div>
    </div>
  </div>

  <!-- EVENT REGISTER -->
  <div id="modal-event-register" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-event-register-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-event-register-title" class="text-2xl font-semibold">Реєстрація на hiring-day</h3>
      <form id="form-event" class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-3" onsubmit="return false;">
        <label class="text-sm">Ім'я <input name="name" required class="mt-1 p-2 border rounded-md w-full"></label>
        <label class="text-sm">Email <input name="email" required type="email" class="mt-1 p-2 border rounded-md w-full"></label>
        <label class="text-sm md:col-span-2">Посилання на кейс <input name="link" class="mt-1 p-2 border rounded-md w-full" placeholder="https://..."></label>
        <div class="md:col-span-2 flex justify-end gap-3">
          <button class="btn btn-ghost" data-modal-close>Скасувати</button>
          <button id="submit-event" class="btn btn-primary">Забронювати</button>
        </div>
      </form>
    </div>
  </div>

  <!-- NEGOTIATION DETAILS -->
  <div id="modal-negotiation-details" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-negotiation-details-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-negotiation-details-title" class="text-2xl font-semibold">Negotiation coaching — скрипти та підготовка</h3>
      <section class="mt-4">
        <h4 class="font-semibold">План сесії</h4>
        <ol class="list-decimal pl-5 text-sm text-gray-600 mt-2">
          <li>Review offer: salary, bonus, equity, benefits.</li>
          <li>Role-play: simulated negotiation with mentor (60–90 хв).</li>
          <li>Action-plan: письмовий скрипт, counter-offer template.</li>
        </ol>
      </section>
      <div class="mt-4 flex justify-end gap-3">
        <button class="btn btn-ghost" data-modal-close>Закрити</button>
        <button class="btn btn-primary" data-modal-open="modal-negotiation-book">Замовити coaching</button>
      </div>
    </div>
  </div>

  <!-- NEGOTIATION BOOK -->
  <div id="modal-negotiation-book" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-negotiation-book-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-negotiation-book-title" class="text-2xl font-semibold">Замовити negotiation coaching</h3>
      <form id="form-neg" class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-3" onsubmit="return false;">
        <label class="text-sm">Ім'я <input name="name" required class="mt-1 p-2 border rounded-md w-full"></label>
        <label class="text-sm">Email <input name="email" required type="email" class="mt-1 p-2 border rounded-md w-full"></label>
        <label class="text-sm md:col-span-2">Ваш офер (коротко) <textarea name="offer" rows="3" class="mt-1 p-2 border rounded-md w-full" placeholder="Base + bonus + equity"></textarea></label>
        <div class="md:col-span-2 flex justify-end gap-3">
          <button class="btn btn-ghost" data-modal-close>Скасувати</button>
          <button id="submit-neg" class="btn btn-primary">Записатися</button>
        </div>
      </form>
    </div>
  </div>

  <!-- MATCHING DETAILS -->
  <div id="modal-matching-details" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-matching-details-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-matching-details-title" class="text-2xl font-semibold">Job matching — як ми підбираємо вакансії</h3>
      <section class="mt-4">
        <h4 class="font-semibold">Процес</h4>
        <ol class="list-decimal pl-5 text-sm text-gray-600 mt-2">
          <li>Алгоритмічний скринінг: ключові слова, скіли, рівень досвіду.</li>
          <li>Ручна ревізія рекрутером: пріоритизація, culture-fit.</li>
          <li>Shortlist + рекомендації по подачі (customized cover letter + pitch).</li>
        </ol>
      </section>
      <div class="mt-4 flex justify-end gap-3">
        <button class="btn btn-ghost" data-modal-close>Закрити</button>
        <button class="btn btn-primary" data-modal-open="modal-matching-book">Подати профіль</button>
      </div>
    </div>
  </div>

  <!-- MATCHING BOOK -->
  <div id="modal-matching-book" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-matching-book-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-matching-book-title" class="text-2xl font-semibold">Подати профіль для job matching</h3>
      <form id="form-matching" class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-3" onsubmit="return false;">
        <label class="text-sm">Ім'я <input name="name" required class="mt-1 p-2 border rounded-md w-full"></label>
        <label class="text-sm">Email <input name="email" required type="email" class="mt-1 p-2 border rounded-md w-full"></label>
        <label class="text-sm md:col-span-2">Посилання на портфоліо <input name="link" class="mt-1 p-2 border rounded-md w-full"></label>
        <label class="text-sm"><input type="checkbox" required /> Погоджуюсь на передачу резюме партнерам (consent)</label>
        <div class="md:col-span-2 flex justify-end gap-3">
          <button class="btn btn-ghost" data-modal-close>Скасувати</button>
          <button id="submit-matching" class="btn btn-primary">Подати профіль</button>
        </div>
      </form>
    </div>
  </div>

  <!-- ROLE DETAILS: Product (exists) -->
  <div id="modal-role-product" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-role-product-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-role-product-title" class="text-2xl font-semibold">Product Designer — роль та вимоги</h3>

      <section class="mt-4 text-sm text-gray-600">
        <p><strong>Опис:</strong> End-to-end робота: discovery, framing, prototyping, experiments, A/B testing. Працюєте з PM та engineering; вимагається product thinking та measurable impact.</p>

        <h4 class="font-semibold mt-3">Required deliverables</h4>
        <ul class="list-disc pl-5">
          <li>2+ end-to-end кейси (research → design → metrics)</li>
          <li>Design system starter (tokens + components)</li>
          <li>Clickable prototype + testing report</li>
        </ul>

        <h4 class="font-semibold mt-3">Skills matrix</h4>
        <table class="career-table">
          <tbody>
            <tr><td style="width:200px">Must-have</td><td>Figma, prototyping, product metrics, cross-team communication</td></tr>
            <tr><td>Nice-to-have</td><td>Storybook, basic JS, A/B experience</td></tr>
          </tbody>
        </table>
      </section>

      <div class="mt-4 flex justify-end gap-3">
        <button class="btn btn-ghost" data-modal-close>Закрити</button>
        <button class="btn btn-primary" data-modal-open="modal-role-apply">Почати трек</button>
      </div>
    </div>
  </div>

  <!-- ROLE DETAILS: Research (NEW) -->
  <div id="modal-role-research" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-role-research-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-role-research-title" class="text-2xl font-semibold">UX Researcher — роль та вимоги</h3>

      <section class="mt-4 text-sm text-gray-600">
        <p><strong>Опис:</strong> Розробка research-планів, recruitment, moderation, аналіз та передача инсайтів в продуктову команду. Профіль: сильний qualitative + quantitative підхід, storytelling перед стейкхолдерами.</p>

        <h4 class="font-semibold mt-3">Required deliverables</h4>
        <table class="career-table">
          <tbody>
            <tr><td style="width:200px">Research plan</td><td>Protocol, recruitment criteria, sample size, timeline</td></tr>
            <tr><td>Study artifacts</td><td>Interview transcripts, affinity maps, personas, CJM</td></tr>
            <tr><td>Impact report</td><td>Insights → Recommendations → Measurable experiment ideas</td></tr>
          </tbody>
        </table>

        <h4 class="font-semibold mt-3">Tools & skills</h4>
        <ul class="list-disc pl-5">
          <li>Dovetail / Lookback / Hotjar / Mixpanel basics</li>
          <li>Moderation, recruitment, synthesis, stakeholder communication</li>
          <li>Ability to design quantitative surveys and analyze funnels</li>
        </ul>

        <h4 class="font-semibold mt-3">Interview rubric</h4>
        <table class="career-table">
          <tbody>
            <tr><td style="width:200px">Research design</td><td>Чіткість плану, релевантність методів</td></tr>
            <tr><td>Analysis</td><td>Якість синтезу, connection to decisions</td></tr>
            <tr><td>Communication</td><td>Presentation of insights, stakeholder buy-in</td></tr>
          </tbody>
        </table>
      </section>

      <div class="mt-4 flex justify-end gap-3">
        <button class="btn btn-ghost" data-modal-close>Закрити</button>
        <button class="btn btn-primary" data-modal-open="modal-role-apply">Почати трек</button>
      </div>
    </div>
  </div>

  <!-- ROLE DETAILS: Frontend (NEW) -->
  <div id="modal-role-frontend" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-role-frontend-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-role-frontend-title" class="text-2xl font-semibold">Frontend для дизайнерів — роль та вимоги</h3>

      <section class="mt-4 text-sm text-gray-600">
        <p><strong>Опис:</strong> Позиція для дизайнерів, які вміють робити POCs, інтегрувати дизайн у Storybook, розуміти accessibility та basic JS/React для handoff.</p>

        <h4 class="font-semibold mt-3">Required deliverables</h4>
        <table class="career-table">
          <tbody>
            <tr><td style="width:200px">Storybook POC</td><td>UI kit, tokens, interactive components, docs</td></tr>
            <tr><td>Accessibility</td><td>Аудит, ARIA notes, keyboard flows</td></tr>
            <tr><td>Handoff</td><td>Clean component specs, props table, responsive rules</td></tr>
          </tbody>
        </table>

        <h4 class="font-semibold mt-3">Skills matrix</h4>
        <ul class="list-disc pl-5">
          <li>HTML/CSS, basic React/JS, Storybook</li>
          <li>Design tokens, responsive systems, accessibility</li>
          <li>Collaboration with engineers (PR reviews, QA)</li>
        </ul>

        <h4 class="font-semibold mt-3">Interview focus</h4>
        <ol class="list-decimal pl-5">
          <li>Show POCs and explain trade-offs</li>
          <li>Demonstrate how component API maps to design tokens</li>
          <li>Accessibility rationale and testing approach</li>
        </ol>
      </section>

      <div class="mt-4 flex justify-end gap-3">
        <button class="btn btn-ghost" data-modal-close>Закрити</button>
        <button class="btn btn-primary" data-modal-open="modal-role-apply">Почати трек</button>
      </div>
    </div>
  </div>

  <!-- ROLE APPLY (generic) -->
  <div id="modal-role-apply" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-role-apply-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-role-apply-title" class="text-2xl font-semibold">Почати трек — реєстрація</h3>
      <form id="form-role-apply" class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-3" onsubmit="return false;">
        <label class="text-sm">Ім'я <input name="name" required class="mt-1 p-2 border rounded-md w-full"></label>
        <label class="text-sm">Email <input name="email" required type="email" class="mt-1 p-2 border rounded-md w-full"></label>
        <label class="text-sm md:col-span-2">Посилання на портфоліо <input name="link" class="mt-1 p-2 border rounded-md w-full"></label>
        <label class="text-sm md:col-span-2">Коротко про досвід <textarea name="bio" rows="3" class="mt-1 p-2 border rounded-md w-full"></textarea></label>
        <div class="md:col-span-2 flex justify-end gap-3">
          <button class="btn btn-ghost" data-modal-close>Скасувати</button>
          <button id="submit-role-apply" class="btn btn-primary">Розпочати</button>
        </div>
      </form>
    </div>
  </div>

  <!-- SENIOR TRACK DETAILS -->
  <div id="modal-track-senior" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-track-senior-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-track-senior-title" class="text-2xl font-semibold">Product Designer — Senior / Lead (детально)</h3>
      <p class="small muted" style="margin-top:8px">Повний опис вимог, deliverables, приклади timeline, rubric оцінювання та templates.</p>

      <section style="margin-top:14px">
        <h4 class="font-semibold">Короткий резюме ролі</h4>
        <div class="muted small" style="margin-top:8px">
          Senior Product Designer — ведення discovery, створення та валідація гіпотез, запуск experiments, вплив на roadmap. Очікується measurable impact та робота з PM/Engineering на рівні стратегічних рішень.
        </div>
      </section>

      <section style="margin-top:12px">
        <h4 class="font-semibold">Required deliverables (зразок)</h4>
        <table class="career-table two-col" style="margin-top:8px">
          <tbody>
            <tr><td style="width:220px"><strong>Case-study</strong></td><td>3 strategic cases; each: context → approach → outcome with metrics (table + screenshots + prototype link)</td></tr>
            <tr><td><strong>Design system</strong></td><td>Tokens + 8 shared components in Storybook; accessibility notes</td></tr>
            <tr><td><strong>Experiment pack</strong></td><td>Experiment plan, metrics, results dashboard (CSV / table), lessons learned</td></tr>
            <tr><td><strong>One-pager</strong></td><td>1-page summary for hiring-days / partners</td></tr>
          </tbody>
        </table>
      </section>

      <div class="mt-4 flex justify-end gap-3">
        <button class="btn btn-ghost" data-modal-close>Закрити</button>
        <button class="btn btn-primary" data-modal-open="modal-track-apply">Почати трек</button>
      </div>
    </div>
  </div>

  <!-- TRACK APPLY -->
  <div id="modal-track-apply" class="career-modal" role="dialog" aria-modal="true" aria-labelledby="modal-track-apply-title">
    <div class="absolute inset-0 bg-black/40" data-modal-close></div>
    <div class="panel" tabindex="-1" aria-hidden="true">
      <button class="absolute right-4 top-4 text-gray-400" data-modal-close aria-label="Закрити">✕</button>
      <h3 id="modal-track-apply-title" class="text-2xl font-semibold">Почати трек — заявка</h3>
      <p class="small muted" style="margin-top:8px">Заповніть форму нижче — ми підготуємо індивідуальний roadmap і надішлемо матеріали для старту.</p>

      <form id="form-track-apply" style="margin-top:12px;display:grid;grid-template-columns:repeat(2,1fr);gap:10px" onsubmit="return false;">
        <label class="small">Ім'я<input name="name" required class="focus-outline" style="margin-top:6px;padding:10px;border-radius:8px;border:1px solid #e6e6e9"></label>
        <label class="small">Email<input name="email" required type="email" class="focus-outline" style="margin-top:6px;padding:10px;border-radius:8px;border:1px solid #e6e6e9"></label>
        <label class="small" style="grid-column:1 / -1">Посилання на портфоліо<input name="link" placeholder="https://..." style="margin-top:6px;padding:10px;border-radius:8px;border:1px solid #e6e6e9;width:100%"></label>
        <label class="small" style="grid-column:1 / -1">Коротко про досвід (3–5 рядків)<textarea name="bio" rows="4" style="margin-top:6px;padding:10px;border-radius:8px;border:1px solid #e6e6e9;width:100%"></textarea></label>

        <div style="grid-column:1 / -1;display:flex;justify-content:flex-end;gap:10px">
          <button class="btn btn-ghost" data-modal-close>Скасувати</button>
          <button id="submit-track-apply" class="btn btn-primary">Почати трек</button>
        </div>
      </form>

      <div class="small muted" style="margin-top:8px">Після підтвердження ми відправимо welcome packet (templates, roadmap, mentor intro) і заплануємо onboarding call.</div>
    </div>
  </div>

  <!-- JOB APPLY sample & other modals omitted for brevity (they are above) -->

  <!-- =========================
     MODAL MANAGER SCRIPT (reliable, focus-trap fallback)
  ========================= -->
  <script>
  (function(){
    const FOCUSABLE = 'a[href], area[href], input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex="-1"])';

    function openModal(id, opener){
      const modal = document.getElementById(id);
      if(!modal){ console.warn('Modal not found:', id); return; }
      document.querySelectorAll('.career-modal.active').forEach(m => closeModal(m));
      modal.classList.add('active'); modal.setAttribute('aria-hidden','false');
      modal.dataset._opener = opener ? (opener.id ? '#'+opener.id : (opener.getAttribute && opener.getAttribute('data-modal-open') ? opener.getAttribute('data-modal-open') : null)) : null;

      try {
        if(window.focusTrap && typeof window.focusTrap.createFocusTrap === 'function'){
          if(modal._trap && typeof modal._trap.deactivate === 'function') modal._trap.deactivate();
          modal._trap = window.focusTrap.createFocusTrap(modal, { escapeDeactivates:true, clickOutsideDeactivates:true });
          modal._trap.activate();
        } else {
          const focusables = Array.from(modal.querySelectorAll(FOCUSABLE));
          modal._focusables = focusables;
          if(focusables.length) focusables[0].focus(); else modal.querySelector('.panel').focus();
        }
      } catch(e){ console.warn('Focus trap error', e); const f = modal.querySelector(FOCUSABLE); if(f) f.focus(); }

      try { if(window.gsap) gsap.fromTo(modal.querySelector('.panel'), { y:18, opacity:0 }, { y:0, opacity:1, duration:0.45, ease:'power3.out' }); } catch(e){}
    }

    function closeModal(modal){
      if(!modal) return;
      try { if(modal._trap && typeof modal._trap.deactivate === 'function') modal._trap.deactivate(); } catch(e){}
      modal.classList.remove('active'); modal.setAttribute('aria-hidden','true');
      const openerSelector = modal.dataset._opener;
      if(openerSelector){
        try {
          const opener = document.querySelector('[data-modal-open="'+openerSelector+'"]') || document.querySelector(openerSelector);
          if(opener && typeof opener.focus === 'function') opener.focus();
        } catch(e){}
      }
      delete modal._focusables; delete modal._trap; delete modal.dataset._opener;
    }

    document.addEventListener('click', function(e){
      const btn = e.target.closest('[data-modal-open]');
      if(btn){
        e.preventDefault();
        openModal(btn.getAttribute('data-modal-open'), btn);
        return;
      }
      const closeBtn = e.target.closest('[data-modal-close]');
      if(closeBtn){
        e.preventDefault();
        const modal = closeBtn.closest('.career-modal');
        closeModal(modal);
      }
    });

    document.querySelectorAll('.career-modal').forEach(modal => {
      modal.addEventListener('click', function(e){
        if(e.target === modal) closeModal(modal);
      });
    });

    document.addEventListener('keydown', function(e){
      if(e.key === 'Escape' || e.key === 'Esc'){
        document.querySelectorAll('.career-modal.active').forEach(m => closeModal(m));
      } else if(e.key === 'Tab'){
        const active = document.querySelector('.career-modal.active');
        if(!active) return;
        if(active._trap) return;
        const focusables = active._focusables || Array.from(active.querySelectorAll(FOCUSABLE));
        if(focusables.length === 0){ e.preventDefault(); return; }
        const first = focusables[0], last = focusables[focusables.length -1];
        if(e.shiftKey && document.activeElement === first){ last.focus(); e.preventDefault(); }
        else if(!e.shiftKey && document.activeElement === last){ first.focus(); e.preventDefault(); }
      }
    });

    function fakeSubmit(btn, message){
      btn.disabled = true; const orig = btn.textContent; btn.textContent = '...';
      setTimeout(() => { alert(message); btn.disabled = false; btn.textContent = orig; const modal = btn.closest('.career-modal'); if(modal) closeModal(modal); }, 800);
    }

    const handlers = [
      {id:'submit-mock', msg:'Дякуємо — ми надішлемо підтвердження на email.'},
      {id:'submit-cv-book', msg:'CV-ревізію заплановано. Очікуйте листа.'},
      {id:'submit-portfolio', msg:'Запис на portfolio review підтверджено.'},
      {id:'submit-event', msg:'Ви забронювали місце.'},
      {id:'submit-job', msg:'Резюме відправлено партнеру.'},
      {id:'submit-report', msg:'Запит на звіт отримано.'},
      {id:'submit-role-apply', msg:'Трек запущено. Звʼяжемося найближчим часом.'},
      {id:'submit-matching', msg:'Профіль подано на matching.'},
      {id:'submit-neg', msg:'Negotiation coaching заплановано.'},
      {id:'plan-request-btn', msg:'Персональний план буде відправлено на email.'},
      {id:'submit-track-apply', msg:'Заявку отримано — чекати листа з деталями.'}
    ];
    handlers.forEach(h => {
      const el = document.getElementById(h.id);
      if(el) el.addEventListener('click', function(){ fakeSubmit(this, h.msg); });
    });

  })();
  </script>

</section>
<!-- ========================= END: Career section ========================= -->






<script>
  (function(){
    const root = document.getElementById('school');
    if(!root) return;

    /* ---------- Data: detailed content for each card (rich, масштабно) ---------- */
    const DETAILS = {
      "portfolio-hiring": {
        title: "Портфоліо → Працевлаштування — повний опис",
        html: `
          <h4>Кому підходить</h4>
          <p>Junior → mid дизайнери, які хочуть швидко зібрати portfolio-ready кейси та вийти на produkт-команду.</p>

          <h4>Структура курсу</h4>
          <ol>
            <li><strong>Intro & Research (2 тижні):</strong> user interviews, analytics audit, competition analysis.</li>
            <li><strong>Design sprints (3×3 тижні):</strong> lo-fi → hi-fi → usability → A/B.</li>
            <li><strong>Portfolio polish (2 тижні):</strong> case-writing, presentation, rehearsal для demo day.</li>
          </ol>

          <h4>Deliverables</h4>
          <ul>
            <li>3 повні case-studies (research, flows, hi-fi screens, prototype, AB-results)</li>
            <li>Figma file з components & tokens</li>
            <li>Presentation deck та acceptance checklist</li>
          </ul>

          <h4>Інструменти</h4>
          <p>Figma, Miro, Notion, Google Analytics, Hotjar / FullStory, Lookback</p>

          <h4>Timeline & Tasks (приклад)</h4>
          <ul>
            <li>Тиждень 1–2: research plan, screener, 15 інтерв'ю</li>
            <li>Тиждень 3–5: ideation, wireframes, prototype (lo-fi → hi-fi)</li>
            <li>Тиждень 6: moderated usability, synthesis</li>
            <li>Тиждень 7: A/B setup & analysis</li>
          </ul>

          <h4>Результати</h4>
          <p>Портфоліо з вимірюваними кейсами, готове для подачі в продуктову компанію або агентство. Підтримка career-team: mock-interviews, direct intros.</p>
        `
      },

      "visual-lab": {
        title: "Visual Design Lab — повний опис",
        html: `
          <h4>Опис</h4>
          <p>Deep dive у візуальну частину: системи, типографіка, motion, accessibility.</p>

          <h4>Модулі</h4>
          <ul>
            <li>Type scale & hierarchy — practical exercises on real content</li>
            <li>Color & contrast, accessible palettes</li>
            <li>Design tokens, component anatomy, variants</li>
            <li>Micro-interactions & motion principles (Framer / Figma smart animate)</li>
          </ul>

          <h4>Практикова частина</h4>
          <p>Кожен слухач поставляє styleguide + 2 screens з motion specs; tokens експортуються у CSS variables.</p>

          <h4>Результат</h4>
          <p>Глибокий кейс для портфоліо: design system + usage examples + accessibility notes.</p>
        `
      },

      "product-mastery": {
        title: "Product Design Mastery — повний опис",
        html: `
          <h4>Кому підходить</h4>
          <p>Designers, які працюють з продуктовими метриками і хочуть впливати на roadmap та business outcomes.</p>

          <h4>Зміст</h4>
          <ul>
            <li>Discovery workshops, problem framing</li>
            <li>Stakeholder alignment & metrics definition</li>
            <li>Prioritization (RICE, Opportunity Solution Tree)</li>
            <li>Experiment design & measurement (A/B, holdout groups)</li>
          </ul>

          <h4>Deliverables</h4>
          <p>Product brief, prioritized roadmap, experiment plan, impact analysis template.</p>

          <h4>Практика</h4>
          <p>Кейс: від discovery до MVP та метрик — presentation for execs + handoff to dev.</p>
        `
      },

      "career-accelerator": {
        title: "Career Accelerator — повний опис",
        html: `
          <h4>Що входить</h4>
          <ul>
            <li>CV & LinkedIn audit (1:1)</li>
            <li>3 mock interviews з hiring managers (зворотній зв'язок)</li>
            <li>Direct intros у партнерські компанії</li>
            <li>Negotiation coaching та offer review</li>
          </ul>

          <h4>Підтримка</h4>
          <p>3 місяці career follow-up: перевірка портфоліо, допомога з вакансіями, супровід переговорів.</p>

          <h4>Результат</h4>
          <p>Підвищення шансів отримання офера — підготовка до реальних інтерв'ю та супровід у процесі найму.</p>
        `
      },

      "frontend-designers": {
        title: "Frontend for Designers — повний опис",
        html: `
          <h4>Мета</h4>
          <p>Дати дизайнеру навички, щоб робити живі прототипи та передавати чисті handoffs розробникам.</p>

          <h4>Контент</h4>
          <ul>
            <li>Semantic HTML & CSS (layout: grid / flex)</li>
            <li>Design tokens → CSS variables, responsive tokens</li>
            <li>Small JS interactions (vanilla) & accessibility</li>
            <li>Storybook basics & component-driven workflow</li>
          </ul>

          <h4>Практика</h4>
          <p>Кінцевий deliverable: working prototype + storybook-ready components + deployment demo.</p>
        `
      },

      "research-testing": {
        title: "Research & Testing — повний опис",
        html: `
          <h4>Що вивчаємо</h4>
          <ul>
            <li>Research planning, screener, recruitment strategies</li>
            <li>Moderated interviews, unmoderated tests, diary studies</li>
            <li>Synthesis: affinity mapping, JTBD, insight decks</li>
            <li>Prioritization of findings & action plan</li>
          </ul>

          <h4>Deliverables</h4>
          <p>Research repo (Notion), insight deck для execs, prioritized reaction plan, measurable experiments.</p>

          <h4>Вплив</h4>
          <p>Ability to run repeatable research cycles and convert insights to roadmap items.</p>
        `
      }
    };

    /* ---------- Counters: animate when visible ---------- */
    const countersEl = root.querySelector('.school-counters');
    if(countersEl){
      const countersObserver = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
          if(entry.isIntersecting){
            root.querySelectorAll('.counter-number').forEach(el => {
              const target = +el.dataset.target || 0;
              const duration = 1200;
              let start = null;
              function step(ts){
                if(!start) start = ts;
                const progress = Math.min((ts - start)/duration, 1);
                el.textContent = Math.floor(progress * target);
                if(progress < 1) requestAnimationFrame(step);
                else el.textContent = target;
              }
              requestAnimationFrame(step);
            });
            obs.disconnect();
          }
        });
      }, { threshold: 0.2 });
      countersObserver.observe(countersEl);
    }

    /* ---------- Reveal animation for cards (stagger) ---------- */
    const cards = Array.from(root.querySelectorAll('.course-card'));
    const revealObserver = new IntersectionObserver((entries, obs) => {
      entries.forEach(entry => {
        if(entry.isIntersecting){
          const el = entry.target;
          const idx = cards.indexOf(el);
          el.style.transitionDelay = (idx * 70) + 'ms';
          el.classList.add('in-view');
          obs.unobserve(el);
        }
      });
    }, { threshold: 0.14 });
    cards.forEach(c => revealObserver.observe(c));

    /* ---------- Modal logic (reusable) ---------- */
    const modal = root.querySelector('#school-modal');
    const modalPanel = modal.querySelector('.modal-panel');
    const modalBody = modal.querySelector('#school-modal-body');
    const modalTitle = modal.querySelector('#school-modal-title');
    const modalClose = modal.querySelector('#school-modal-close');
    const modalOverlay = modal.querySelector('.modal-overlay');

    function openModal(key){
      const data = DETAILS[key];
      if(!data) return;
      modalTitle.textContent = data.title;
      modalBody.innerHTML = data.html;
      modal.classList.add('show');
      modal.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
      setTimeout(()=> modalBody.focus(), 120);
      trapFocus(modalPanel);
    }

    function closeModal(){
      modal.classList.remove('show');
      modal.setAttribute('aria-hidden','true');
      document.body.style.overflow = '';
    }

    // attach detail buttons + keyboard on cards (Enter/Space)
    root.querySelectorAll('.btn-detail').forEach(btn => {
      btn.addEventListener('click', () => openModal(btn.dataset.key));
    });
    root.querySelectorAll('.course-card').forEach(card => {
      card.addEventListener('keydown', e => {
        if(e.key === 'Enter' || e.key === ' '){
          e.preventDefault();
          openModal(card.dataset.key);
        }
      });
    });

    // close handlers
    modalClose.addEventListener('click', closeModal);
    modalOverlay.addEventListener('click', closeModal);
    modal.querySelectorAll('[data-close]').forEach(n => n.addEventListener('click', closeModal));
    document.addEventListener('keydown', (e) => {
      if(e.key === 'Escape' && modal.classList.contains('show')) closeModal();
    });

    // focus trap inside modal
    function trapFocus(container){
      const focusable = container.querySelectorAll('a[href], button, textarea, input, [tabindex]:not([tabindex="-1"])');
      if(!focusable.length) return;
      const first = focusable[0], last = focusable[focusable.length-1];
      function handler(e){
        if(e.key !== 'Tab') return;
        if(e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
        else if(!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
      }
      container.addEventListener('keydown', handler);
      container.addEventListener('transitionend', () => {
        if(!modal.classList.contains('show')) container.removeEventListener('keydown', handler);
      }, { once:true });
    }

    /* Progressive fallback: if JS disabled, set counters to target values */
    root.querySelectorAll('.counter-number').forEach(n => {
      if(!n.textContent || n.textContent.trim() === '0') n.textContent = n.dataset.target || '—';
    });

    // ensure no leakage — all listeners scoped above
  })();
</script>


<courses-section></courses-section>


<script>
/* ===== Courses Web Component: self-contained секція ===== */
class CoursesSection extends HTMLElement {
  constructor() {
    super();
    this.attachShadow({ mode: 'open' });
    this.courses = [
      /* 6 курсів: змінюй описи/шляхи картинок на свої */
      {
        id: 'ux-pro',
        type: 'intensive',
        tag: 'Інтенсив',
        title: 'Портфоліо → Працевлаштування',
        short: '6 міс • 10 практичних проєктів • Live + 1:1 ревʼю • direct-hire',
        image: '/assets/courses/course-ux-pro-placeholder.jpg',
        duration: '6 місяців',
        modules: ['UX Research', 'Interaction Design', 'UI Kit', 'Portfolio Case'],
        tools: ['Figma', 'Miro', 'Notion'],
        outcomes: ['10 ready projects', 'CV & interview prep'],
        packages: [{name:'Standard', price:'₴12,000'}, {name:'Pro', price:'₴22,000'}],
        mentors: ['Олена Іванова — Lead Designer']
      },
      {
        id: 'visual-lab',
        type: 'labs',
        tag: 'Лаб',
        title: 'Visual Design Lab',
        short: '8 тижнів • Design systems, micro-interactions, typography',
        image: '/assets/courses/course-visual-lab-placeholder.jpg',
        duration: '8 тижнів',
        modules: ['Typography', 'Components', 'Motion'],
        tools: ['Figma', 'Framer'],
        outcomes: ['UI screens ready for portfolio'],
        packages: [{name:'Bootcamp', price:'₴8,500'}],
        mentors: ['Ірина К. — Senior Visual Designer']
      },
      {
        id: 'product-mastery',
        type: 'intensive',
        tag: 'Інтенсив',
        title: 'Product Design Mastery',
        short: '20 тижнів • Discovery → Delivery • Strategy & metrics',
        image: '/assets/courses/course-product-mastery-placeholder.jpg',
        duration: '20 тижнів',
        modules: ['Discovery', 'Roadmap', 'Metrics-driven design'],
        tools: ['Notion','Amplitude'],
        outcomes: ['End-to-end product cases'],
        packages: [{name:'Advanced', price:'₴45,000'}],
        mentors: ['Олег С. — Head of Product']
      },
      {
        id: 'career-accel',
        type: 'career',
        tag: 'Career',
        title: 'Career Accelerator',
        short: '4–6 тижнів • Mock interviews • CV clinics',
        image: '/assets/courses/course-career-accel-placeholder.jpg',
        duration: '4–6 тижнів',
        modules: ['CV clinic','Mock interviews','Salary negotiation'],
        tools: ['Zoom','Notion'],
        outcomes: ['Prepared hiring funnel, real mocks'],
        packages: [{name:'Career', price:'₴6,900'}],
        mentors: ['Марія Л. — Recruiter']
      },
      {
        id: 'frontend-design',
        type: 'short',
        tag: 'Short',
        title: 'Frontend for Designers',
        short: '8 тижнів • HTML/CSS/JS • design-to-code',
        image: '/assets/courses/course-frontend-placeholder.jpg',
        duration: '8 тижнів',
        modules: ['HTML/CSS','Components','JS interactions'],
        tools: ['VSCode','CodePen'],
        outcomes: ['Dev-friendly prototypes'],
        packages: [{name:'Practical', price:'₴7,500'}],
        mentors: ['Дмитро К. — Frontend Engineer']
      },
      {
        id: 'research-test',
        type: 'intensive',
        tag: 'Інтенсив',
        title: 'Research & Testing',
        short: '12 тижнів • Moderated testing • Synthesis',
        image: '/assets/courses/course-research-placeholder.jpg',
        duration: '12 тижнів',
        modules: ['Qualitative research','Usability testing','Synthesis'],
        tools: ['Dovetail','Miro'],
        outcomes: ['Research reports, insight-driven proposals'],
        packages: [{name:'Research', price:'₴18,000'}],
        mentors: ['Світлана П. — Lead Researcher']
      }
    ];
    this.types = ['all', ...Array.from(new Set(this.courses.map(c=>c.type)))];
    this.render();
  }

  connectedCallback() {
    this.afterRender();
  }

  render() {
    const style = `
    `;
this.shadowRoot.innerHTML = `<style>${style}</style>${template}`;
}
afterRender() {
  if (typeof this.populateGrid === 'function') this.populateGrid(this.courses || []);
  if (typeof this.setupFilters === 'function') this.setupFilters();
  if (typeof this.setupModal === 'function') this.setupModal();
  if (typeof this.setupLazyLoad === 'function') this.setupLazyLoad();
}
}
customElements.define('courses-section', CoursesSection);
</script>

 
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">

<section id="careers" aria-labelledby="careers-title" role="region" style="padding:64px 20px;background:linear-gradient(180deg,#fbfeff,#f8fafc);box-sizing:border-box;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;">
  <div class="cs-wrap" style="max-width:1260px;margin:0 auto;text-align:center;">
    <header style="margin-bottom:28px;">
      <h2 id="careers-title" style="font-weight:900;font-size:34px;margin:0;color:#071226;">Працевлаштування — ролі, зарплати та план підготовки</h2>
      <p style="margin:10px auto 0;max-width:84ch;color:#54656f;font-size:15px;line-height:1.45;">
      
      </p>
    </header>

    <div style="display:flex;justify-content:center;">
      <div id="cs-grid" class="cs-grid" role="list" aria-label="Список ролей" style="display:grid;grid-template-columns:repeat(3, 360px);gap:22px;justify-content:center;align-items:start;">
     
      </div>
    </div>

    <div style="text-align:center;margin-top:28px;">
      <button id="cs-cta" class="cs-btn cs-btn--primary" style="height:48px;padding:0 22px;border-radius:10px;border:none;background:linear-gradient(90deg,#06b6d4,#10b981);color:#fff;font-weight:800;box-shadow:0 22px 70px rgba(6,182,181,0.08);cursor:pointer;">
        Отримати персональний career-plan
      </button>
    </div>
  </div>

 
  <div id="cs-detail-modal" class="cs-modal" role="dialog" aria-modal="true" aria-hidden="true" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:2500;">
    <div class="cs-backdrop" data-close style="position:absolute;inset:0;background:rgba(2,6,23,0.6);backdrop-filter:blur(5px);"></div>
    <div class="cs-panel" role="document" aria-labelledby="cs-detail-title" style="position:relative;background:#fff;border-radius:14px;width:min(96%,1180px);max-height:90vh;overflow:auto;padding:22px;box-shadow:0 60px 180px rgba(2,6,23,0.32);transform:translateY(14px) scale(.992);opacity:0;transition:opacity .32s ease,transform .32s cubic-bezier(.2,.9,.2,1);">
      <button class="cs-close" data-close aria-label="Закрити" style="position:absolute;right:14px;top:12px;border:0;background:transparent;font-size:20px;cursor:pointer;">✕</button>

   
      <div class="cs-hero" style="display:flex;gap:18px;align-items:flex-start;flex-wrap:wrap;">
        <div style="flex:1;min-width:340px;">
          <h3 id="cs-detail-title" style="margin:0;font-size:22px;font-weight:900;color:#071226;">Product Designer</h3>
          <p id="cs-detail-sub" style="margin:8px 0 0;color:#54656f;">Короткий one-liner — роль в 1 рядок.</p>

          <div style="display:flex;gap:12px;align-items:center;margin-top:14px;flex-wrap:wrap;">
            <div id="cs-salary" class="cs-salary" style="padding:10px 14px;border-radius:10px;background:linear-gradient(90deg,#ecfdf5,#f0fdfa);font-weight:900;color:#059669;border:1px solid rgba(6,182,181,0.06);position:relative;">
              $24k — $72k / рік
            </div>
            <label style="display:inline-flex;align-items:center;gap:8px;font-weight:700;color:#64748b;cursor:pointer;">
              <input id="cs-price-toggle" type="checkbox" aria-label="Показати місячну оплату" style="width:18px;height:18px;">
              <span id="cs-toggle-label">Показати місячні</span>
            </label>
          </div>

          <div class="cs-kpis" style="display:flex;gap:10px;flex-wrap:wrap;margin-top:14px;">
            <div class="cs-pill">Remote: <strong id="cs-k-remote">✓</strong></div>
            <div class="cs-pill">Команда: <strong id="cs-k-team">3–10</strong></div>
            <div class="cs-pill">Seniority: <strong id="cs-k-sen">Mid</strong></div>
            <div class="cs-pill">Hire rate: <strong id="cs-k-hire">78%</strong></div>
          </div>
        </div>

        <div style="min-width:260px;display:flex;flex-direction:column;gap:12px;align-items:flex-end;">
          <button class="cs-btn cs-btn--primary cs-open-signup" data-role="" style="height:46px;padding:0 18px;border-radius:10px;border:none;background:linear-gradient(90deg,#06b6d4,#10b981);color:#fff;font-weight:800;cursor:pointer;">Записатися</button>
          <div style="color:#94a3b8;font-size:13px;">Партнери: <span style="font-weight:800;color:#071226;">Компанія A • Компанія B</span></div>
        </div>
      </div>

      <!-- Tabs -->
      <nav class="cs-tabs" role="tablist" aria-label="Вкладки" style="display:flex;gap:10px;border-bottom:1px solid #eef2f6;padding-top:18px;margin-top:18px;flex-wrap:wrap;">
        <button role="tab" aria-selected="true" data-tab="overview" class="cs-tab active">Огляд</button>
        <button role="tab" aria-selected="false" data-tab="plan" class="cs-tab">План (Week-by-week)</button>
        <button role="tab" aria-selected="false" data-tab="assign" class="cs-tab">Завдання</button>
        <button role="tab" aria-selected="false" data-tab="interview" class="cs-tab">Інтерв'ю</button>
        <button role="tab" aria-selected="false" data-tab="files" class="cs-tab">Матеріали</button>
      </nav>

      <!-- Panels -->
      <div class="cs-panels" style="margin-top:16px;text-align:left;">
        <section id="cs-panel-overview" class="cs-panel" role="tabpanel" aria-hidden="false">
          <h4>Що робить на щодень</h4>
          <ul id="cs-resp"></ul>

          <h4 style="margin-top:12px;">Кого шукають — вимоги</h4>
          <ul id="cs-reqs"></ul>

          <h4 style="margin-top:12px;">Інструменти / Stack</h4>
          <div id="cs-tools" style="display:flex;gap:8px;flex-wrap:wrap;"></div>

          <h4 style="margin-top:12px;">Deliverables / Приклади</h4>
          <ul id="cs-deliv"></ul>
        </section>

        <section id="cs-panel-plan" class="cs-panel" role="tabpanel" aria-hidden="true" style="display:none;">
          <h4>Week-by-week план (детально)</h4>
          <div id="cs-plan-list"></div>
          <p style="color:#94a3b8;margin-top:6px;">Кожний блок — Est. time та Difficulty.</p>
        </section>

        <section id="cs-panel-assign" class="cs-panel" role="tabpanel" aria-hidden="true" style="display:none;">
          <h4>Приклади домашніх завдань</h4>
          <div id="cs-assign-list"></div>
        </section>

        <section id="cs-panel-interview" class="cs-panel" role="tabpanel" aria-hidden="true" style="display:none;">
          <h4>Interview kit & Tips</h4>
          <div id="cs-interview"></div>
        </section>

        <section id="cs-panel-files" class="cs-panel" role="tabpanel" aria-hidden="true" style="display:none;">
          <h4>Матеріали (приклади)</h4>
          <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center;">
            <button id="cs-sample-btn" class="cs-btn cs-btn--outline" style="height:40px;border-radius:10px;border:1px solid rgba(3,10,18,0.06);background:#fff;cursor:pointer;">Відкрити приклад завдання</button>
            <button id="cs-video-btn" class="cs-btn cs-btn--outline" style="height:40px;border-radius:10px;border:1px solid rgba(3,10,18,0.06);background:#fff;cursor:pointer;">Переглянути відео</button>
            <div style="margin-left:auto;display:flex;gap:8px;">
              <div class="cs-pill">Компанія A</div>
              <div class="cs-pill">Компанія B</div>
            </div>
          </div>
          <div id="cs-lazy" style="margin-top:12px;color:#64748b;"></div>
        </section>
      </div>

      <!-- Footer -->
      <footer style="display:flex;justify-content:space-between;align-items:center;gap:12px;margin-top:18px;flex-wrap:wrap;">
        <div style="display:flex;gap:12px;align-items:center;color:#64748b;font-weight:700;">
          <div class="cs-pill">Hire rate: <strong id="cs-out-hire">78%</strong></div>
          <div class="cs-pill">Avg time to offer: <strong id="cs-out-time">6 тиж</strong></div>
          <div class="cs-pill">Salary uplift: <strong id="cs-out-uplift">+24%</strong></div>
        </div>
        <div style="display:flex;gap:8px;">
          <button class="cs-btn cs-open-signup" data-role="" style="height:46px;padding:0 18px;border-radius:10px;border:none;background:linear-gradient(90deg,#06b6d4,#10b981);color:#fff;font-weight:800;cursor:pointer;">Записатися</button>
        </div>
      </footer>
    </div>
  </div>

  <!-- SIGNUP MODAL -->
  <div id="cs-signup-modal" class="cs-modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="cs-signup-title" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:2600;">
    <div class="cs-backdrop" data-close style="position:absolute;inset:0;background:rgba(2,6,23,0.6);backdrop-filter:blur(4px);"></div>
    <div class="cs-panel" role="document" style="position:relative;background:#fff;border-radius:12px;width:min(96%,720px);max-height:86vh;overflow:auto;padding:20px;box-shadow:0 40px 120px rgba(2,6,23,0.2);">
      <button class="cs-close" data-close aria-label="Закрити" style="position:absolute;right:10px;top:10px;border:0;background:transparent;font-size:18px;cursor:pointer;">✕</button>
      <h3 id="cs-signup-title" style="margin:0 0 6px;font-size:20px;font-weight:900;">Записатися — коротка форма</h3>
      <p style="margin:0 0 12px;color:#64748b;">Мінімальні поля для швидкого запису. Після відправки — доступ до матеріалів та можливість обрати timeslot.</p>

      <form id="cs-signup-form" style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:12px;" novalidate>
        <label style="grid-column:1 / 3;">
          <div style="font-weight:800;font-size:13px;margin-bottom:6px;">ПІБ (обов'язково)</div>
          <input name="name" type="text" required placeholder="Ім'я Прізвище" style="width:100%;padding:10px;border-radius:10px;border:1px solid #e6eef2;font-size:15px;">
        </label>

        <label>
          <div style="font-weight:800;font-size:13px;margin-bottom:6px;">Email (обов'язково)</div>
          <input name="email" type="email" required placeholder="name@example.com" style="width:100%;padding:10px;border-radius:10px;border:1px solid #e6eef2;font-size:15px;">
        </label>

        <label>
          <div style="font-weight:800;font-size:13px;margin-bottom:6px;">Телефон (опц.)</div>
          <input name="phone" type="tel" placeholder="+380..." style="width:100%;padding:10px;border-radius:10px;border:1px solid #e6eef2;font-size:15px;">
        </label>

        <label style="grid-column:1 / 3;">
          <div style="font-weight:800;font-size:13px;margin-bottom:6px;">Вибрана програма</div>
          <select name="role" id="cs-signup-role" style="width:100%;padding:10px;border-radius:10px;border:1px solid #e6eef2;font-size:15px;">
            <!-- options injected by JS -->
          </select>
        </label>

        <fieldset style="grid-column:1 / 3;padding:10px;border-radius:10px;border:1px dashed rgba(3,10,18,0.04);">
          <legend style="font-weight:900;padding:0 6px;">План оплати</legend>
          <label style="margin-right:12px;"><input type="radio" name="plan" value="annual" checked> Річна оплата</label>
          <label><input type="radio" name="plan" value="monthly"> Місячна / розстрочка</label>
          <div id="cs-installments" style="margin-top:8px;color:#64748b;font-size:13px;"></div>
        </fieldset>

        <label style="grid-column:1 / 3;">
          <div style="display:flex;gap:8px;align-items:center;">
            <input name="consent" type="checkbox" required>
            <div style="font-size:13px;color:#64748b;">Згоден на обробку персональних даних та отримання інфо-повідомлень</div>
          </div>
        </label>

        <div style="grid-column:1 / 3;display:flex;gap:10px;align-items:center;margin-top:6px;">
          <button type="submit" style="height:44px;padding:0 18px;border-radius:10px;border:none;background:linear-gradient(90deg,#06b6d4,#10b981);color:#fff;font-weight:800;cursor:pointer;">Надіслати заявку</button>
          <button type="button" data-close style="height:44px;padding:0 18px;border-radius:10px;border:1px solid rgba(3,10,18,0.06);background:#fff;font-weight:800;cursor:pointer;">Скасувати</button>
        </div>

        <div id="cs-signup-success" style="grid-column:1 / 3;display:none;padding:12px;border-radius:10px;background:linear-gradient(90deg,#ecfdf5,#f0fdfa);color:#064e3b;font-weight:800;margin-top:8px;">
          Дякуємо! Ваша заявка отримана. Ми надішлемо програму на Email та лінк для запису на дзвінок.
        </div>
      </form>
    </div>
  </div>

  <!-- ================= Styles & Animations (equalized cards & buttons) ================= -->
  <style>
    /* Localized box-sizing so it doesn't leak globally */
    #careers-section * { box-sizing: border-box; }

    :root{--accent1:#06b6d4;--accent2:#10b981;--muted:#64748b;--text:#071226;}
    .cs-grid { align-items:stretch; grid-auto-rows: 1fr; }

    /* cards */
    .cs-grid .card{background:#fff;border-radius:12px;box-shadow:0 18px 48px rgba(3,10,18,0.06);overflow:hidden;display:flex;flex-direction:column;transition:transform .36s cubic-bezier(.2,.9,.2,1),box-shadow .32s,filter .28s;transform:translateY(20px);opacity:0;}
    .cs-grid .card:focus{outline:3px solid rgba(6,182,181,0.12);outline-offset:4px;}
    .cs-grid .card:hover{transform:translateY(-12px) rotateZ(.01deg) scale(1.006);box-shadow:0 48px 140px rgba(3,10,18,0.14);}

    .cs-card-media{height:140px;background:linear-gradient(90deg,#f0fcff,#f8fbff);display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;}
    .cs-card-media img{width:100%;height:100%;object-fit:cover;display:block;}
    .cs-card-body{padding:18px;display:flex;flex-direction:column;gap:10px;flex:1;min-height:0;}
    .cs-badge{display:inline-block;padding:6px 10px;border-radius:999px;background:linear-gradient(90deg,#ecfdf5,#f0fdfa);font-weight:800;font-size:12px;color:#064e3b;border:1px solid rgba(6,182,181,0.06);letter-spacing:0.2px;}
    .cs-role{font-size:17px;font-weight:900;margin-top:6px;color:var(--text);}
    .cs-annual{font-size:20px;font-weight:900;color:#059669;text-align:right;}
    .cs-monthly{font-size:12px;color:var(--muted);text-align:right;margin-top:4px;}
    .cs-one{color:#123243;margin:6px 0 0;}
    .cs-tools{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px;}
    .cs-tool{padding:6px 8px;border-radius:8px;background:#f8fafc;border:1px solid rgba(3,10,18,0.04);font-weight:800;font-size:13px;color:#123243;}
    .cs-actions{display:flex;gap:12px;align-items:center;margin-top:auto;justify-content:flex-start;padding-top:8px;}

    /* equal button sizing: JS enforces exact width; fallback single-width in CSS */
    .cs-actions .cs-btn{height:44px;border-radius:10px;display:inline-flex;align-items:center;justify-content:center;font-weight:800;cursor:pointer;padding:0 16px;min-width:140px;white-space:nowrap;}
    .cs-btn--outline{background:#fff;border:1px solid rgba(3,10,18,0.06);color:var(--text);}
    .cs-btn--primary{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#fff;box-shadow:0 14px 40px rgba(6,182,181,0.06);border:0;}

    .cs-pill{padding:8px 12px;border-radius:10px;background:#fff;border:1px solid rgba(3,10,18,0.04);font-weight:800;color:var(--muted);font-size:13px;}

    /* tabs */
    .cs-tabs .cs-tab{background:transparent;border:0;padding:8px 12px;font-weight:800;color:var(--muted);cursor:pointer;border-bottom:3px solid transparent;transition:color .18s,border-color .18s;}
    .cs-tabs .cs-tab.active{color:var(--accent1);border-bottom-color:var(--accent1);}

    /* reveal */
    .cs-reveal{opacity:0;transform:translateY(18px) scale(.997);transition:opacity .55s ease, transform .55s cubic-bezier(.2,.9,.2,1);}
    .cs-reveal.in{opacity:1;transform:none;}

    /* micro interactions */
    .cs-badge,.cs-pill,.cs-tool{transition:transform .26s ease,box-shadow .22s;}
    .cs-badge:hover,.cs-pill:hover,.cs-tool:hover{transform:translateY(-4px);box-shadow:0 18px 48px rgba(3,10,18,0.06);}

    /* modal animation */
    .cs-modal[aria-hidden="false"] .cs-panel { animation:cs-modal-in .36s cubic-bezier(.2,.9,.2,1) both; }
    @keyframes cs-modal-in { from { opacity:0; transform: translateY(18px) scale(.99);} to { opacity:1; transform:none;} }

    /* shimmer (salary) */
    .cs-salary::before { content:'';position:absolute;inset:0;background:linear-gradient(90deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02), rgba(255,255,255,0.08));transform:translateX(-120%);animation:shimmer 6s linear infinite;opacity:.7;border-radius:10px;pointer-events:none; }
    @keyframes shimmer { 0%{transform:translateX(-120%)} 100%{transform:translateX(120%)} }

    /* responsive */
    @media (max-width:1160px){ #careers-section .cs-grid{grid-template-columns:repeat(2,1fr);} }
    @media (max-width:780px){ #careers-section .cs-grid{grid-template-columns:1fr;padding:0 12px;} .cs-hero{flex-direction:column;} .cs-actions{justify-content:space-between;} .cs-actions .cs-btn{min-width:calc(50% - 8px);} .cs-grid .card{height:auto!important;} }
  </style>

  <!-- ================= JS: DATA + RENDER + EQUALIZER + INTERACTIONS ================= -->
  <script>
    (function(){
      // prevent double init
      if(window.__cs_inited) return;
      window.__cs_inited = true;

      // Wait for DOM ready to be extra safe
      document.addEventListener('DOMContentLoaded', () => {
        try {
          /* ---------- DATA ---------- */
          const DATA = [
            { id:'product-designer', title:'Product Designer', seniority:'Junior → Mid → Senior', remote:true, team:'3–10', salary:{min:24000,max:72000}, one:'Discovery → прототипування → A/B — фокус на product metrics.', bullets:['Discovery та framing','Lo→Hi прототипи','A/B експерименти, аналіз метрик'], requirements:['Портфоліо 2+ end-to-end кейси','Figma, базова аналітика (GA/PostHog)'], tools:['Figma','Miro','PostHog'], responsibilities:['Формулювання проблеми та гіпотез','Дослідження користувачів та синтез','Прототипування і валідація','Постановка A/B експериментів'], deliverables:['Research brief','Interactive prototype','Experiment plan','Case-study'], planWeeks:[{w:'1–2',desc:'Discovery: stakeholder interviews, user interviews (8–12), analytics audit', est:'20–30 год'},{w:'3–5',desc:'Ideation: flows, lo→hi prototypes, internal reviews', est:'40–60 год'},{w:'6–8',desc:'Usability testing, synthesis, iterate', est:'16–24 год'},{w:'9–12',desc:'A/B setup, monitor, polish case study', est:'20–30 год'}], assignments:[{t:'Discovery + Prototype', desc:'8 інтервʼю + lo→hi прототип', accept:'notes + prototype + hypothesis', est:'20–30 год'},{t:'A/B Plan', desc:'Проєкт експерименту з метриками', accept:'experiment brief', est:'10–18 год'}], interview:{prep:['2 кейси з impact','5-min walkthrough'], q:['Опишіть кейс, де рішення підвищило конверсію','Як ви пріоритизуєте?'], tip:'Фокус на гіпотезі→методі→результаті; числа важливі.'}, outcomes:{hireRate:78, avgTimeWeeks:6, uplift:24} },
            { id:'ux-researcher', title:'UX Researcher', seniority:'Junior → Mid → Senior', remote:true, team:'2–8', salary:{min:26000,max:80000}, one:'Планування та виконання досліджень; синтез інсайтів для продукту.', bullets:['Research planning','Moderated/unmoderated testing','Synthesis & insights'], requirements:['Методологія досліджень','Репозиторій (Dovetail)'], tools:['Dovetail','Lookback','Miro'], responsibilities:['Підготовка screener','Інтервʼю та тести','Синтез інсайтів','Insight deck'], deliverables:['Recruitment screener','Insight deck','Research repo'], planWeeks:[{w:'1–2',desc:'Goal alignment, screener, recruitment', est:'12–20 год'},{w:'3–5',desc:'Conduct interviews, capture data', est:'20–30 год'},{w:'6–8',desc:'Synthesis, prepare insight deck', est:'12–20 год'}], assignments:[{t:'Research Plan', desc:'Screener, guide, sample transcripts', accept:'Plan + 4 transcripts', est:'12–20 год'}], interview:{prep:['End-to-end research case'], q:['Як синтезуєте сотні нотаток?'], tip:'Показуйте процес та вплив.'}, outcomes:{hireRate:65, avgTimeWeeks:7, uplift:22} },
            { id:'ui-designer', title:'UI / Visual Designer', seniority:'Junior → Mid', remote:true, team:'2–6', salary:{min:20000,max:55000}, one:'Design systems, typography, motion, componentization.', bullets:['Design systems & tokens','Motion specs','Hi-fi screens'], requirements:['Strong visual portfolio','Tokens & components experience'], tools:['Figma','After Effects','Storybook'], responsibilities:['Audit UI, define tokens','Build components & motion','QA with devs'], deliverables:['Design system primitives','Hi-fi screens','Storybook examples'], planWeeks:[{w:'1–2',desc:'Audit UI & tokens', est:'10–18 год'},{w:'3–6',desc:'Build components & motion specs', est:'40–60 год'},{w:'7–8',desc:'QA & adoption', est:'12–20 год'}], assignments:[{t:'Design System Starter', desc:'8 component states + token map', accept:'Figma file + token JSON', est:'18–30 год'}], interview:{prep:['Visual case & motion demos'], q:['Як ви забезпечуєте consistency?'], tip:'Показуйте adoption stories.'}, outcomes:{hireRate:60, avgTimeWeeks:8, uplift:18} },
            { id:'frontend-designer', title:'Frontend (для дизайнерів)', seniority:'Practical / Prototype', remote:true, team:'1–5', salary:{min:18000,max:50000}, one:'HTML/CSS/JS прототипи, storybook components, accessibility.', bullets:['Semantic HTML & CSS','Component-driven prototyping','Accessibility basics'], requirements:['HTML/CSS, basic JS','Component mindset, accessibility'], tools:['VSCode','Storybook','CodePen'], responsibilities:['Build accessible components','Integrate tokens into CSS','Small POCs & deploys'], deliverables:['3 reusable components','Interactive POC','Storybook docs'], planWeeks:[{w:'1–2',desc:'HTML/CSS fundamentals, responsive', est:'12–18 год'},{w:'3–6',desc:'Build components, storybook integration', est:'40–60 год'},{w:'7–8',desc:'Interactions, POC, deployment', est:'12–20 год'}], assignments:[{t:'Component Pack', desc:'3 accessible components + docs', accept:'Storybook + live demo', est:'18–30 год'}], interview:{prep:['Live prototype links'], q:['Поясніть trade-offs при виборі технологій'], tip:'Покажіть live demos.'}, outcomes:{hireRate:55, avgTimeWeeks:7, uplift:16} },
            { id:'ux-writer', title:'UX Writer & Content', seniority:'Microcopy, flows, onboarding', remote:true, team:'1–4', salary:{min:16000,max:45000}, one:'Мікрокопі, tone & voice, контент-патерни для продуктів.', bullets:['Microcopy & UX writing','A/B copy tests','Content guidelines'], requirements:['Copy basics','Localization awareness'], tools:['Figma','Notion','Contentful'], responsibilities:['Audit microcopy','Write tests & measure','Define tone & patterns'], deliverables:['Content guidelines','A/B copy tests','Onboarding flows'], planWeeks:[{w:'1–2',desc:'Audit & hypothesis creation', est:'8–12 год'},{w:'3–4',desc:'A/B tests & tracking', est:'12–20 год'},{w:'5–6',desc:'Finalize patterns & handbook', est:'8–12 год'}], assignments:[{t:'Microcopy Improvement', desc:'Rewrite onboarding flow + A/B plan', accept:'Before/After + metrics plan', est:'10–18 год'}], interview:{prep:['Before/after copy cases'], q:['Поясніть copy decision for edge case'], tip:'Показуйте hypotheses & metrics.'}, outcomes:{hireRate:50, avgTimeWeeks:6, uplift:12} },
            { id:'design-system', title:'Design System Engineer / Lead', seniority:'Mid → Lead', remote:true, team:'5–20', salary:{min:30000,max:95000}, one:'Design tokens, component libraries, cross-team adoption, pipelines.', bullets:['Tokens & architecture','Storybook + CI','Migration & adoption'], requirements:['System thinking','Dev handoff & tokenization'], tools:['Figma','Storybook','Bit','Zeroheight'], responsibilities:['Token map & architecture','Build component library','Adoption workshops'], deliverables:['Token map','Component library','Migration plan & docs'], planWeeks:[{w:'1–2',desc:'Audit & token definition', est:'12–20 год'},{w:'3–8',desc:'Build components, tests, dev integration', est:'60–100 год'},{w:'9–12',desc:'Docs, workshops, migration support', est:'20–40 год'}], assignments:[{t:'System Starter', desc:'Token map + 10 components + migration notes', accept:'Token JSON + storybook', est:'40–80 год'}], interview:{prep:['Migration case & adoption metrics'], q:['Як ви міряєте adoption?'], tip:'Bring measurable outcomes.'}, outcomes:{hireRate:70, avgTimeWeeks:10, uplift:30} }
          ];

          /* ---------- IMAGE MAP (using your files in img/) ---------- */
          const IMG_MAP = {
            'product-designer': 'img/bb1.png',   // Product Designer -> bb1.png
            'ux-researcher': 'img/bb2.png',     // UX Researcher -> bb2.png
            'ui-designer': 'img/bb3.png',       // UI / Visual Designer -> bb3.png
            'frontend-designer': 'img/bb4.png', // Frontend -> bb4.png
            'ux-writer': 'img/bb5.png',         // UX Writer -> bb5.png
            'design-system': 'img/bb6.png'      // Design System Engineer -> bb6.png
          };

          /* ---------- UTILITIES ---------- */
          const moneyAnnual = (min,max) => '$' + Math.round(min/1000) + 'k — $' + Math.round(max/1000) + 'k / рік';
          const moneyMonthly = (min,max) => {
            const minM = Math.round(min/12);
            const maxM = Math.round(max/12);
            return '$' + minM.toLocaleString() + ' — $' + maxM.toLocaleString() + ' / міс';
          };

          /* ---------- RENDER CARDS ---------- */
          const grid = document.getElementById('cs-grid');
          if(!grid) return;
          DATA.forEach(role => {
            const card = document.createElement('article');
            card.className = 'card cs-reveal';
            card.setAttribute('role','listitem');
            card.setAttribute('tabindex','0');
            card.dataset.role = role.id;

            // pick image from map (falls back to svg text if missing)
            const imgSrc = IMG_MAP[role.id] || '';

            card.innerHTML = `
              <div class="cs-card-media" aria-hidden="true">
                ${ imgSrc ? `<img src="${imgSrc}" alt="${escapeHtml(role.title)} preview" loading="lazy">`
                         : `<svg width="100%" height="100%" viewBox="0 0 800 140" preserveAspectRatio="xMidYMid slice" xmlns="http://www.w3.org/2000/svg">
                              <rect width="100%" height="100%" fill="#f7fdff"></rect>
                              <text x="50%" y="45%" dominant-baseline="middle" text-anchor="middle" font-family="Inter, Arial" font-size="18" fill="#06323a">${escapeHtml(role.title)}</text>
                              <text x="50%" y="75%" dominant-baseline="middle" text-anchor="middle" font-family="Inter, Arial" font-size="12" fill="#64748b">${escapeHtml(role.seniority)}</text>
                            </svg>` }
              </div>
              <div class="cs-card-body">
                <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:12px;">
                  <div style="text-align:left;">
                    <div style="display:flex;gap:8px;align-items:center;">
                      <span class="cs-badge">${role.remote ? 'remote-friendly' : 'on-site'}</span>
                      <div style="font-size:13px;color:var(--muted);">${escapeHtml(role.seniority)}</div>
                    </div>
                    <div class="cs-role">${escapeHtml(role.title)}</div>
                    <div style="font-size:13px;color:var(--muted);margin-top:4px">${escapeHtml(role.team)} • ${escapeHtml(role.one.split(' ')[0])}</div>
                  </div>
                  <div style="text-align:right;">
                    <div class="cs-annual">${moneyAnnual(role.salary.min,role.salary.max)}</div>
                    <div class="cs-monthly">${moneyMonthly(role.salary.min,role.salary.max)}</div>
                  </div>
                </div>

                <p class="cs-one">${escapeHtml(role.one)}</p>

                <ul style="margin:6px 0 0 18px;color:#123243;">
                  <li>${escapeHtml(role.bullets[0])}</li>
                  <li>${escapeHtml(role.bullets[1])}</li>
                </ul>

                <div style="font-size:13px;color:var(--muted);margin-top:8px;">Вимоги: ${escapeHtml(role.requirements.join('; '))}</div>

                <div class="cs-tools" aria-hidden="true" style="margin-top:10px;">
                  ${role.tools.map(t=>`<span class="cs-tool">${escapeHtml(t)}</span>`).join('')}
                </div>

                <div class="cs-actions" aria-hidden="true">
                  <button class="cs-btn cs-btn--primary js-open-detail" data-role="${role.id}">Детальніше</button>
                  <button class="cs-btn cs-btn--outline js-open-signup" data-role="${role.id}">Записатися</button>
                </div>
              </div>
            `;
            grid.appendChild(card);
          });

          /* ---------- STAGGER REVEAL ---------- */
          const revealNodes = Array.from(document.querySelectorAll('.cs-reveal'));
          const io = new IntersectionObserver((entries, obs) => {
            entries.forEach(entry => {
              if(entry.isIntersecting){
                entry.target.classList.add('in');
                entry.target.style.transitionDelay = (revealNodes.indexOf(entry.target) * 60) + 'ms';
                obs.unobserve(entry.target);
              }
            });
          }, {threshold:0.12});
          revealNodes.forEach(n => io.observe(n));

          /* ---------- STITCH: ensure images are considered for equalize after load ---------- */
          const imgs = Array.from(document.querySelectorAll('#cs-grid img'));
          imgs.forEach(img => img.addEventListener('load', () => { debouncedEqualize(); }));

          /* ---------- POPULATE SIGNUP SELECT ---------- */
          const signupRoleSelect = document.getElementById('cs-signup-role');
          if(signupRoleSelect){
            DATA.forEach(r => { const opt = document.createElement('option'); opt.value = r.id; opt.textContent = r.title; signupRoleSelect.appendChild(opt); });
          }

          /* ---------- INTERACTIONS / MODALS ---------- */
          const detailModal = document.getElementById('cs-detail-modal');
          const signupModal = document.getElementById('cs-signup-modal');
          let currentDetailRole = null; // store actively viewed role id

          function openDetail(roleId){
            const r = DATA.find(x=>x.id===roleId); if(!r) return;
            currentDetailRole = r.id;
            // set header info
            document.getElementById('cs-detail-title').textContent = r.title;
            document.getElementById('cs-detail-sub').textContent = r.one;
            document.getElementById('cs-salary').textContent = moneyAnnual(r.salary.min,r.salary.max);
            document.getElementById('cs-k-remote').textContent = r.remote ? '✓' : '—';
            document.getElementById('cs-k-team').textContent = r.team;
            document.getElementById('cs-k-sen').textContent = r.seniority;
            document.getElementById('cs-k-hire').textContent = (r.outcomes && r.outcomes.hireRate) ? r.outcomes.hireRate + '%' : '—';

            // responsibilities
            const resp = document.getElementById('cs-resp'); resp.innerHTML=''; (r.responsibilities||[]).forEach(it=>{ const li=document.createElement('li'); li.textContent=it; resp.appendChild(li); });

            // requirements
            const reqs = document.getElementById('cs-reqs'); reqs.innerHTML=''; (r.requirements||[]).forEach(it=>{ const li=document.createElement('li'); li.textContent=it; reqs.appendChild(li); });

            // tools
            const tools = document.getElementById('cs-tools'); tools.innerHTML=''; (r.tools||[]).forEach(t=>{ const el=document.createElement('div'); el.className='cs-tool'; el.textContent=t; tools.appendChild(el); });

            // deliverables
            const del = document.getElementById('cs-deliv'); del.innerHTML=''; (r.deliverables||[]).forEach(d=>{ const li=document.createElement('li'); li.textContent=d; del.appendChild(li); });

            // plan
            const pl = document.getElementById('cs-plan-list'); pl.innerHTML=''; (r.planWeeks||[]).forEach(b=>{ const block=document.createElement('div'); block.style.padding='12px'; block.style.borderRadius='10px'; block.style.border='1px solid rgba(3,10,18,0.04)'; block.style.background='#fff'; block.style.marginBottom='10px'; block.innerHTML=`<strong>${escapeHtml(b.w)}</strong> — ${escapeHtml(b.desc)}<div style="font-size:13px;color:var(--muted);margin-top:8px;">Est: ${escapeHtml(b.est)} • Difficulty: Medium</div>`; pl.appendChild(block); });

            // assignments
            const al = document.getElementById('cs-assign-list'); al.innerHTML=''; (r.assignments||[]).forEach(a=>{ const article=document.createElement('article'); article.style.padding='12px'; article.style.borderLeft='4px solid rgba(6,182,181,0.06)'; article.style.marginBottom='10px'; article.style.borderRadius='8px'; article.style.background='#fff'; article.innerHTML=`<h4 style="margin:0 0 6px;">${escapeHtml(a.t)}</h4><p style="margin:0 0 6px;color:#123243;">${escapeHtml(a.desc)}</p><div style="font-size:13px;color:var(--muted);">Acceptance: ${escapeHtml(a.accept)} • Est: ${escapeHtml(a.est)}</div>`; al.appendChild(article); });

            // interview
            const iv = document.getElementById('cs-interview'); iv.innerHTML = `<p style="margin:0 0 8px;"><strong>Підготовка:</strong> ${escapeHtml((r.interview.prep||[]).join('; '))}</p><p style="margin:0 0 8px;"><strong>Типові питання:</strong></p><ul style="margin-left:18px;">${(r.interview.q||[]).map(q=>`<li>${escapeHtml(q)}</li>`).join('')}</ul><p style="margin-top:8px;color:var(--muted);"><strong>Порада:</strong> ${escapeHtml(r.interview.tip||'')}</p>`;

            // outcomes summary
            if(r.outcomes){
              document.getElementById('cs-out-hire').textContent = (r.outcomes.hireRate||'—') + '%';
              document.getElementById('cs-out-time').textContent = (r.outcomes.avgTimeWeeks||'—') + ' тиж';
              document.getElementById('cs-out-uplift').textContent = '+' + (r.outcomes.uplift||0) + '%';
            }

            // set role attribute on signup buttons inside modal
            document.querySelectorAll('.cs-open-signup').forEach(btn=>btn.dataset.role = r.id);

            // show modal
            openModal(detailModal);
            pushEvent('detail_open',{role:r.id});
          }

          // open modal helper
          function openModal(modal){
            if(!modal) return;
            modal.setAttribute('aria-hidden','false');
            modal.style.display = 'flex';
            const panel = modal.querySelector('.cs-panel');
            if(panel){
              panel.style.opacity = '0';
              panel.style.transform = 'translateY(12px) scale(.995)';
              requestAnimationFrame(()=>{ panel.style.opacity = '1'; panel.style.transform = 'none'; });
              trapFocus(panel);
            }
          }

          // close helper
          function closeAll(){
            document.querySelectorAll('.cs-modal').forEach(m => {
              m.setAttribute('aria-hidden','true');
              m.style.display = 'none';
            });
            // cleanup lazy iframe area
            const lazy = document.getElementById('cs-lazy'); if(lazy) lazy.innerHTML = '';
            currentDetailRole = null;
          }

          /* ---------- price toggle ---------- */
          const priceToggle = document.getElementById('cs-price-toggle');
          if(priceToggle){
            priceToggle.addEventListener('change', (e) => {
              const monthly = e.target.checked;
              document.getElementById('cs-toggle-label').textContent = monthly ? 'Показати річні' : 'Показати місячні';
              const r = DATA.find(x => x.id === currentDetailRole) || DATA[0];
              document.getElementById('cs-salary').textContent = monthly ? moneyMonthly(r.salary.min,r.salary.max) : moneyAnnual(r.salary.min,r.salary.max);
              pushEvent('price_toggle',{role:r.id,monthly:monthly});
            });
          }

          /* ---------- Tabs ---------- */
          document.querySelectorAll('.cs-tab').forEach(tab => {
            tab.addEventListener('click', () => {
              document.querySelectorAll('.cs-tab').forEach(t=> t.classList.remove('active'));
              tab.classList.add('active');
              const sel = tab.dataset.tab;
              const panels = {
                overview: 'cs-panel-overview',
                plan: 'cs-panel-plan',
                assign: 'cs-panel-assign',
                interview: 'cs-panel-interview',
                files: 'cs-panel-files'
              };
              Object.values(panels).forEach(id => document.getElementById(id).style.display = 'none');
              document.getElementById(panels[sel]).style.display = '';
            });
          });

          /* ---------- Open / Close bindings ---------- */
          document.querySelectorAll('.js-open-detail').forEach(btn => btn.addEventListener('click', e => openDetail(e.currentTarget.dataset.role)));
          document.querySelectorAll('.js-open-signup, .cs-open-signup').forEach(btn => btn.addEventListener('click', e => openSignup(e.currentTarget.dataset.role || DATA[0].id)));
          const cta = document.getElementById('cs-cta');
          if(cta) cta.addEventListener('click', ()=> { openSignup(DATA[0].id); pushEvent('cta_click',{id:'footer_personal_plan'}); });

          document.querySelectorAll('[data-close]').forEach(n => n.addEventListener('click', ()=> closeAll()));
          document.querySelectorAll('.cs-backdrop').forEach(b => b.addEventListener('click', ()=> closeAll()));
          document.addEventListener('keydown', (e) => { if(e.key === 'Escape') closeAll(); });

          /* ---------- Signup modal ---------- */
          function openSignup(roleId){
            const sel = document.getElementById('cs-signup-role');
            if(sel) sel.value = roleId;
            openModal(signupModal);
            updateInstallments();
            pushEvent('signup_open',{role:roleId});
          }

          document.querySelectorAll('#cs-signup-form input[name="plan"]').forEach(r => r.addEventListener('change', updateInstallments));
          function updateInstallments(){
            const roleId = document.getElementById('cs-signup-role')?.value || DATA[0].id;
            const r = DATA.find(x=>x.id===roleId) || DATA[0];
            const plan = document.querySelector('#cs-signup-form input[name="plan"]:checked')?.value || 'annual';
            const el = document.getElementById('cs-installments');
            if(!el) return;
            if(plan === 'annual'){ el.textContent = `Річна оплата: ${moneyAnnual(r.salary.min,r.salary.max)} (орієнтовно, залежить від регіону та курсу).`; }
            else { const months = 6; const avg = Math.round((r.salary.min + r.salary.max)/2); const per = Math.round(avg / months); el.textContent = `Розстрочка: ${months} × $${per.toLocaleString()} ≈ $${(per*months).toLocaleString()} загалом.`; }
          }

          const signupForm = document.getElementById('cs-signup-form');
          if(signupForm){
            signupForm.addEventListener('submit', function(e){
              e.preventDefault();
              const form = e.currentTarget;
              const name = form.querySelector('input[name="name"]');
              const email = form.querySelector('input[name="email"]');
              const consent = form.querySelector('input[name="consent"]');
              if(!name.value.trim()){ alert('Вкажіть ПІБ'); name.focus(); return; }
              if(!email.value.trim() || !/^\S+@\S+\.\S+$/.test(email.value)){ alert('Вкажіть дійсний Email'); email.focus(); return; }
              if(!consent.checked){ alert('Потрібна згода на обробку даних'); consent.focus(); return; }
              const submitBtn = form.querySelector('button[type="submit"]');
              submitBtn.disabled = true; submitBtn.textContent = 'Надсилаємо...';
              setTimeout(()=>{ submitBtn.disabled=false; submitBtn.textContent='Надіслати заявку'; form.style.display='none'; const success = document.getElementById('cs-signup-success'); if(success) success.style.display='block'; pushEvent('signup_submit',{name:name.value.trim(),email:email.value.trim(),role:form.querySelector('select[name="role"]').value,plan:form.querySelector('input[name="plan"]:checked').value}); }, 900);
            });
          }

          /* ---------- Lazy content handlers ---------- */
          const sampleBtn = document.getElementById('cs-sample-btn');
          const videoBtn = document.getElementById('cs-video-btn');
          if(sampleBtn) sampleBtn.addEventListener('click', function(){ const lazy = document.getElementById('cs-lazy'); if(lazy) lazy.innerHTML = `<iframe title="sample-task" style="width:100%;height:360px;border:1px solid #e6eef2;border-radius:10px" srcdoc="<div style='font-family:Inter, Arial;padding:18px;line-height:1.45'><h3>Приклад завдання</h3><p>Завдання: скласти research plan та простий прототип. Acceptance: research brief + prototype.</p></div>"></iframe>`; pushEvent('sample_hw_view',{role:document.getElementById('cs-detail-title').textContent}); });
          if(videoBtn) videoBtn.addEventListener('click', function(){ const lazy = document.getElementById('cs-lazy'); if(lazy) lazy.innerHTML = `<div style="width:100%;height:320px;border-radius:10px;background:#000;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:800">Відео (симуляція)</div>`; pushEvent('video_play',{role:document.getElementById('cs-detail-title').textContent}); });

          /* ---------- Accessibility focus trap ---------- */
          function trapFocus(container){
            try{
              const focusable = Array.from(container.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])')).filter(el=>!el.hasAttribute('disabled'));
              if(!focusable.length) return;
              const first = focusable[0], last = focusable[focusable.length-1];
              const handler = (e) => {
                if(e.key !== 'Tab') return;
                if(e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
                else if(!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
              };
              container.addEventListener('keydown', handler);
              // Remove handler when modal closed
              const modal = container.closest('.cs-modal');
              if(modal){
                const mo = new MutationObserver((mutList) => { mutList.forEach(mut => { if(mut.attributeName === 'aria-hidden' && modal.getAttribute('aria-hidden') === 'true'){ container.removeEventListener('keydown', handler); mo.disconnect(); } }); });
                mo.observe(modal, {attributes:true});
              }
              // focus first
              first.focus();
            }catch(e){ /* ignore */ }
          }

          function pushEvent(name, payload){ window.dataLayer = window.dataLayer || []; window.dataLayer.push(Object.assign({event:name,timestamp:Date.now()}, payload || {})); }

          /* ---------- Keyboard open on Enter/Space ---------- */
          document.querySelectorAll('#cs-grid article').forEach(card => { card.addEventListener('keydown', (e) => { if(e.key === 'Enter' || e.key === ' '){ openDetail(card.dataset.role); e.preventDefault(); } }); });

          /* ---------- EQUALIZER: cards & buttons (precise, debounced) ---------- */
          let eqTimer = null;
          function equalizeAll(){
            const cards = Array.from(document.querySelectorAll('#cs-grid .card'));
            if(!cards.length) return;
            // Reset
            cards.forEach(c => { c.style.height = 'auto'; c.style.minHeight = ''; });
            if(window.innerWidth < 780){
              document.querySelectorAll('#cs-grid .cs-actions .cs-btn').forEach(b => { b.style.width = ''; });
              return;
            }
            // calc max height
            let maxH = 0;
            cards.forEach(c => {
              const rect = c.getBoundingClientRect();
              const h = Math.ceil(rect.height);
              if(h > maxH) maxH = h;
            });
            if(maxH < 520) maxH = 520;
            cards.forEach(c => { c.style.height = maxH + 'px'; });
            // equalize buttons width
            const btns = Array.from(document.querySelectorAll('#cs-grid .cs-actions .cs-btn'));
            if(btns.length){
              btns.forEach(b => { b.style.width = 'auto'; });
              let maxBtnW = 0;
              btns.forEach(b => { const w = Math.ceil(b.getBoundingClientRect().width); if(w > maxBtnW) maxBtnW = w; });
              maxBtnW = Math.max(maxBtnW, 140);
              btns.forEach(b => { b.style.width = maxBtnW + 'px'; });
            }
          }

          function debouncedEqualize(){
            clearTimeout(eqTimer);
            eqTimer = setTimeout(equalizeAll, 90);
          }

          window.addEventListener('load', debouncedEqualize);
          window.addEventListener('resize', debouncedEqualize);
          setTimeout(debouncedEqualize, 250);
          setTimeout(equalizeAll, 450);

          // MutationObserver: when grid children update (rare but safe)
          const gridObserver = new MutationObserver(() => debouncedEqualize());
          const gridEl = document.getElementById('cs-grid');
          if(gridEl) gridObserver.observe(gridEl, {childList:true, subtree:true, attributes:true, characterData:true});

          // center grid
          (function ensureCenter(){ const gridEl = document.getElementById('cs-grid'); if(gridEl) gridEl.style.margin='0 auto'; })();

        } catch(err){
          console.error('Careers section init error:', err);
        }
      }); // DOMContentLoaded

      // helper: escapeHtml
      function escapeHtml(str){ return String(str||'').replace(/[&<>"']/g, function(m){ return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]; }); }
    })();
  </script>
</section>
<!-- =================== END CAREERS SECTION =================== -->

    


<!-- ===== START: Mentors section (6 cards) ===== -->
<section id="mentors-section-v2" class="py-16 bg-gray-50" aria-labelledby="mentors-title">
  <div class="max-w-7xl mx-auto px-6">
    <h2 id="mentors-title" class="text-3xl md:text-4xl font-extrabold text-gray-900 mb-2 text-center" style="font-family:Inter,system-ui,Arial">
      Наші ментори
    </h2>
    <p class="text-gray-600 mb-10 text-center max-w-3xl mx-auto" style="font-family:Inter,system-ui,Arial">
      6 провідних спеціалістів: portfolio reviews, mock-interviews, career coaching. Обери ментора, переглянь деталі або одразу запишись.
    </p>

    <!-- Cards grid -->
    <div id="mentors-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8" role="list" aria-label="Список менторів">

      <!-- Reusable mentor card markup (6 examples) -->
      <!-- Card template: change data-mentor JSON per mentor -->
      <article class="mentor-card bg-white rounded-2xl shadow-md border border-gray-100 flex flex-col overflow-hidden" role="listitem">
        <div class="h-44 bg-gray-100 overflow-hidden rounded-t-2xl">
          <img src="img/men1111.jpg" alt="Фото Олексій Іванов" class="w-full h-full object-cover">
        </div>
        <div class="p-6 flex-1 flex flex-col">
          <div class="flex items-center gap-3 mb-3">
            <span class="px-3 py-1 rounded-full bg-emerald-600 text-white text-xs font-medium">8 років</span>
            <span class="px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 text-xs">Research • Figma</span>
          </div>

          <h3 class="text-xl font-semibold text-gray-900">Олексій Іванов</h3>
          <p class="text-gray-600 mt-2 text-sm flex-1">Senior Product Designer — FinTech, onboarding flows, design systems.</p>

          <div class="mt-4 flex items-center justify-between text-sm text-gray-700">
            <div>
              <div class="text-xs text-gray-500">Орієнт. зарплата</div>
              <div class="font-semibold">$1,100 / міс</div>
            </div>
            <div class="text-right">
              <div class="text-xs text-gray-500">Навички</div>
              <div class="font-semibold">Research • Prototyping</div>
            </div>
          </div>

          <div class="mt-6 grid grid-cols-2 gap-3">
            <!-- left: DETAIL (green filled gradient) -->
            <button
              type="button"
              class="open-detail w-full rounded-lg py-3 font-semibold focus:outline-none"
              data-mentor='{"id":"m1","name":"Олексій Іванов","role":"Senior Product Designer","company":"FinTech","years":8,"location":"Київ / Remote","langs":["UA","EN"],"salary":{"jun":"$700","mid":"$1,100","sen":"$2,200"},"tags":["Research","Figma","Hiring"],"short":"Проводить portfolio reviews та mock-interviews для фінтех-продуктів.","bio":"Олексій — продукт-дизайнер з 8+ роками досвіду. Спеціалізується на onboarding flows, design systems та A/B testing. Працював з командами від стартапів до enterprise, оптимізував ключові флоу та реалізував дизайн-системи, що зменшили time-to-market.","sample":"Аудит onboarding flow: знайти 3 pain-points, запропонувати рішення та зробити low-fi prototype у Figma. До прикладу додається чекліст і пріоритети."}'>
              Детальніше
            </button>

            <!-- right: BOOK (white with border) -->
            <button type="button" class="open-book w-full rounded-lg border py-3 font-semibold focus:outline-none" data-mentor-id="m1" data-mentor-name="Олексій Іванов">
              Записатись
            </button>
          </div>
        </div>
      </article>

      <!-- Card 2 -->
      <article class="mentor-card bg-white rounded-2xl shadow-md border border-gray-100 flex flex-col overflow-hidden" role="listitem">
        <div class="h-44 bg-gray-100 overflow-hidden rounded-t-2xl">
          <img src="img/men22.jpg" alt="Фото Катерина Петрова" class="w-full h-full object-cover">
        </div>
        <div class="p-6 flex-1 flex flex-col">
          <div class="flex items-center gap-3 mb-3">
            <span class="px-3 py-1 rounded-full bg-emerald-600 text-white text-xs font-medium">10 років</span>
            <span class="px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 text-xs">Visual • Motion</span>
          </div>

          <h3 class="text-xl font-semibold text-gray-900">Катерина Петрова</h3>
          <p class="text-gray-600 mt-2 text-sm flex-1">Lead Visual Designer — дизайн-системи, motion UI, UI-kit.</p>

          <div class="mt-4 flex items-center justify-between text-sm text-gray-700">
            <div>
              <div class="text-xs text-gray-500">Орієнт. зарплата</div>
              <div class="font-semibold">$1,400 / міс</div>
            </div>
            <div class="text-right">
              <div class="text-xs text-gray-500">Навички</div>
              <div class="font-semibold">Visual • Motion</div>
            </div>
          </div>

          <div class="mt-6 grid grid-cols-2 gap-3">
            <button
              type="button"
              class="open-detail w-full rounded-lg py-3 font-semibold focus:outline-none"
              data-mentor='{"id":"m2","name":"Катерина Петрова","role":"Lead Visual Designer","company":"Creative Agency","years":10,"location":"Remote","langs":["UA","EN"],"salary":{"jun":"$800","mid":"$1,400","sen":"$2,500"},"tags":["Visual","Motion","Design Systems"],"short":"Експертка в дизайн-системах та motion UI.","bio":"Катерина створює масштабні дизайн-системи та motion language для enterprise продуктів. Працювала з інтернаціональними командами, впроваджувала token-based системи і проектувала motion specs для web та mobile.","sample":"Розробити 6 ключових компонентів, motion specs і accessibility notes."}'>
              Детальніше
            </button>
            <button type="button" class="open-book w-full rounded-lg border py-3 font-semibold focus:outline-none" data-mentor-id="m2" data-mentor-name="Катерина Петрова">
              Записатись
            </button>
          </div>
        </div>
      </article>

      <!-- Card 3 -->
      <article class="mentor-card bg-white rounded-2xl shadow-md border border-gray-100 flex flex-col overflow-hidden" role="listitem">
        <div class="h-44 bg-gray-100 overflow-hidden rounded-t-2xl">
          <img src="img/men3.jpg" alt="Фото Ірина Коваль" class="w-full h-full object-cover">
        </div>
        <div class="p-6 flex-1 flex flex-col">
          <div class="flex items-center gap-3 mb-3">
            <span class="px-3 py-1 rounded-full bg-emerald-600 text-white text-xs font-medium">7 років</span>
            <span class="px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 text-xs">Product • Research</span>
          </div>

          <h3 class="text-xl font-semibold text-gray-900">Ірина Коваль</h3>
          <p class="text-gray-600 mt-2 text-sm flex-1">Product Designer — B2B SaaS, product thinking.</p>

          <div class="mt-4 flex items-center justify-between text-sm text-gray-700">
            <div>
              <div class="text-xs text-gray-500">Орієнт. зарплата</div>
              <div class="font-semibold">$1,300 / міс</div>
            </div>
            <div class="text-right">
              <div class="text-xs text-gray-500">Навички</div>
              <div class="font-semibold">Product • Research</div>
            </div>
          </div>

          <div class="mt-6 grid grid-cols-2 gap-3">
            <button
              type="button"
              class="open-detail w-full rounded-lg py-3 font-semibold focus:outline-none"
              data-mentor='{"id":"m3","name":"Ірина Коваль","role":"Product Designer","company":"B2B SaaS","years":7,"location":"Львів / Remote","langs":["UA","EN","PL"],"salary":{"jun":"$750","mid":"$1,300","sen":"$2,100"},"tags":["Product","Research","SaaS"],"short":"Фокус на product thinking та research.","bio":"Ірина оптимізує продукт і готує студентів до portfolio-orientated кейсів. Має досвід створення discovery tracks та A/B тестування, працює з метриками та бізнес-цілями.","sample":"Problem statement + research plan для feature X з roadmap і MVP-рекомендаціями."}'>
              Детальніше
            </button>
            <button type="button" class="open-book w-full rounded-lg border py-3 font-semibold focus:outline-none" data-mentor-id="m3" data-mentor-name="Ірина Коваль">
              Записатись
            </button>
          </div>
        </div>
      </article>

      <!-- Card 4 -->
      <article class="mentor-card bg-white rounded-2xl shadow-md border border-gray-100 flex flex-col overflow-hidden" role="listitem">
        <div class="h-44 bg-gray-100 overflow-hidden rounded-t-2xl">
          <img src="img/men7878.avif" alt="Фото Максим Гончар" class="w-full h-full object-cover">
        </div>
        <div class="p-6 flex-1 flex flex-col">
          <div class="flex items-center gap-3 mb-3">
            <span class="px-3 py-1 rounded-full bg-emerald-600 text-white text-xs font-medium">6 років</span>
            <span class="px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 text-xs">Research • Testing</span>
          </div>

          <h3 class="text-xl font-semibold text-gray-900">Максим Гончар</h3>
          <p class="text-gray-600 mt-2 text-sm flex-1">UX Researcher — usability testing, interviews.</p>

          <div class="mt-4 flex items-center justify-between text-sm text-gray-700">
            <div>
              <div class="text-xs text-gray-500">Орієнт. зарплата</div>
              <div class="font-semibold">$950 / міс</div>
            </div>
            <div class="text-right">
              <div class="text-xs text-gray-500">Навички</div>
              <div class="font-semibold">Testing • Interviews</div>
            </div>
          </div>

          <div class="mt-6 grid grid-cols-2 gap-3">
            <button
              type="button"
              class="open-detail w-full rounded-lg py-3 font-semibold focus:outline-none"
              data-mentor='{"id":"m4","name":"Максим Гончар","role":"UX Researcher","company":"Insight Lab","years":6,"location":"Remote / EU","langs":["EN","UA"],"salary":{"jun":"$600","mid":"$950","sen":"$1,800"},"tags":["Testing","Prototyping"],"short":"Usability testing та research plans для digital products.","bio":"Максим робить дослідження, які виводять продукт на новий рівень usability. Працює з mixed methods, організовує інтерв'ю і аналізує quantitative metrics.","sample":"Розробити скрипт та провести 5 usability interviews, підготувати actionable insights report."}'>
              Детальніше
            </button>
            <button type="button" class="open-book w-full rounded-lg border py-3 font-semibold focus:outline-none" data-mentor-id="m4" data-mentor-name="Максим Гончар">
              Записатись
            </button>
          </div>
        </div>
      </article>

      <!-- Card 5 -->
      <article class="mentor-card bg-white rounded-2xl shadow-md border border-gray-100 flex flex-col overflow-hidden" role="listitem">
        <div class="h-44 bg-gray-100 overflow-hidden rounded-t-2xl">
          <img src="img/men555.jpg" alt="Фото Олег Савенко" class="w-full h-full object-cover">
        </div>
        <div class="p-6 flex-1 flex flex-col">
          <div class="flex items-center gap-3 mb-3">
            <span class="px-3 py-1 rounded-full bg-emerald-600 text-white text-xs font-medium">5 років</span>
            <span class="px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 text-xs">Frontend • Prototype</span>
          </div>

          <h3 class="text-xl font-semibold text-gray-900">Олег Савенко</h3>
          <p class="text-gray-600 mt-2 text-sm flex-1">Frontend-designer — інтерактивні демо, performance-aware motion.</p>

          <div class="mt-4 flex items-center justify-between text-sm text-gray-700">
            <div>
              <div class="text-xs text-gray-500">Орієнт. зарплата</div>
              <div class="font-semibold">$1,100 / міс</div>
            </div>
            <div class="text-right">
              <div class="text-xs text-gray-500">Навички</div>
              <div class="font-semibold">HTML/CSS • GSAP</div>
            </div>
          </div>

          <div class="mt-6 grid grid-cols-2 gap-3">
            <button
              type="button"
              class="open-detail w-full rounded-lg py-3 font-semibold focus:outline-none"
              data-mentor='{"id":"m5","name":"Олег Савенко","role":"Frontend-designer","company":"Interactive Labs","years":5,"location":"Київ","langs":["UA","EN"],"salary":{"jun":"$700","mid":"$1,100","sen":"$1,900"},"tags":["HTML/CSS","Prototype"],"short":"Перетворює Figma в інтерактивні демо; оптимізує performance.","bio":"Олег створює production-like прототипи та навчає performant interaction. Фокус на оптимізації анімацій та accessibility.","sample":"Інтерактивний прототип checkout flow (HTML/CSS/GSAP) з рекомендаціями по perf."}'>
              Детальніше
            </button>
            <button type="button" class="open-book w-full rounded-lg border py-3 font-semibold focus:outline-none" data-mentor-id="m5" data-mentor-name="Олег Савенко">
              Записатись
            </button>
          </div>
        </div>
      </article>

      <!-- Card 6 -->
      <article class="mentor-card bg-white rounded-2xl shadow-md border border-gray-100 flex flex-col overflow-hidden" role="listitem">
        <div class="h-44 bg-gray-100 overflow-hidden rounded-t-2xl">
          <img src="img/men6.avif" alt="Фото Світлана Мороз" class="w-full h-full object-cover">
        </div>
        <div class="p-6 flex-1 flex flex-col">
          <div class="flex items-center gap-3 mb-3">
            <span class="px-3 py-1 rounded-full bg-emerald-600 text-white text-xs font-medium">12 років</span>
            <span class="px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 text-xs">Career • Hiring</span>
          </div>

          <h3 class="text-xl font-semibold text-gray-900">Світлана Мороз</h3>
          <p class="text-gray-600 mt-2 text-sm flex-1">Career Coach & Recruiter — CV, interviews, hiring process.</p>

          <div class="mt-4 flex items-center justify-between text-sm text-gray-700">
            <div>
              <div class="text-xs text-gray-500">Орієнт. зарплата</div>
              <div class="font-semibold">$1,000 / міс</div>
            </div>
            <div class="text-right">
              <div class="text-xs text-gray-500">Навички</div>
              <div class="font-semibold">CV • Interview</div>
            </div>
          </div>

          <div class="mt-6 grid grid-cols-2 gap-3">
            <button
              type="button"
              class="open-detail w-full rounded-lg py-3 font-semibold focus:outline-none"
              data-mentor='{"id":"m6","name":"Світлана Мороз","role":"Career Coach & Recruiter","company":"HR Partners","years":12,"location":"Remote","langs":["UA","EN","RU"],"salary":{"jun":"$500","mid":"$1,000","sen":"$1,800"},"tags":["CV","Interview","Hiring"],"short":"Допомагає пройти співбесіди та покращити CV/LinkedIn.","bio":"Світлана — career coach з рекрутинг-досвідом; готує кандидатів до HR & technical interviews. Має кейси працевлаштування у великих IT-компаніях.","sample":"Підготувати CV + 3 відповіді на типові HR питання, mock-interview з розбором помилок."}'>
              Детальніше
            </button>
            <button type="button" class="open-book w-full rounded-lg border py-3 font-semibold focus:outline-none" data-mentor-id="m6" data-mentor-name="Світлана Мороз">
              Записатись
            </button>
          </div>
        </div>
      </article>

    </div>
  </div>
</section>

<!-- ===== Modals (Detail + Booking) ===== -->
<!-- DETAIL MODAL -->
<div id="detail-modal" class="fixed inset-0 z-50 hidden" role="dialog" aria-modal="true" aria-labelledby="detail-title" aria-hidden="true">
  <div id="detail-backdrop" class="fixed inset-0 bg-black/40"></div>
  <div class="fixed inset-0 flex items-center justify-center p-4">
    <div class="bg-white w-full max-w-4xl rounded-2xl shadow-2xl overflow-hidden" role="document" aria-describedby="detail-desc">
      <header class="flex items-center justify-between px-6 py-4 border-b">
        <h3 id="detail-title" class="text-lg font-semibold" style="font-family:Inter,system-ui,Arial">Профіль ментора</h3>
        <button id="detail-close" class="text-gray-600 hover:bg-gray-100 rounded p-2" aria-label="Закрити модал">✕</button>
      </header>
      <div id="detail-desc" class="p-6 max-h-[75vh] overflow-auto" tabindex="0" style="font-family:Inter,system-ui,Arial"></div>
    </div>
  </div>
</div>

<!-- BOOKING MODAL -->
<div id="book-modal" class="fixed inset-0 z-50 hidden" role="dialog" aria-modal="true" aria-labelledby="book-title" aria-hidden="true">
  <div id="book-backdrop" class="fixed inset-0 bg-black/40"></div>
  <div class="fixed inset-0 flex items-center justify-center p-4">
    <div class="bg-white w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden" role="document" aria-describedby="book-desc">
      <header class="flex items-center justify-between px-6 py-4 border-b">
        <h3 id="book-title" class="text-lg font-semibold" style="font-family:Inter,system-ui,Arial">Запис на сесію</h3>
        <button id="book-close" class="text-gray-600 hover:bg-gray-100 rounded p-2" aria-label="Закрити модал">✕</button>
      </header>

      <div id="book-desc" class="p-6 max-h-[75vh] overflow-auto" tabindex="0" style="font-family:Inter,system-ui,Arial">
        <form id="booking-form" class="space-y-4" novalidate>
          <input type="hidden" id="booking-mentor-id" name="mentor_id">
          <div>
            <label class="text-xs text-gray-600">Обраний ментор</label>
            <div id="booking-mentor-name" class="text-lg font-semibold text-gray-900">—</div>
          </div>

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
            <div>
              <label for="bname" class="text-xs text-gray-600">Ім'я *</label>
              <input id="bname" name="name" required class="mt-1 w-full rounded-lg border border-gray-200 p-3" />
            </div>
            <div>
              <label for="bemail" class="text-xs text-gray-600">Email *</label>
              <input id="bemail" name="email" type="email" required class="mt-1 w-full rounded-lg border border-gray-200 p-3" />
            </div>
          </div>

          <div>
            <label for="btype" class="text-xs text-gray-600">Тип сесії</label>
            <select id="btype" name="session_type" class="mt-1 w-full rounded-lg border border-gray-200 p-3">
              <option>Portfolio review — 60'</option>
              <option>Mock interview — 30'</option>
              <option>CV / LinkedIn review — 45'</option>
              <option>Deep mentorship — 90'</option>
            </select>
          </div>

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
            <div>
              <label for="bdatetime" class="text-xs text-gray-600">Бажана дата та час</label>
              <input id="bdatetime" name="datetime" type="datetime-local" class="mt-1 w-full rounded-lg border border-gray-200 p-3" />
            </div>
            <div>
              <label for="btimezone" class="text-xs text-gray-600">Часовий пояс</label>
              <select id="btimezone" name="timezone" class="mt-1 w-full rounded-lg border border-gray-200 p-3">
                <option>Europe/Kiev (UTC+2)</option>
                <option>Europe/London (UTC+0)</option>
                <option>America/New_York (UTC-4)</option>
                <option>UTC</option>
              </select>
            </div>
          </div>

          <div>
            <label for="bnote" class="text-xs text-gray-600">Коротко — що очікуєте</label>
            <textarea id="bnote" name="note" rows="3" class="mt-1 w-full rounded-lg border border-gray-200 p-3" placeholder="Напишіть 1-2 речення: над чим хочете попрацювати"></textarea>
          </div>

          <div>
            <label for="battach" class="text-xs text-gray-600">Посилання на портфоліо / Figma (опціонально)</label>
            <input id="battach" name="portfolio" type="url" placeholder="https://..." class="mt-1 w-full rounded-lg border border-gray-200 p-3" />
          </div>

          <div class="flex items-center gap-3">
            <input id="bconsent" name="consent" type="checkbox" required />
            <label for="bconsent" class="text-xs text-gray-600">Погоджуюсь на обробку персональних даних *</label>
          </div>

          <div class="flex gap-3">
            <button id="bsubmit" type="submit" class="flex-1 rounded-lg py-3 font-semibold focus:outline-none">Надіслати заявку</button>
            <button id="bcancel" type="button" class="flex-1 rounded-lg border border-gray-200 py-3 text-gray-700">Відмінити</button>
          </div>

          <div id="booking-feedback" class="hidden p-3 rounded text-sm" role="status" aria-live="polite"></div>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- ===== Styles (buttons and micro tweaks) ===== -->
<style>
  /* Buttons (kept look) */
  .open-detail{ background:linear-gradient(90deg,#03c6b7 0%,#10b981 100%); color:#fff; border:0; padding:10px 16px; border-radius:10px; cursor:pointer; }
  .open-book{ background:#fff; color:#064e3b; border:1px solid rgba(6,78,59,0.12); padding:10px 16px; border-radius:10px; cursor:pointer; }

  /* Mentor card base */
  .mentor-card{
    background:#fff;
    border-radius:14px;
    overflow:hidden;
    border:1px solid rgba(0,0,0,0.06);
    box-shadow:0 6px 20px rgba(0,0,0,0.06);
    display:flex; flex-direction:column;
  }

  /* Image header (we will set background-image from JS) */
  .mentor-card > div:first-child {
    background-color:#ffffff !important;      /* гарантовано білий фон під фото */
    background-repeat:no-repeat !important;
    background-position:center center !important;
    background-size:cover !important;        /* дефолт: заповнює блок */
    width:100% !important;
    height:320px !important;                  /* стартова висота (замінить JS при потребі) */
    display:block !important;
    position:relative !important;
    overflow:hidden !important;
    border-top-left-radius:14px !important;
    border-top-right-radius:14px !important;
  }

  /* Fallback img shown until JS hides it */
  .mentor-card > div:first-child img {
    width:100%;
    height:100%;
    object-fit:cover;
    object-position:center;
    display:block;
  }

  /* Card content */
  .card-body, .mentor-card figcaption { padding:16px; display:flex; flex-direction:column; gap:8px; text-align:left; }
  .badge-row{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
  .mentor-name{ font-size:18px; font-weight:700; margin:4px 0; }
  .mentor-role{ color:#4b5563; font-size:14px; margin:0 0 8px 0; }

  /* Responsive adjustments (JS will recalc sizes on resize) */
  @media (max-width:1024px){ .mentor-card > div:first-child { height:300px !important; } }
  @media (max-width:640px){ .mentor-card > div:first-child { height:220px !important; } }
</style>





<!-- ===== SCRIPT: robust modal logic (single script) ===== -->
<script>
(function(){
  'use strict';

  // Helper selectors
  const $ = sel => document.querySelector(sel);
  const $$ = sel => Array.from(document.querySelectorAll(sel));
  const detailModal = $('#detail-modal');
  const detailBackdrop = $('#detail-backdrop');
  const detailClose = $('#detail-close');
  const detailBody = $('#detail-desc');

  const bookModal = $('#book-modal');
  const bookBackdrop = $('#book-backdrop');
  const bookClose = $('#book-close');
  const bookingForm = $('#booking-form');
  const bookingMentorId = $('#booking-mentor-id');
  const bookingMentorName = $('#booking-mentor-name');
  const bookingFeedback = $('#booking-feedback');
  const bsubmit = $('#bsubmit');
  const bcancel = $('#bcancel');

  // Focus trap holder
  let activeTrap = null;
  function activateTrap(container){
    if(!container) return;
    if(window.focusTrap && typeof window.focusTrap.createFocusTrap === 'function'){
      try {
        activeTrap = window.focusTrap.createFocusTrap(container, { escapeDeactivates: false, clickOutsideDeactivates: false, allowOutsideClick: true });
        activeTrap.activate();
        return;
      } catch(e){ console.warn('focusTrap error', e); }
    }
    // fallback focus first focusable element
    const f = container.querySelector('button, a, input, select, textarea');
    if(f) f.focus();
  }
  function deactivateTrap(){
    try{ if(activeTrap) activeTrap.deactivate(); }catch(e){}
    activeTrap = null;
  }

  // Show/hide universal
  function show(el){
    if(!el) return;
    el.classList.remove('hidden');
    el.setAttribute('aria-hidden','false');
    document.documentElement.style.overflow = 'hidden';
    if(window.gsap) { gsap.to(el, {duration:0.2, opacity:1, ease:'power1.out'}); }
  }
  function hide(el){
    if(!el) return;
    el.classList.add('hidden');
    el.setAttribute('aria-hidden','true');
    document.documentElement.style.overflow = '';
  }

  // Safe JSON parse for data-mentor (accepts single quotes)
  function parseMentor(raw){
    if(!raw) return {};
    try { return JSON.parse(raw); } catch(e){
      try { return JSON.parse(raw.replaceAll("'", '"')); } catch(e2) { console.warn('mentor parse fail', e2); return {}; }
    }
  }

  // Escape for injecting text
  function esc(s){ if(s===undefined || s===null) return ''; return String(s).replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;').replaceAll('"','&quot;').replaceAll("'",'&#39;'); }

  // Build very large detail modal content (lots of text)
  function buildDetailContent(data){
    const tags = (data.tags || []).map(t => `<span class="inline-block px-2 py-1 mr-2 mb-2 bg-emerald-50 text-emerald-700 rounded text-xs">${esc(t)}</span>`).join('');
    const salary = data.salary || {};
    return `
      <div class="md:flex gap-6">
        <div class="md:w-44 flex-shrink-0 mb-4 md:mb-0">
          <img src="${esc(data.image || 'https://via.placeholder.com/320')}" alt="${esc(data.name)}" class="w-full h-44 object-cover rounded-lg">
        </div>
        <div class="flex-1">
          <h2 class="text-2xl font-extrabold text-gray-900">${esc(data.name || 'Ментор')}</h2>
          <div class="text-sm text-gray-600 mt-1">${esc(data.role || '')}${data.company ? ' • ' + esc(data.company) : ''} • ${esc(data.location || '—')}</div>
          <div class="mt-4 text-gray-700 leading-relaxed">
            <p>${esc(data.bio || 'Повна біографія ментора тимчасово відсутня.')}</p>
            <p class="mt-3">Методика менторингу: інтерактивні ревʼю, mock-interviews, live-prototyping, домашні завдання з rubric та follow-up notes. Підхід — evidence-first: research → hypothesis → test → implement. Всі рекомендації містять чіткі критерії оцінки та next steps для підвищення шансів на офер.</p>
            <p class="mt-3">Формати сесій: portfolio review (60'), mock interview (30'), CV/LinkedIn review (45'), deep mentorship (90'). Після сесії ви отримаєте action plan, шаблони та приклади кращих практик.</p>
          </div>

          <div class="mt-4">${tags}</div>
        </div>
      </div>

      <!-- metrics + sample task -->
      <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-3">
        <div class="p-3 bg-gray-50 rounded"><div class="text-xs text-gray-500">Досвід</div><div class="font-semibold">${esc(String(data.years || '—'))} років</div></div>
        <div class="p-3 bg-gray-50 rounded"><div class="text-xs text-gray-500">Мови</div><div class="font-semibold">${esc((data.langs || []).join(' • ') || '—')}</div></div>
        <div class="p-3 bg-gray-50 rounded"><div class="text-xs text-gray-500">Орієнт. зарплата</div><div class="font-semibold">${esc(salary.mid || '—')}</div></div>
      </div>

      <div class="mt-6 grid gap-4">
        <div class="p-4 bg-white border rounded">
          <h4 class="font-semibold mb-2">Приклад домашнього завдання</h4>
          <p class="text-sm text-gray-700">${esc(data.sample || 'Типове завдання буде надіслано після реєстрації: опис проблеми, вимоги, очікувані deliverables, критерії оцінки.')}</p>
          <ul class="list-disc ml-5 mt-2 text-sm text-gray-700">
            <li>Чітка ціль та критерії успіху;</li>
            <li>Очікуваний формат (Figma / PDF / Google Slides);</li>
            <li>Rubric: research, UX reasoning, visual polish, prototyping;</li>
          </ul>
        </div>

        <div class="p-4 bg-white border rounded">
          <h4 class="font-semibold mb-2">Ключові кейси (витяги)</h4>
          <div class="space-y-3 text-sm text-gray-700">
            <div><strong>Case A — Onboarding redesign (FinTech)</strong><br>Роль: Lead. Результати: +18% signup conversion, -12% abandonment. Метрики: completion rate, time-to-task.</div>
            <div><strong>Case B — Design system rollout (Enterprise)</strong><br>Роль: Contributor/Lead. Результат: зниження dev time на 24%, впроваджено token system.</div>
          </div>
        </div>

        <div class="p-4 bg-white border rounded">
          <h4 class="font-semibold mb-2">Детальний план сесії</h4>
          <ol class="list-decimal ml-5 text-sm text-gray-700">
            <li>Попередній аналіз портфоліо (15 хв) — швидкі нотатки.</li>
            <li>Глибоке ревʼю (30–45 хв) — live feedback, правки, рекомендації.</li>
            <li>Action plan (10–15 хв) — чекліст і наступні кроки.</li>
            <li>Follow-up (опціонально) — шаблон для самоперевірки.</li>
          </ol>
        </div>
      </div>

      <div class="mt-6 grid gap-4">
        <div class="p-4 bg-white border rounded">
          <h4 class="font-semibold mb-2">Proof / Results</h4>
          <div class="text-sm text-gray-700">
            <p>Кілька відгуків від учнів та приклади наймань:</p>
            <ul class="list-disc ml-5 mt-2">
              <li>"Після консультації отримав офер" — Михайло, Product Designer.</li>
              <li>"Змінив структуру портфоліо і пройшов співбесіду" — Олена, Visual Designer.</li>
            </ul>
            <p class="mt-2 text-xs text-gray-500">*Дані анонімні, надаються за згодою учнів.</p>
          </div>
        </div>

        <div class="p-4 bg-white border rounded">
          <h4 class="font-semibold mb-2">FAQ</h4>
          <details class="mb-2"><summary class="cursor-pointer font-medium">Як підготуватися?</summary><p class="mt-2 text-sm text-gray-700">Надішліть посилання на портфоліо, коротко опишіть мету сесії, вкажіть приклади, які хочете розглянути.</p></details>
          <details class="mb-2"><summary class="cursor-pointer font-medium">Чи даються домашні завдання?</summary><p class="mt-2 text-sm text-gray-700">Так — часто. Вони приходять з rubric та прикладами сильних рішень.</p></details>
          <details><summary class="cursor-pointer font-medium">Скільки чекати зворотного зв'язку?</summary><p class="mt-2 text-sm text-gray-700">Зазвичай 48–72 години, залежить від пакету і навантаження ментора.</p></details>
        </div>
      </div>

      <div class="mt-6 flex items-center justify-between">
        <div class="text-sm text-gray-600">Доступні сесії: <strong>3</strong> на тиждень</div>
        <div class="flex gap-3">
          <button class="detail-book-btn rounded-lg px-4 py-2 font-semibold" data-mentor-id="${esc(data.id||'')}" data-mentor-name="${esc(data.name||'')}">Записатись</button>
          <a href="${esc(data.linkedin || '#')}" target="_blank" rel="noopener" class="rounded-lg border px-4 py-2">LinkedIn</a>
        </div>
      </div>
    `;
  }

  // Open detail modal from data object
  function openDetail(data){
    if(!detailModal || !detailBody) return;
    detailBody.innerHTML = buildDetailContent(data || {});
    show(detailModal);
    activateTrap(detailModal);
    // animate inner if GSAP present
    if(window.gsap){ gsap.from(detailBody.children[0], {duration:0.45, y:12, opacity:0, ease:'power2.out'}); }

    // attach inner book button
    const innerBook = detailBody.querySelector('.detail-book-btn');
    if(innerBook) innerBook.addEventListener('click', function(){
      const id = this.dataset.mentorId || '';
      const name = this.dataset.mentorName || '';
      closeDetail();
      setTimeout(()=> openBook(id, name), 200);
    });
  }

  function closeDetail(){
    if(!detailModal) return;
    deactivateTrap();
    hide(detailModal);
    detailBody.innerHTML = '';
  }

  // Booking modal open/close
  function openBook(id, name){
    if(!bookModal) return;
    if(bookingMentorId) bookingMentorId.value = id || '';
    if(bookingMentorName) bookingMentorName.textContent = name || '—';
    if(bookingFeedback){ bookingFeedback.classList.add('hidden'); bookingFeedback.textContent = ''; }
    bookingForm.reset();
    show(bookModal);
    activateTrap(bookModal);
    setTimeout(()=> document.getElementById('bname')?.focus(), 80);
    if(window.gsap){ gsap.from('#book-desc', {duration:0.35, y:10, opacity:0, ease:'power2.out'}); }
  }

  function closeBook(){
    if(!bookModal) return;
    deactivateTrap();
    hide(bookModal);
  }

  // Delegated click handlers
  document.addEventListener('click', function(e){
    // open-detail buttons
    const d = e.target.closest('.open-detail');
    if(d){
      const raw = d.getAttribute('data-mentor');
      const parsed = parseMentor(raw);
      // ensure required defaults
      parsed.id = parsed.id || d.dataset.mentorId || parsed.name || '';
      parsed.name = parsed.name || d.dataset.mentorName || parsed.id || 'Ментор';
      parsed.image = parsed.image || d.dataset.image || parsed.image;
      openDetail(parsed);
      return;
    }
    // open-book buttons
    const b = e.target.closest('.open-book');
    if(b){
      const id = b.dataset.mentorId || b.getAttribute('data-mentor-id') || '';
      const name = b.dataset.mentorName || b.getAttribute('data-mentor-name') || '';
      openBook(id, name);
      return;
    }
  });

  // Close interactions
  detailClose?.addEventListener('click', closeDetail);
  detailBackdrop?.addEventListener('click', function(ev){ if(ev.target === detailBackdrop) closeDetail(); });

  bookClose?.addEventListener('click', closeBook);
  bookBackdrop?.addEventListener('click', function(ev){ if(ev.target === bookBackdrop) closeBook(); });
  bcancel?.addEventListener('click', closeBook);

  // ESC closes modals
  document.addEventListener('keydown', function(e){
    if(e.key === 'Escape'){
      if(detailModal && !detailModal.classList.contains('hidden')) closeDetail();
      else if(bookModal && !bookModal.classList.contains('hidden')) closeBook();
    }
  });

  // Booking form submission (mock behavior, replace with real API)
  bookingForm?.addEventListener('submit', function(ev){
    ev.preventDefault();
    const name = (document.getElementById('bname') || {}).value || '';
    const email = (document.getElementById('bemail') || {}).value || '';
    const consent = (document.getElementById('bconsent') || {}).checked || false;
    if(!name.trim() || !email.trim() || !consent){
      if(bookingFeedback){
        bookingFeedback.classList.remove('hidden');
        bookingFeedback.style.background = '#FEF3F2';
        bookingFeedback.style.color = '#C2410C';
        bookingFeedback.textContent = "Будь ласка, заповніть обов'язкові поля та погодьтесь на обробку даних.";
      }
      return;
    }
    // visual submit simulation
    if(bsubmit){ bsubmit.disabled = true; bsubmit.dataset.prev = bsubmit.innerHTML; bsubmit.innerHTML = 'Надсилаємо...'; }
    setTimeout(function(){
      if(bsubmit){ bsubmit.disabled = false; bsubmit.innerHTML = bsubmit.dataset.prev || 'Надіслати заявку'; }
      if(bookingFeedback){
        bookingFeedback.classList.remove('hidden');
        bookingFeedback.style.background = '#ECFDF5';
        bookingFeedback.style.color = '#065F46';
        bookingFeedback.textContent = 'Дякуємо! Заявка відправлена. Чекайте листа з підтвердженням та запрошенням у календарі.';
      }
      // animate a little confirmation and close
      if(window.gsap){ gsap.to(bookingFeedback, {duration:0.3, y:-6, ease:'power1.out'}); }
      setTimeout(function(){ closeBook(); }, 1200);
    }, 900);
  });

  // Equalize card heights (simple)
  function equalizeCardHeights(){
    const cards = $$('.mentor-card');
    if(!cards.length) return;
    let max = 0;
    cards.forEach(c => { c.style.height = 'auto'; const h = c.offsetHeight; if(h > max) max = h; });
    cards.forEach(c => c.style.height = max + 'px');
  }
  window.addEventListener('load', function(){ equalizeCardHeights(); if(window.gsap){ gsap.from('.mentor-card', {duration:0.75, y:14, opacity:0, stagger:0.06, ease:'power2.out'}); } });
  window.addEventListener('resize', () => setTimeout(equalizeCardHeights, 120));

})();
</script>
<!-- ===== END: Mentors section ===== -->
<script>
(function(){
  'use strict';

  // --- Helpers ---
  const $ = s => document.querySelector(s);
  const $$ = s => Array.from(document.querySelectorAll(s));
  const isHidden = el => el && el.classList.contains('hidden');

  function showModal(modal){
    if(!modal) return;
    modal.classList.remove('hidden');
    modal.setAttribute('aria-hidden','false');
    document.documentElement.style.overflow = 'hidden';
    // focus first focusable inside modal
    trapFocus(modal);
    const f = modal.querySelector('button, a, input, select, textarea, [tabindex]:not([tabindex="-1"])');
    if(f) f.focus();
  }

  function hideModal(modal){
    if(!modal) return;
    modal.classList.add('hidden');
    modal.setAttribute('aria-hidden','true');
    document.documentElement.style.overflow = '';
    releaseFocusTrap(modal);
  }

  // Simple focus trap (fallback) — cycles Tab inside modal
  const trapMap = new WeakMap();
  function trapFocus(modal){
    if(!modal) return;
    if(trapMap.has(modal)) return; // already trapped
    const focusableSelector = 'a[href], button:not([disabled]), textarea, input[type="text"], input[type="email"], input[type="tel"], input, select, [tabindex]:not([tabindex="-1"])';
    const nodes = Array.from(modal.querySelectorAll(focusableSelector)).filter(n => n.offsetParent !== null);
    const first = nodes[0];
    const last = nodes[nodes.length-1];
    function handleKey(e){
      if(e.key === 'Tab'){
        if(nodes.length === 0){ e.preventDefault(); return; }
        if(e.shiftKey){
          if(document.activeElement === first){ e.preventDefault(); last.focus(); }
        } else {
          if(document.activeElement === last){ e.preventDefault(); first.focus(); }
        }
      }
      if(e.key === 'Escape'){ hideModal(modal); }
    }
    modal.__trapHandler = handleKey;
    document.addEventListener('keydown', handleKey);
    trapMap.set(modal, true);
  }
  function releaseFocusTrap(modal){
    if(!modal) return;
    if(modal.__trapHandler) {
      document.removeEventListener('keydown', modal.__trapHandler);
      delete modal.__trapHandler;
    }
    trapMap.delete(modal);
  }

  // --- DOM refs (IDs used in your markup) ---
  const detailModal = $('#detail-modal');
  const detailBackdrop = $('#detail-backdrop');
  const detailClose = $('#detail-close');
  const detailBody = $('#detail-desc');

  const bookModal = $('#book-modal');
  const bookBackdrop = $('#book-backdrop');
  const bookClose = $('#book-close');
  const bookingForm = $('#booking-form');
  const bookingMentorId = $('#booking-mentor-id');
  const bookingMentorName = $('#booking-mentor-name');
  const bookingFeedback = $('#booking-feedback');

  // if any missing — show console warning
  if(!detailModal || !bookModal){
    console.warn('Modal elements not found: ensure #detail-modal and #book-modal exist in DOM.');
  }

  // --- Build very large detail content (safe injection) ---
  function esc(s){ if(s===undefined||s===null) return ''; return String(s).replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;').replaceAll('"','&quot;').replaceAll("'",'&#39;'); }

  function buildBigDetail(mentor){
    // mentor: object with fields, fallback used if missing
    const name = esc(mentor.name || 'Ментор');
    const role = esc(mentor.role || '');
    const company = esc(mentor.company || '');
    const location = esc(mentor.location || '—');
    const years = esc(String(mentor.years || '—'));
    const langs = (mentor.langs || []).map(esc).join(' • ') || '—';
    const tags = (mentor.tags || []).map(t => `<span class="inline-block px-2 py-1 mr-2 mb-2 bg-emerald-50 text-emerald-700 rounded text-xs">${esc(t)}</span>`).join('');
    const salary = mentor.salary || {};
    const sample = esc(mentor.sample || 'Приклад завдання буде наданий після запису.');

    return `
      <div class="md:flex gap-6">
        <div class="md:w-48 flex-shrink-0 mb-4 md:mb-0">
          <img src="${esc(mentor.image || 'https://via.placeholder.com/320')}" alt="${name}" class="w-full h-48 object-cover rounded-lg">
        </div>
        <div class="flex-1">
          <h2 class="text-2xl font-extrabold text-gray-900">${name}</h2>
          <div class="text-sm text-gray-600 mt-1">${role}${company ? ' • ' + company : ''} • ${location}</div>
          <div class="mt-3 text-gray-700 leading-relaxed">
            <p>Біо: ${esc(mentor.bio || 'Біографія буде додана.')}</p>
            <p class="mt-2">Методика: інтерактивні ревʼю, mock-interviews, live-prototyping, assignment rubrics, follow-up notes. Формат: portfolio review, mock interview, CV / LinkedIn review, deep mentorship.</p>
            <p class="mt-2">Після сесії ви отримуєте: action plan, шаблони, checklist та рекомендації по підготовці до технічних інтерв'ю.</p>
          </div>
          <div class="mt-3">${tags}</div>
        </div>
      </div>

      <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-3">
        <div class="p-3 bg-gray-50 rounded"><div class="text-xs text-gray-500">Досвід</div><div class="font-semibold">${years} років</div></div>
        <div class="p-3 bg-gray-50 rounded"><div class="text-xs text-gray-500">Мови</div><div class="font-semibold">${langs}</div></div>
        <div class="p-3 bg-gray-50 rounded"><div class="text-xs text-gray-500">Орієнт. зарплата</div><div class="font-semibold">${esc(salary.mid || '—')}</div></div>
      </div>

      <div class="mt-6 space-y-4">
        <section class="p-4 bg-white border rounded">
          <h3 class="font-semibold mb-2">Приклад домашнього завдання</h3>
          <p class="text-sm text-gray-700">${sample}</p>
          <ul class="list-disc ml-5 mt-2 text-sm text-gray-700">
            <li>Очікуваний deliverable: prototype / case study;</li>
            <li>Ключові критерії: research, UX reasoning, interaction, visual polish;</li>
            <li>Rubric: 0–10 по кожній осі, короткі рекомендації.</li>
          </ul>
        </section>

        <section class="p-4 bg-white border rounded">
          <h3 class="font-semibold mb-2">Ключові кейси та результати</h3>
          <p class="text-sm text-gray-700">Приклади: Onboarding redesign (+18% conversion), Design system rollout (-24% dev time), Checkout prototyping (+12% conversion). Кожен кейс має before/after та KPI.</p>
        </section>

        <section class="p-4 bg-white border rounded">
          <h3 class="font-semibold mb-2">FAQ</h3>
          <details class="mb-2"><summary class="font-medium cursor-pointer">Як підготуватися?</summary><p class="mt-2 text-sm text-gray-700">Надішліть посилання на портфоліо та коротко опишіть мету. Приклади сильних рішень вітаються.</p></details>
          <details><summary class="font-medium cursor-pointer">Чи даєте домашні завдання?</summary><p class="mt-2 text-sm text-gray-700">Так, з rubrics та прикладами кращих робіт.</p></details>
        </section>

        <div class="flex items-center justify-between">
          <div class="text-sm text-gray-600">Доступні сесії: <strong>3</strong> / тиждень</div>
          <div class="flex gap-3">
            <button type="button" class="detail-to-book rounded-lg bg-emerald-600 text-white px-4 py-2 font-semibold" data-mentor-name="${esc(mentor.name||'')}" data-mentor-id="${esc(mentor.id||'')}">Записатись</button>
            <a href="${esc(mentor.linkedin||'#')}" target="_blank" class="rounded-lg border px-4 py-2 text-gray-700">LinkedIn</a>
          </div>
        </div>
      </div>
    `;
  }

  // --- Event delegation for opening modals ---
  document.addEventListener('click', function(e){
    // open-detail (card button)
    const detailBtn = e.target.closest('.open-detail');
    if(detailBtn){
      e.preventDefault();
      const raw = detailBtn.getAttribute('data-mentor') || detailBtn.dataset.mentor || null;
      let mentor = {};
      if(raw){
        try { mentor = JSON.parse(raw); } catch(err){
          try { mentor = JSON.parse(raw.replaceAll("'", '"')); } catch(err2){ console.warn('mentor JSON parse fail', err2); mentor = {}; }
        }
      }
      // fill detail modal content (very large)
      if(detailBody){
        detailBody.innerHTML = buildBigDetail(mentor);
        // attach inner "Записатись" inside detail modal
        const innerBook = detailBody.querySelector('.detail-to-book');
        if(innerBook){
          innerBook.addEventListener('click', function(){
            const mid = this.dataset.mentorId || '';
            const mname = this.dataset.mentorName || mentor.name || '';
            hideModal(detailModal);
            // small delay so modal hides visually
            setTimeout(()=> openBooking(mid, mname), 150);
          });
        }
      }
      // open detail modal
      showModal(detailModal);
      return;
    }

    // open-book (card button)
    const bookBtn = e.target.closest('.open-book');
    if(bookBtn){
      e.preventDefault();
      const mid = bookBtn.dataset.mentorId || bookBtn.getAttribute('data-mentor-id') || '';
      const mname = bookBtn.dataset.mentorName || bookBtn.getAttribute('data-mentor-name') || '';
      openBooking(mid, mname);
      return;
    }
  });

  // open booking modal helper
  function openBooking(id, name){
    if(bookingMentorId) bookingMentorId.value = id || '';
    if(bookingMentorName) bookingMentorName.textContent = name || '—';
    if(bookingFeedback){ bookingFeedback.classList.add('hidden'); bookingFeedback.textContent = ''; }
    if(bookingForm) bookingForm.reset();
    showModal(bookModal);
  }

  // Close handlers for modals (backdrop / close buttons)
  detailClose && detailClose.addEventListener('click', function(){ hideModal(detailModal); });
  detailBackdrop && detailBackdrop.addEventListener('click', function(e){ if(e.target === detailBackdrop) hideModal(detailModal); });

  bookClose && bookClose.addEventListener('click', function(){ hideModal(bookModal); });
  bookBackdrop && bookBackdrop.addEventListener('click', function(e){ if(e.target === bookBackdrop) hideModal(bookModal); });

  // ESC global close (redundant with trap, but safe)
  document.addEventListener('keydown', function(e){
    if(e.key === 'Escape'){
      if(detailModal && !detailModal.classList.contains('hidden')) hideModal(detailModal);
      else if(bookModal && !bookModal.classList.contains('hidden')) hideModal(bookModal);
    }
  });

  // booking form submit (simple mock)
  bookingForm && bookingForm.addEventListener('submit', function(ev){
    ev.preventDefault();
    const name = (document.getElementById('bname') || {}).value || '';
    const email = (document.getElementById('bemail') || {}).value || '';
    const consent = (document.getElementById('bconsent') || {}).checked || false;
    if(!name.trim() || !email.trim() || !consent){
      if(bookingFeedback){
        bookingFeedback.classList.remove('hidden');
        bookingFeedback.style.background = '#FEF3F2';
        bookingFeedback.style.color = '#C2410C';
        bookingFeedback.textContent = "Будь ласка, заповніть обов'язкові поля та погодьтесь на обробку даних.";
      }
      return;
    }
    // simulate submit
    const submitBtn = document.getElementById('bsubmit');
    if(submitBtn){ submitBtn.disabled = true; submitBtn.dataset.txt = submitBtn.innerHTML; submitBtn.innerHTML = 'Надсилаємо...'; }
    setTimeout(function(){
      if(submitBtn){ submitBtn.disabled = false; submitBtn.innerHTML = submitBtn.dataset.txt || 'Надіслати заявку'; }
      if(bookingFeedback){
        bookingFeedback.classList.remove('hidden');
        bookingFeedback.style.background = '#ECFDF5';
        bookingFeedback.style.color = '#065F46';
        bookingFeedback.textContent = 'Дякуємо! Заявка відправлена. Перевірте email для підтвердження.';
      }
      setTimeout(()=> hideModal(bookModal), 1000);
    }, 900);
  });

  // Utility: ensure buttons visually match screenshot (in case classes different)
  function enforceButtonStyles(){
    $$('.open-detail').forEach(btn => {
      btn.style.background = 'linear-gradient(90deg,#06c2b7 0%, #10b981 100%)';
      btn.style.color = '#fff';
      btn.style.border = 'none';
      btn.style.boxShadow = '0 6px 18px rgba(16,185,129,0.12)';
      btn.style.borderRadius = '8px';
    });
    $$('.open-book').forEach(btn => {
      btn.style.background = '#fff';
      btn.style.color = '#0f766e';
      btn.style.border = '1px solid rgba(6,78,59,0.10)';
      btn.style.borderRadius = '8px';
    });
  }
  // call once
  enforceButtonStyles();

  // Debug helper: show console message so you know script loaded
  console.info('Modal quick-open script loaded — buttons .open-detail and .open-book will open modals.');

})();
</script>
<!-- ====================== ПАКЕТИ: картки + модалки + JS (вставити у <body>) ====================== -->
<!-- ======= PACKAGES SECTION (self-contained) ======= -->


<!-- Масштабна секція БЛОГУ (вставляй у <main>) -->
<section id="mega-blog-section" class="max-w-7xl mx-auto px-6 py-20" aria-labelledby="megaBlogTitle">
  <style>
    :root{
      --accent-start: #19c9a3;
      --accent-end: #08b3a6;
      --muted: #6b7280;
      --card-radius: 12px;
      --btn-radius: 10px;
      --card-shadow: 0 18px 50px rgba(3,15,30,0.06);
      --visual-radius: 12px;
    }

    /* Layout */
    .mega-grid{ display:grid; gap:1.25rem; grid-auto-rows:1fr; grid-template-columns:1fr; }
    @media(min-width:640px){ .mega-grid{ grid-template-columns:repeat(2,1fr); } }
    @media(min-width:1024px){ .mega-grid{ grid-template-columns:repeat(3,1fr); } }

    /* Card */
    .mega-card{ min-height:460px; background:white; border-radius:var(--card-radius); box-shadow:var(--card-shadow); border:1px solid rgba(15,23,42,0.03); display:flex; flex-direction:column; overflow:hidden; }
    /* square visual with rounded corners; image shown fully */
    .mega-card .visual {
      display:flex;
      align-items:center;
      justify-content:center;
      background:linear-gradient(180deg, rgba(8,179,166,0.06), rgba(8,179,166,0.02));
      border-bottom:1px solid rgba(15,23,42,0.02);
      aspect-ratio: 1 / 1;
      min-height:180px;
      overflow:hidden;
      padding:0.5rem;
    }
    .mega-card .visual img {
      width:100%;
      height:100%;
      object-fit:contain;      /* показує фото повністю, не обрізає */
      object-position:center;
      border-radius:calc(var(--visual-radius) - 2px);
      display:block;
      background:#fff;
    }

    .mega-card .body { padding:1.25rem; display:flex; flex-direction:column; gap:0.75rem; height:100%; }
    .mega-card h3{ font-weight:700; font-size:1.05rem; line-height:1.2; }
    .mega-card p.excerpt{ color:var(--muted); font-size:0.95rem; }

    .btn-mega{ min-width:12rem; border-radius:var(--btn-radius); padding:.64rem 1rem; font-weight:700; display:inline-flex; align-items:center; justify-content:center; gap:.5rem; }
    .btn-primary{ background:linear-gradient(90deg,var(--accent-start),var(--accent-end)); color:white; box-shadow:0 12px 36px rgba(8,179,166,0.14); }
    .btn-ghost{ background:white; border:1px solid rgba(15,23,42,0.06); color:#052024; }
    .btn-full{ width:100%; }

    .chip { display:inline-flex; align-items:center; gap:0.45rem; padding:0.36rem .65rem; border-radius:999px; font-size:.85rem; background:#f7faf9; border:1px solid rgba(15,23,42,0.03); }

    .backdrop{ position:fixed; inset:0; background:rgba(3,7,18,0.6); display:flex; align-items:center; justify-content:center; z-index:70; padding:2rem; }
    .modal-lg{ width:100%; max-width:1100px; max-height:92vh; overflow:auto; background:white; border-radius:14px; padding:1.25rem; box-shadow:0 40px 120px rgba(2,6,23,0.5); border:1px solid rgba(15,23,42,0.04); }
    .modal-grid{ display:grid; gap:1rem; grid-template-columns:1fr; }
    @media(min-width:980px){ .modal-grid{ grid-template-columns: 1fr 360px; } }

    .wide-table{ width:100%; border-collapse:collapse; margin-top:.75rem; }
    .wide-table th,.wide-table td{ border:1px solid rgba(15,23,42,0.04); padding:.7rem; text-align:left; font-size:.95rem; vertical-align:top; }
    .wide-table th{ background:linear-gradient(90deg,#f7fff8,#ffffff); font-weight:800; }

    .meta{ color:var(--muted); font-size:.92rem; }
    .stat{ font-size:1.4rem; font-weight:800; color:var(--accent-end); }

    .hover-lift{ transition:transform .28s cubic-bezier(.2,.9,.2,1), box-shadow .28s; transform-origin:center; }
    .hover-lift:hover{ transform:translateY(-8px); box-shadow:0 26px 70px rgba(3,15,30,0.08); }
    .actions-row{ margin-top:auto; display:flex; gap:0.75rem; align-items:center; justify-content:flex-start; }

    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;}
  </style>

  <!-- top progress line -->
  <div id="mega-progress" aria-hidden="true" style="position:fixed;top:0;left:0;height:4px;width:0;z-index:80;background:linear-gradient(90deg,var(--accent-start),var(--accent-end));"></div>

  <!-- Header -->
  <header class="text-center mb-12">
    <h2 id="megaBlogTitle" class="text-4xl md:text-5xl font-extrabold">Блог</h2>

    <div class="mt-6 flex justify-center gap-4">
      <button id="mega-lead" class="btn-mega btn-primary hover-lift" aria-label="Отримати безкоштовний чекліст">Отримати чекліст портфоліо</button>
      <button id="mega-apply" class="btn-mega btn-ghost hover-lift" aria-label="Відкрити форму запису">Записатись</button>
    </div>
  </header>

  <!-- Controls -->
  <div class="flex flex-wrap items-center justify-between gap-3 mb-8">
    <div class="flex items-center gap-3">
      <div class="relative">
        <label for="mega-search" class="sr-only">Пошук статей</label>
        <input id="mega-search" type="search" placeholder="Пошук: портфоліо, Figma, Storybook, interview..." class="px-4 py-2 border rounded-lg w-72 focus:ring-2" />
        <button id="mega-clear" class="absolute right-1 top-1/2 -translate-y-1/2 p-2 opacity-70" aria-label="Очистити пошук">✕</button>
      </div>

      <div class="flex gap-2" role="tablist" aria-label="Фільтри">
        <button class="chip" data-filter="all" aria-pressed="true">Усі</button>
        <button class="chip" data-filter="practice" aria-pressed="false">Практика</button>
        <button class="chip" data-filter="careers" aria-pressed="false">Кар'єра</button>
        <button class="chip" data-filter="cases" aria-pressed="false">Кейси</button>
        <button class="chip" data-filter="tools" aria-pressed="false">Інструменти</button>
      </div>
    </div>

    <div class="flex items-center gap-3">
      <label for="mega-sort" class="sr-only">Сортування</label>
      <select id="mega-sort" class="px-3 py-2 border rounded-lg">
        <option value="new">Найновіші</option>
        <option value="popular">Популярні</option>
        <option value="short">Короткі</option>
      </select>
    </div>
  </div>

  <!-- Grid of exactly 3 cards (no duplicates) -->
  <div class="mega-grid" id="mega-cards">
    <!-- Card 1 -->
    <article class="mega-card hover-lift" data-category="practice" data-title="portfolio-case">
      <div class="visual" aria-hidden="true">
        <img src="img/ee1.png" alt="ee1 - Як зібрати 2 end-to-end кейси" />
      </div>

      <div class="body">
        <div>
          <span class="chip">Практика</span>
          <h3 class="mt-3">Як зібрати 2 end-to-end кейси: від discovery до impact</h3>
          <p class="excerpt mt-2">Глибокий покроковий гайд з шаблонами: research brief, recruitment script, interview guide, wireframes, design system starter та вимірювання бізнес-метрик.</p>
          <div class="meta mt-2">Автор: Олексій Іванов • 12 серпня 2025 • <span class="stat" data-target="11">11</span> хв</div>
        </div>

        <div class="mt-2 flex flex-wrap gap-2">
          <span class="chip">Figma</span><span class="chip">Notion</span><span class="chip">Research</span>
        </div>

        <div class="actions-row">
          <button class="btn-mega btn-primary js-open-detail" data-slug="portfolio-case" aria-controls="detailModal" aria-haspopup="dialog" data-analytics="detail_click">Детальніше</button>
          <button class="btn-mega btn-ghost js-open-apply" data-offer="starter" aria-controls="applyModal" aria-haspopup="dialog" data-analytics="apply_click">Записатись</button>
        </div>
      </div>
    </article>

    <!-- Card 2 -->
    <article class="mega-card hover-lift" data-category="tools" data-title="tokens-storybook">
      <div class="visual" aria-hidden="true">
        <img src="img/ee2.png" alt="ee2 - Design tokens → Storybook → CI" />
      </div>

      <div class="body">
        <div>
          <span class="chip">Інструменти</span>
          <h3 class="mt-3">Design tokens → Storybook → CI: production-ready POC</h3>
          <p class="excerpt mt-2">Архітектура токенів, трансформація в CSS vars, Storybook setup і CI pipeline для публікації компонентів.</p>
          <div class="meta mt-2">Автор: Катерина Петрова • 3 липня 2025 • <span class="stat" data-target="9">9</span> хв</div>
        </div>

        <div class="mt-2 flex flex-wrap gap-2">
          <span class="chip">Storybook</span><span class="chip">Tokens</span><span class="chip">CI</span>
        </div>

        <div class="actions-row">
          <button class="btn-mega btn-primary js-open-detail" data-slug="tokens-storybook" aria-controls="detailModal" aria-haspopup="dialog">Детальніше</button>
          <button class="btn-mega btn-ghost js-open-apply" data-offer="pro" aria-controls="applyModal" aria-haspopup="dialog">Записатись</button>
        </div>
      </div>
    </article>

    <!-- Card 3 -->
    <article class="mega-card hover-lift" data-category="careers" data-title="mock-interview">
      <div class="visual" aria-hidden="true">
        <img src="img/ee3.png" alt="ee3 - Mock interview: 10 питань" />
      </div>

      <div class="body">
        <div>
          <span class="chip">Кар'єра</span>
          <h3 class="mt-3">Mock interview: 10 питань, як відповідати і що показувати</h3>
          <p class="excerpt mt-2">Реальні hiring questions, приклади відповідей, як структурувати кейс на співбесіді, negotiation tips.</p>
          <div class="meta mt-2">Автор: Світлана Мороз • 22 червня 2025 • <span class="stat" data-target="7">7</span> хв</div>
        </div>

        <div class="mt-2 flex flex-wrap gap-2">
          <span class="chip">Interview</span><span class="chip">CV</span><span class="chip">Negotiation</span>
        </div>

        <div class="actions-row">
          <button class="btn-mega btn-primary js-open-detail" data-slug="mock-interview" aria-controls="detailModal" aria-haspopup="dialog">Детальніше</button>
          <button class="btn-mega btn-ghost js-open-apply" data-offer="career" aria-controls="applyModal" aria-haspopup="dialog">Записатись</button>
        </div>
      </div>
    </article>
  </div>

  <!-- DETAIL MODAL -->
  <div id="detailBackdrop" class="backdrop" style="display:none;" aria-hidden="true">
    <div id="detailModal" class="modal-lg" role="dialog" aria-modal="true" aria-labelledby="detailTitle">
      <div class="flex items-start justify-between mb-4">
        <div>
          <h3 id="detailTitle" class="text-2xl font-extrabold">Завантаження…</h3>
          <div id="detailMeta" class="meta">Категорія • Автор • Час читання</div>
        </div>
        <div>
          <button id="detailClose" class="p-2 rounded focus:outline-none" aria-label="Закрити">✕</button>
        </div>
      </div>

      <div class="modal-grid">
        <main>
          <article id="detailBody" class="prose max-w-none text-slate-800">
            <p class="mt-2 text-slate-600" id="detailIntro">Завантажуємо...</p>

            <h4 class="mt-4 font-bold">Що ви отримаєте — повний перелік матеріалів</h4>
            <ul>
              <li><strong>Research kit:</strong> Research brief template (Notion), interview script, recruitment screener, consent form.</li>
              <li><strong>Design kit:</strong> Figma starter file with tokens, components, auto-layout examples, interaction specs and motion notes.</li>
              <li><strong>Prototype:</strong> Clickable mobile & desktop prototypes + optional HTML/CSS prototype (CodePen / Storybook POC).</li>
              <li><strong>Testing:</strong> Usability test script, facilitator notes, metrics collection sheet (CSV template).</li>
              <li><strong>Deliverables:</strong> Case page ready for portfolio, measurement report with before/after metrics.</li>
              <li><strong>Extras:</strong> negotiation cheatsheet, salary benchmarks, interview scripts.</li>
            </ul>

            <h5 class="mt-6 font-semibold">Deliverables — формат, час, критерії</h5>
            <table class="wide-table" aria-describedby="deliverDesc">
              <thead>
                <tr>
                  <th>Deliverable</th>
                  <th>Формат</th>
                  <th>Орієнт. час</th>
                  <th>Критерії прийнятності (rubric)</th>
                </tr>
              </thead>
              <tbody>
                <!-- tbody заповнюється динамічно при відкритті модалки (скрипт) -->
              </tbody>
            </table>
            <div id="deliverDesc" class="meta mt-2">Користуйтесь цими критеріями як чеклістом для review & mentor sign-off.</div>

            <h5 class="mt-6 font-semibold">Докладний тижневий roadmap</h5>
            <ol class="ml-5 list-decimal space-y-2">
              <li><strong>Week 1 — Discovery</strong>: brief, stakeholder interviews, 5 user interviews, affinity mapping, hypotheses.</li>
              <li><strong>Week 2 — Define & Ideate</strong>: flows, low-fidelity wireframes, prioritization, interaction specs.</li>
              <li><strong>Week 3 — Visual & Components</strong>: tokens, components, spacing system, accessibility checks.</li>
              <li><strong>Week 4 — Prototype & Test</strong>: clickable prototype, 5–8 usability tests, synthesis, iterations.</li>
              <li><strong>Week 5 — Handoff & Metrics</strong>: Storybook POC, dev tickets, tracking plan, before/after measurement.</li>
            </ol>

            <h5 class="mt-6 font-semibold">Рубрика оцінювання</h5>
            <pre class="bg-slate-50 p-3 rounded text-sm">
Research 0–10:
 0–3 - поверхневий
 4–6 - базовий
 7–8 - repeatable
 9–10 - strategic

Interaction 0–10:
 0–3 - незавершений flow
 4–6 - базовий
 7–8 - complete flows
 9–10 - excellent microcopy

Visual 0–10:
 0–3 - inconsistent
 4–6 - coherent visuals
 7–8 - tokens & components
 9–10 - polished system

Accessibility 0–10:
 keyboard, semantics, contrast, aria

Handoff 0–10:
 storybook + dev docs + clear acceptance criteria
            </pre>

            <h5 class="mt-6 font-semibold">Часті питання</h5>
            <details class="mt-2"><summary class="font-semibold">Чи підійде цей кейс для Junior?</summary><div class="meta mt-1">Так — адаптуйте scope deliverables, використайте наш Starter checklist.</div></details>
            <details class="mt-2"><summary class="font-semibold">Що завантажується у пакеті?</summary><div class="meta mt-1">Notion template, Figma starter, Storybook scaffold, PDF-checklist, CSV for metrics.</div></details>

            <div class="mt-6 flex flex-wrap gap-3">
              <button class="btn-mega btn-primary js-open-apply" aria-controls="applyModal">Отримати персональний career-plan</button>
              <a id="downloadTemplates" href="#" class="btn-mega btn-ghost" download>Завантажити шаблони (ZIP)</a>
              <button id="shareThis" class="btn-mega btn-ghost" aria-label="Поділитися статтею">Поділитися</button>
            </div>
          </article>
        </main>

        <aside>
          <div class="p-4 border rounded mb-4" style="background:linear-gradient(180deg, rgba(249,255,251,0.9), white)">
            <div class="meta">Outcome</div>
            <div class="text-xl font-extrabold mt-1">Portfolio-ready case</div>
            <div class="mt-3">
              <div class="meta">Estimate</div>
              <div class="text-lg font-semibold">~ 40–60 год</div>
            </div>
            <div class="mt-3">
              <div class="meta">Suggested level</div>
              <div class="font-medium">Starter → Pro</div>
            </div>
            <div class="mt-4">
              <div class="meta">Key metrics (sample)</div>
              <div class="mt-1">
                <div>Conversion uplift: <strong>+12%</strong></div>
                <div>Onboarding completion: <strong>+18%</strong></div>
              </div>
            </div>
          </div>

          <div class="p-4 border rounded mb-4">
            <div class="meta">Mentor</div>
            <div class="flex items-center gap-3 mt-2">
              <div style="width:48px;height:48px;border-radius:8px;background:#e9fffa"></div>
              <div>
                <div class="font-semibold">Олексій Іванов</div>
                <div class="meta">Senior Product Designer — Figma, research</div>
              </div>
            </div>
            <div class="mt-3">
              <button class="btn-mega btn-ghost btn-full">Записатися на рев'ю (15 хв)</button>
            </div>
          </div>

          <div class="p-4 border rounded">
            <div class="meta">Related</div>
            <ul class="mt-2 space-y-2">
              <li><a href="#" class="text-sky-600">Figma: design system starter</a></li>
              <li><a href="#" class="text-sky-600">Mock interview checklist</a></li>
              <li><a href="#" class="text-sky-600">Storybook POC guide</a></li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
  </div>

  <!-- APPLY MODAL -->
  <div id="applyBackdrop" class="backdrop" style="display:none;" aria-hidden="true">
    <div id="applyModal" class="modal-lg" role="dialog" aria-modal="true" aria-labelledby="applyTitle">
      <div class="flex items-start justify-between mb-4">
        <div>
          <h3 id="applyTitle" class="text-2xl font-extrabold">Запис на курс / Отримати career-plan</h3>
          <div class="meta">Заповніть форму — ми підготуємо персональний план і зв'яжемося.</div>
        </div>
        <div><button id="applyClose" class="p-2 rounded" aria-label="Закрити форму">✕</button></div>
      </div>

      <form id="applyFormDetailed" class="space-y-4">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
          <div>
            <label class="text-sm">Ім'я та прізвище</label>
            <input name="name" required class="w-full px-3 py-2 border rounded" placeholder="Іван Іванов" />
          </div>
          <div>
            <label class="text-sm">Телефон</label>
            <input name="phone" type="tel" class="w-full px-3 py-2 border rounded" placeholder="+380 99 123 45 67" />
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
          <div>
            <label class="text-sm">Email</label>
            <input name="email" type="email" required class="w-full px-3 py-2 border rounded" placeholder="you@example.com" />
          </div>
          <div>
            <label class="text-sm">Місто / часова зона</label>
            <input name="city" class="w-full px-3 py-2 border rounded" placeholder="Київ (UTC+2)" />
          </div>
        </div>

        <div>
          <label class="text-sm">Оберіть пакет</label>
          <select name="package" class="w-full px-3 py-2 border rounded">
            <option value="starter">Starter — quick portfolio (8 тижнів)</option>
            <option value="pro">Pro — design systems (16 тижнів)</option>
            <option value="master">Master — leadership (24 тижні)</option>
            <option value="career">Career — mock interviews (12 тижнів)</option>
          </select>
        </div>

        <div>
          <label class="text-sm">Наявний досвід / посилання на портфоліо</label>
          <input name="portfolio" class="w-full px-3 py-2 border rounded" placeholder="https://www.behance.net/..." />
        </div>

        <div>
          <label class="text-sm">Коротко про цілі (3–5 речень)</label>
          <textarea name="goals" rows="4" class="w-full px-3 py-2 border rounded" placeholder="Наприклад: хочу отримати junior→mid, час для занять, бажана дата старту"></textarea>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
          <div>
            <label class="text-sm">Як дізналися про нас?</label>
            <select name="source" class="w-full px-3 py-2 border rounded">
              <option>Інстаграм</option><option>LinkedIn</option><option>Google</option><option>Друг/рекомендація</option><option>Інше</option>
            </select>
          </div>
          <div>
            <label class="text-sm">Оберіть зручний час для консультації</label>
            <input name="preferred_time" class="w-full px-3 py-2 border rounded" placeholder="Пн-Пт 18:00–20:00" />
          </div>
        </div>

        <div>
          <label class="text-sm inline-flex items-center gap-2"><input type="checkbox" name="consent" required /> Я погоджуюсь на обробку персональних даних</label>
        </div>

        <div class="flex gap-3">
          <button type="submit" class="btn-mega btn-primary">Надіслати заявку</button>
          <button type="button" id="applyCancel" class="btn-mega btn-ghost">Скасувати</button>
        </div>

        <div class="text-xs meta">Після надсилання ми надішлемо підтвердження та посилання на календар для 1:1.</div>
      </form>
    </div>
  </div>

  <!-- Inline JS: interactions + GSAP reveals + focus-trap usage (без клонування / без кнопки "Завантажити ще") -->
  <script>
    (function(){
      const hasGSAP = typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined';
      if (hasGSAP) gsap.registerPlugin(ScrollTrigger);

      // basic DOM refs
      const cards = Array.from(document.querySelectorAll('#mega-cards .mega-card'));
      const search = document.getElementById('mega-search');
      const clear = document.getElementById('mega-clear');
      const chipEls = Array.from(document.querySelectorAll('[data-filter]'));
      const sort = document.getElementById('mega-sort');
      const detailBackdrop = document.getElementById('detailBackdrop');
      const detailModal = document.getElementById('detailModal');
      const applyBackdrop = document.getElementById('applyBackdrop');
      const applyModal = document.getElementById('applyModal');
      const detailClose = document.getElementById('detailClose');
      const applyClose = document.getElementById('applyClose');
      const applyCancel = document.getElementById('applyCancel');
      const detailTitle = document.getElementById('detailTitle');
      const detailIntro = document.getElementById('detailIntro');

      // Search & filter
      function applyFilter(q='', filter='all'){
        const qq = (q||'').toLowerCase();
        cards.forEach(c => {
          const title = (c.dataset.title||'').toLowerCase();
          const cat = (c.dataset.category||'').toLowerCase();
          const matchText = !qq || title.includes(qq) || (c.innerText||'').toLowerCase().includes(qq);
          const matchFilter = filter === 'all' || cat === filter;
          c.style.display = (matchText && matchFilter) ? '' : 'none';
        });
      }
      search && search.addEventListener('input', ()=> applyFilter(search.value, document.querySelector('.chip[aria-pressed="true"]')?.dataset.filter || 'all'));
      clear && clear.addEventListener('click', ()=> { if (search) search.value=''; applyFilter('','all'); });

      // chips toggling
      chipEls.forEach(ch => ch.addEventListener('click', ()=> {
        chipEls.forEach(x=> x.setAttribute('aria-pressed','false'));
        ch.setAttribute('aria-pressed','true');
        applyFilter(search.value, ch.dataset.filter);
      }));

      // GSAP reveals (optional)
      if (hasGSAP) {
        gsap.utils.toArray('#mega-cards .mega-card').forEach((el, i)=>{
          gsap.fromTo(el, {y:20, autoAlpha:0, scale:0.995},{y:0, autoAlpha:1, scale:1, duration:0.8, delay:i*0.05, ease:'power3.out', scrollTrigger:{ trigger: el, start:'top 90%', toggleActions:'play none none none' }});
        });
        gsap.to('#mega-progress', { width: '100%', ease:'none', scrollTrigger:{ scrub:0.2 }});
        gsap.utils.toArray('.stat').forEach(el=>{
          const target = parseInt(el.dataset.target||el.textContent||0,10);
          if (!isNaN(target)) {
            gsap.fromTo(el, { innerText: 0 }, {
              innerText: target, duration:1.2, ease:'power1.out', snap:{ innerText:1 },
              scrollTrigger:{ trigger: el, start:'top 80%', once:true },
              onUpdate:function(){ el.textContent = Math.round(this.targets()[0].innerText); }
            });
          }
        });
      }

      // modal + focus-trap
      let trapDetail = null, trapApply = null;
      function openModal(backdrop, modal){
        backdrop.style.display = 'flex'; backdrop.setAttribute('aria-hidden','false');
        if (hasGSAP) gsap.fromTo(modal, {y:20, autoAlpha:0, scale:0.98}, {y:0, autoAlpha:1, scale:1, duration:0.45, ease:'power3.out'});
        if (window.focusTrap) {
          const trap = window.focusTrap.createFocusTrap(modal, { escapeDeactivates:true, clickOutsideDeactivates:true });
          trap.activate(); return trap;
        }
        return null;
      }
      function closeModal(backdrop, trap){
        backdrop.style.display = 'none'; backdrop.setAttribute('aria-hidden','true');
        trap && trap.deactivate();
      }

      // Fill modal content and deliverables table (clears tbody each time => no duplication)
      function openDetail(e){
        const slug = e.currentTarget.dataset.slug || 'portfolio-case';
        const titleMap = {
          'portfolio-case': 'Як зібрати 2 сильні end-to-end кейси для портфоліо — повний гайд',
          'tokens-storybook': 'Design tokens & Storybook — архітектура і production POC',
          'mock-interview': 'Mock interview: 10 питань + шаблони відповідей'
        };
        const introMap = {
          'portfolio-case': 'Цей матеріал містить research templates, case structure, measurable outcomes та downloadable assets.',
          'tokens-storybook': 'Технічний план: токени, синхронізація з design tool, Storybook + CI pipeline.',
          'mock-interview': 'Підготовка до інтерв’ю: питання, відповіді, framework для поведінкових відповідей.'
        };
        detailTitle.textContent = titleMap[slug] || titleMap['portfolio-case'];
        detailIntro.textContent = introMap[slug] || '';
        const tbody = document.querySelector('#detailModal .wide-table tbody');
        if (tbody) {
          tbody.innerHTML = '';
          const rows = [
            ['Research brief','Notion + PDF','4–8 год','Цілі, sample, success metrics'],
            ['Interview guide','Google Docs','3–6 год','Script + consent + recording plan'],
            ['Affinity map','Miro','3–4 год','Clustered insights with quotes'],
            ['Wireframes','Figma','8–16 год','Flows, edge cases, interaction spec'],
            ['Design tokens','Figma + JSON','8–16 год','Color, spacing, type tokens'],
            ['Storybook POC','Storybook','8–20 год','Component stories + docs'],
            ['Prototype','Figma / HTML','6–12 год','Clickable mobile + desktop'],
            ['Usability report','Notion/PDF','4–8 год','Issues, severity, recommendation'],
            ['Case page','Notion/PDF','4–6 год','Context → Process → Result → Metrics']
          ];
          rows.forEach(r=>{
            const tr = document.createElement('tr');
            tr.innerHTML = `<td>${r[0]}</td><td>${r[1]}</td><td>${r[2]}</td><td>${r[3]}</td>`;
            tbody.appendChild(tr);
          });
        }
        trapDetail = openModal(detailBackdrop, detailModal);
      }

      function openApply(e){
        const offer = e.currentTarget.dataset.offer || '';
        const sel = document.querySelector('#applyModal select[name="package"]');
        if (sel && offer) sel.value = offer;
        trapApply = openModal(applyBackdrop, applyModal);
      }

      // bind handlers
      document.querySelectorAll('.js-open-detail').forEach(b => b.addEventListener('click', openDetail));
      document.querySelectorAll('.js-open-apply').forEach(b => b.addEventListener('click', openApply));
      document.getElementById('mega-lead').addEventListener('click', ()=> {
        const sel = document.querySelector('#applyModal select[name="package"]');
        if (sel) sel.value = 'starter';
        trapApply = openModal(applyBackdrop, applyModal);
      });
      document.getElementById('mega-apply').addEventListener('click', ()=> { trapApply = openModal(applyBackdrop, applyModal); });

      detailClose && detailClose.addEventListener('click', ()=> closeModal(detailBackdrop, trapDetail));
      applyClose && applyClose.addEventListener('click', ()=> closeModal(applyBackdrop, trapApply));
      applyCancel && applyCancel.addEventListener('click', ()=> closeModal(applyBackdrop, trapApply));

      document.addEventListener('keydown', (e)=> {
        if (e.key === 'Escape') {
          if (detailBackdrop.style.display === 'flex') closeModal(detailBackdrop, trapDetail);
          if (applyBackdrop.style.display === 'flex') closeModal(applyBackdrop, trapApply);
        }
      });

      const applyForm = document.getElementById('applyFormDetailed') || document.getElementById('applyForm');
      applyForm && applyForm.addEventListener('submit', function(ev){
        ev.preventDefault();
        const btn = applyForm.querySelector('button[type="submit"]');
        btn.disabled = true;
        btn.textContent = 'Відправляємо…';
        setTimeout(()=> {
          btn.disabled = false;
          btn.textContent = 'Надіслати заявку';
          alert('Дякуємо! Ваша заявка отримана. Ми звʼяжемося протягом 24 годин (це stub).');
          closeModal(applyBackdrop, trapApply);
          applyForm.reset && applyForm.reset();
        }, 900);
      });

      // analytics hook (optional)
      document.querySelectorAll('[data-analytics]').forEach(btn=>{
        btn.addEventListener('click', ()=> {
          const ev = btn.dataset.analytics;
          console.log('Analytics event:', ev, 'meta:', btn.dataset);
        });
      });

    })();
  </script>
</section>


    <!-- RIGHT: Main detailed form -->
    <div class="lg:col-span-5">
      <div class="sticky top-24 bg-white rounded-2xl border border-slate-100 p-6 shadow-md">
        <h3 class="text-2xl font-bold text-slate-900">Головна форма заявки</h3>
        <p class="mt-2 muted">Заповніть детальну форму — ми підготуємо персональну консультацію та персональний план.</p>

        <form id="main-form" class="mt-6 space-y-4" novalidate>
          <div>
            <label class="text-sm font-medium text-slate-700">Ім'я та прізвище *</label>
            <input id="fullname" name="fullname" required type="text" placeholder="Іван Іванов" class="mt-2 w-full rounded-lg border border-slate-200 px-4 py-3 text-slate-800 focus:outline-none" />
            <p class="mt-1 text-xs text-red-600 hidden" data-err-for="fullname">Це поле обов'язкове.</p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
            <div>
              <label class="text-sm font-medium text-slate-700">Телефон *</label>
              <input id="phone" name="phone" required inputmode="tel" placeholder="+380 99 123 45 67" class="mt-2 w-full rounded-lg border border-slate-200 px-4 py-3 text-slate-800" />
              <p class="mt-1 text-xs text-red-600 hidden" data-err-for="phone">Введіть телефон.</p>
            </div>
            <div>
              <label class="text-sm font-medium text-slate-700">Email *</label>
              <input id="email" name="email" required type="email" placeholder="you@example.com" class="mt-2 w-full rounded-lg border border-slate-200 px-4 py-3 text-slate-800" />
              <p class="mt-1 text-xs text-red-600 hidden" data-err-for="email">Введіть email.</p>
            </div>
          </div>

          <div>
            <label class="text-sm font-medium text-slate-700">Місто</label>
            <input id="city" name="city" type="text" placeholder="Київ" class="mt-2 w-full rounded-lg border border-slate-200 px-4 py-3 text-slate-800" />
          </div>

          <div>
            <label class="text-sm font-medium text-slate-700">Оберіть пакет *</label>
            <select id="package" name="package" required class="mt-2 w-full rounded-lg border border-slate-200 px-4 py-3 text-slate-800">
              <option value="">-- Оберіть пакет --</option>
              <option>Starter</option>
              <option>Foundations</option>
              <option>Pro</option>
              <option>Career</option>
              <option>Master</option>
              <option>Corporate</option>
            </select>
            <p class="mt-1 text-xs text-red-600 hidden" data-err-for="package">Оберіть пакет.</p>
          </div>

          <div>
            <label class="text-sm font-medium text-slate-700">Посилання на портфоліо</label>
            <input id="portfolio" name="portfolio" type="url" placeholder="https://..." class="mt-2 w-full rounded-lg border border-slate-200 px-4 py-3 text-slate-800" />
          </div>

          <div>
            <label class="text-sm font-medium text-slate-700">Детальний коментар</label>
            <textarea id="comment" name="comment" rows="4" placeholder="Коротко про досвід, цілі, бажані дати/години" class="mt-2 w-full rounded-lg border border-slate-200 px-4 py-3 text-slate-800"></textarea>
          </div>

          <div class="flex items-center gap-3">
            <input id="agree" name="agree" type="checkbox" required class="h-4 w-4 text-[#00BFA6]" />
            <label for="agree" class="text-sm text-slate-700">Погоджуюсь на обробку персональних даних *</label>
          </div>

          <div class="flex gap-3 mt-2">
            <button type="button" id="clear-main" class="btn-eq bg-white border border-slate-200 text-slate-800">Очистити</button>
            <button type="submit" id="submit-main" class="btn-eq bg-gradient-to-r from-[#00D2A6] to-[#00BFA6] text-white font-semibold">Надіслати заявку</button>
          </div>

          <div id="form-status" class="mt-2 text-sm muted" aria-live="polite"></div>
        </form>
      </div>
    </div>
  </div>

  <!-- MODAL ROOT -->
  <div id="modal-root" aria-hidden="true"></div>

  <!-- modal template (hidden) -->
  <template id="pkg-modal-tpl">
    <div class="fixed inset-0 z-60 flex items-center justify-center modal-backdrop bg-black bg-opacity-40 p-4" role="dialog" aria-modal="true">
      <div class="max-w-4xl w-full bg-white rounded-2xl shadow-2xl overflow-hidden" style="max-height:92vh;">
        <div class="p-6">
          <header class="flex items-start justify-between gap-4">
            <div>
              <h3 class="text-2xl font-bold" data-title></h3>
              <p class="mt-2 muted" data-sub></p>
            </div>
            <div class="flex items-center gap-3">
              <button class="btn-eq bg-white border border-slate-200 close-modal">Закрити</button>
              <button class="btn-eq bg-gradient-to-r from-[#00D2A6] to-[#00BFA6] text-white modal-sign">Записатись</button>
            </div>
          </header>

          <div class="mt-6 grid md:grid-cols-3 gap-6">
            <main class="md:col-span-2" data-body>
              <!-- big content inserted here -->
            </main>
            <aside class="md:col-span-1 bg-[#F7FFFB] p-4 rounded-lg" data-aside>
              <!-- aside summary -->
            </aside>
          </div>
        </div>
      </div>
    </div>
  </template>

  <script>
    /* --------------------- DATA: big modal content for each package --------------------- */
    const modalData = {
      'Starter': {
        title: 'Starter — Покроковий старт',
        sub: '8 тижнів • 6 end-to-end кейсів • 1:1 рев’ю',
        aside: `<div><strong>Тривалість:</strong> 8 тижнів<br><strong>Ціна:</strong> $499<br><strong>Фокус:</strong> Portfolio-ready</div>`,
        body: `
          <h4 class="text-lg font-semibold">Що входить</h4>
          <ul class="mt-3 ml-5 list-disc muted">
            <li>6 детальних кейсів з чеклістами і рубриками оцінки;</li>
            <li>2 live-сесії / тиждень: lecture + hands-on;</li>
            <li>1:1 рев’ю з ментором (1 год на кейс);</li>
            <li>Deliverables: research brief, flows, hi-fi prototype, case-study.</li>
          </ul>

          <h4 class="mt-4 font-semibold">Weekly roadmap</h4>
          <table class="mt-2 w-full text-sm">
            <thead class="text-left"><tr><th>Тиждень</th><th>Deliverable</th></tr></thead>
            <tbody>
              <tr><td class="py-1">1</td><td class="py-1">Research brief, 3 інтерв'ю</td></tr>
              <tr class="bg-slate-50"><td class="py-1">2</td><td class="py-1">Affinity mapping, persona</td></tr>
              <tr><td class="py-1">3</td><td class="py-1">Wireframes + flows</td></tr>
              <tr class="bg-slate-50"><td class="py-1">4</td><td class="py-1">Mid-fi prototype</td></tr>
            </tbody>
          </table>

          <h4 class="mt-4 font-semibold">FAQ</h4>
          <div class="mt-2 muted text-sm">
            <p><strong>Чи підходить для новачків?</strong> Так — курс починається з основ, але орієнтований на практику.</p>
            <p class="mt-2"><strong>Що потрібно мати?</strong> Базове розуміння інтернету, готовність вчитись і робити домашні завдання.</p>
          </div>
        `
      },

      'Foundations': {
        title: 'Foundations — Ґрунтовне занурення',
        sub: '12 тижнів • Research • IA • Prototyping',
        aside: `<div><strong>Тривалість:</strong> 12 тижнів<br><strong>Ціна:</strong> $999</div>`,
        body: `
          <h4 class="text-lg font-semibold">Що входить</h4>
          <ul class="mt-3 ml-5 list-disc muted">
            <li>Research frameworks, IA, prototyping workflows;</li>
            <li>Accessibility checks, handoff docs для devs;</li>
            <li>Peer-review + mentor sign-off.</li>
          </ul>
          <h4 class="mt-4 font-semibold">Sample deliverables</h4>
          <ul class="mt-2 ml-5 muted">
            <li>Research brief + 5 interviews report;</li>
            <li>Affinity map, journey map, user flows;</li>
            <li>Clickable prototype with accessibility notes.</li>
          </ul>
        `
      },

      'Pro': {
        title: 'Pro — Design systems & Motion at scale',
        sub: '16 тижнів • Design systems • Motion • Handoff',
        aside: `<div><strong>Тривалість:</strong> 16 тижнів<br><strong>Ціна:</strong> $1,499</div>`,
        body: `
          <h4 class="text-lg font-semibold">Фокус</h4>
          <p class="muted">Создание design system: tokens, components, variants, motion specs. Production handoff with Storybook and tokens.</p>
          <h4 class="mt-4 font-semibold">Deliverables</h4>
          <ul class="mt-2 ml-5 muted">
            <li>Design tokens & token map;</li>
            <li>Component library in Figma + Storybook POC;</li>
            <li>Motion specs & performance-aware animations.</li>
          </ul>
        `
      },

      'Career': {
        title: 'Career — CV, mock interviews, hiring-days',
        sub: '12 тижнів • Career coaching • Mock interviews',
        aside: `<div><strong>Тривалість:</strong> 12 тижнів<br><strong>Ціна:</strong> $1,899</div>`,
        body: `
          <h4 class="text-lg font-semibold">Що входить</h4>
          <ul class="mt-2 ml-5 muted">
            <li>CV & LinkedIn audit з практичними прикладами;</li>
            <li>Mock interviews з записом і детальним фідбеком;</li>
            <li>Hiring-days з продуктовими командами (direct-hire).</li>
          </ul>
        `
      },

      'Master': {
        title: 'Master — Leadership & Product strategy',
        sub: '24 тижні • Capstone • Leadership',
        aside: `<div><strong>Тривалість:</strong> 24 тижні<br><strong>Ціна:</strong> $3,499</div>`,
        body: `
          <h4 class="text-lg font-semibold">Capstone</h4>
          <p class="muted">Multi-team capstone: discovery → product strategy → release planning → demo day.</p>
          <h4 class="mt-4 font-semibold">Leadership</h4>
          <p class="muted">Coaching по веденню команд, system thinking, product metrics.</p>
        `
      },

      'Corporate': {
        title: 'Corporate — Team upskill & ROI',
        sub: 'Tailored • Workshops • Reporting',
        aside: `<div><strong>Формат:</strong> Tailored<br><strong>Стартова ціна:</strong> від $6,999</div>`,
        body: `
          <h4 class="text-lg font-semibold">Process</h4>
          <ol class="ml-5 muted list-decimal">
            <li>Discovery & KPI alignment;</li>
            <li>Tailored curriculum & workshops;</li>
            <li>Reporting & ROI tracking.</li>
          </ol>
        `
      }
    };

    /* --------------------- UTIL: open modal with content --------------------- */
    function openPackageModal(key) {
      const tpl = document.getElementById('pkg-modal-tpl');
      const clone = tpl.content.cloneNode(true);
      const root = document.getElementById('modal-root');
      const frag = clone;
      root.appendChild(frag);
      const modalEl = root.lastElementChild;
      modalEl.setAttribute('aria-hidden','false');

      const data = modalData[key] || { title: key, sub:'', body:'', aside:'' };
      modalEl.querySelector('[data-title]').innerHTML = data.title;
      modalEl.querySelector('[data-sub]').innerHTML = data.sub;
      modalEl.querySelector('[data-body]').innerHTML = data.body;
      modalEl.querySelector('[data-aside]').innerHTML = data.aside;

      // animate in
      try {
        if (typeof gsap !== 'undefined') {
          gsap.fromTo(modalEl, { autoAlpha:0 }, { autoAlpha:1, duration:0.22 });
          const box = modalEl.querySelector('.max-w-4xl');
          gsap.fromTo(box, { y: 20, scale:0.98 }, { y:0, scale:1, duration:0.46, ease:'power3.out' });
        }
      } catch(e){}

      // focus trap
      let trap;
      if (typeof createFocusTrap !== 'undefined') {
        trap = createFocusTrap(modalEl, { onDeactivate: ()=> closeModal(modalEl, trap) });
        trap.activate();
      } else {
        modalEl.querySelector('button')?.focus();
      }

      // handlers
      modalEl.querySelectorAll('.close-modal').forEach(btn => btn.addEventListener('click', ()=> closeModal(modalEl, trap)));
      modalEl.querySelectorAll('.modal-sign').forEach(btn => btn.addEventListener('click', ()=> {
        // preselect package and scroll to main form
        document.getElementById('package').value = key;
        closeModal(modalEl, trap);
        setTimeout(()=> {
          document.getElementById('package').scrollIntoView({ behavior:'smooth', block:'center' });
          document.getElementById('fullname').focus();
        }, 260);
      }));

      // click outside
      modalEl.addEventListener('click', (e)=>{ if (e.target === modalEl) closeModal(modalEl, trap); });

      // ESC close
      const esc = (ev)=>{ if (ev.key === 'Escape') closeModal(modalEl, trap); };
      document.addEventListener('keydown', esc);
      function closeModal(el, trapInstance) {
        try {
          if (trapInstance && trapInstance.deactivate) trapInstance.deactivate();
        } catch(e){}
        try {
          if (typeof gsap !== 'undefined') {
            gsap.to(el.querySelector('.max-w-4xl'), { y:10, scale:0.99, duration:0.2 });
            gsap.to(el, { autoAlpha: 0, duration:0.18, onComplete: ()=> el.remove() });
          } else el.remove();
        } catch(e){ el.remove(); }
        document.removeEventListener('keydown', esc);
        document.body.classList.remove('modal-open');
      }

      document.body.classList.add('modal-open');
    }

    /* --------------------- Attach card buttons handlers --------------------- */
    document.addEventListener('click', (ev)=> {
      const det = ev.target.closest('.det-btn');
      if (det) {
        const key = det.closest('[data-package]')?.dataset.package || det.dataset.modal;
        if (key) openPackageModal(key);
      }
      const sign = ev.target.closest('.sign-btn');
      if (sign) {
        const pkg = sign.dataset.package || sign.closest('[data-package]')?.dataset.package;
        if (pkg) openPackageModal(pkg); // opens modal and user can click modal's sign to preselect
      }
    });

    /* --------------------- Card animations (GSAP + ScrollTrigger) --------------------- */
    (function cardsAnim(){
      if (typeof gsap === 'undefined' || typeof ScrollTrigger === 'undefined') return;
      gsap.utils.toArray('.card-grid article').forEach((card, i) => {
        gsap.from(card, {
          y: 28, autoAlpha:0, duration:0.8, ease:'power3.out', delay: i*0.05,
          scrollTrigger: { trigger: card, start:'top 90%', toggleActions: 'play none none reverse' }
        });
      });

      // subtle hover tilt on cards
      document.querySelectorAll('.card-grid article').forEach(card => {
        card.addEventListener('mouseenter', ()=> gsap.to(card, { y:-6, boxShadow:'0 18px 40px rgba(12,18,27,0.08)', duration:0.25 }));
        card.addEventListener('mouseleave', ()=> gsap.to(card, { y:0, boxShadow:'0 6px 22px rgba(12,18,27,0.04)', duration:0.25 }));
      });

      // buttons micro interactions
      document.querySelectorAll('.btn-eq').forEach(btn=>{
        btn.addEventListener('mouseenter', ()=> gsap.to(btn, { scale:1.02, duration:0.14 }));
        btn.addEventListener('mouseleave', ()=> gsap.to(btn, { scale:1, duration:0.14 }));
      });
    })();

    /* --------------------- Main form behavior: validation, autosave, CV upload --------------------- */
    (function mainForm(){
      const form = document.getElementById('main-form');
      const status = document.getElementById('form-status');
      const draftKey = 'uxui_reg_draft_v3';
      const inputs = ['fullname','phone','email','city','package','portfolio','comment'];
      const cvInput = null; // CV handled via modal earlier; optional

      // phone mask: minimal friendly
      const phone = document.getElementById('phone');
      phone.addEventListener('input', function(e){
        const v = e.target.value.replace(/\D/g,'').slice(0,12);
        let out = v;
        if (v.startsWith('380')) {
          out = '+'+v.slice(0,3);
          if (v.length>3) out+=' '+v.slice(3,5);
          if (v.length>5) out+=' '+v.slice(5,8);
          if (v.length>8) out+=' '+v.slice(8,10);
        } else {
          if (v.length>0) out = '+'+v;
        }
        e.target.value = out;
      });

      // load draft
      try {
        const saved = localStorage.getItem(draftKey);
        if (saved) {
          const data = JSON.parse(saved);
          inputs.forEach(k=>{
            const el = document.getElementById(k); if (el && data[k]) el.value = data[k];
          });
        }
      } catch(e){}

      // autosave debounce
      let timer;
      form.addEventListener('input', ()=> {
        clearTimeout(timer); timer = setTimeout(()=> {
          const data = {}; inputs.forEach(k=>{ const el=document.getElementById(k); data[k]=el?el.value:''; });
          localStorage.setItem(draftKey, JSON.stringify(data));
          status.textContent = 'Чернетка збережена локально';
          setTimeout(()=> status.textContent = '', 900);
        }, 900);
      });

      document.getElementById('clear-main').addEventListener('click', ()=> {
        form.reset(); localStorage.removeItem(draftKey);
        status.textContent = 'Форма очищена';
        setTimeout(()=> status.textContent = '', 900);
      });

      // validation helper
      function validate(){
        let ok = true;
        [['fullname','Це поле обов\'язкове.'], ['phone','Введіть телефон.'], ['email','Введіть email.'], ['package','Оберіть пакет.']].forEach(([id,msg])=>{
          const el = document.getElementById(id); const err = document.querySelector(`[data-err-for="${id}"]`);
          if (!el || !err) return;
          if (el.required && !el.value.trim()) { ok=false; err.textContent=msg; err.classList.remove('hidden'); }
          else { err.classList.add('hidden'); }
        });
        // email format
        const email = document.getElementById('email').value.trim();
        if (email && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){ document.querySelector('[data-err-for="email"]').textContent='Неправильний формат email.'; document.querySelector('[data-err-for="email"]').classList.remove('hidden'); ok=false; }
        return ok;
      }

      // submit handler: replace simulated part with fetch to your backend
      form.addEventListener('submit', (ev) => {
        ev.preventDefault();
        if (!validate()) return;
        status.textContent = 'Надсилання...';
        const submit = document.getElementById('submit-main'); submit.disabled = true;
        // build payload
        const fd = new FormData();
        inputs.forEach(k=>{ const el = document.getElementById(k); if (el) fd.append(k, el.value.trim()); });
        fd.append('timestamp', new Date().toISOString());

        // Replace below with real fetch: fetch('/api/lead',{method:'POST', body: fd})
        setTimeout(()=> {
          status.textContent = 'Дякуємо! Заявка прийнята — чекайте на дзвінок/лист.';
          localStorage.removeItem(draftKey);
          submit.disabled = false;
          // small success animation (toast)
          const t = document.createElement('div');
          t.className = 'fixed right-6 bottom-6 z-50';
          t.innerHTML = `<div class="rounded-lg px-5 py-3 bg-white shadow border border-slate-100 flex items-center gap-3">
            <div class="w-9 h-9 rounded-full bg-gradient-to-r from-[#00D2A6] to-[#00BFA6] flex items-center justify-center text-white font-bold">✓</div>
            <div><div class="font-semibold text-slate-900">Заявка успішно надіслана</div><div class="text-sm muted">Ми зв'яжемося найближчим робочим днем.</div></div></div>`;
          document.body.appendChild(t);
          if (typeof gsap !== 'undefined') {
            gsap.fromTo(t, { y: 30, autoAlpha: 0 }, { y: 0, autoAlpha: 1, duration: 0.45 });
            setTimeout(()=> gsap.to(t, { y:20, autoAlpha:0, duration:0.45, onComplete: ()=> t.remove() }), 3500);
          } else setTimeout(()=> t.remove(), 3500);
        }, 1100);
      });
    })();

    /* --------------------- Accessibility: keyboard for cards --------------------- */
    document.querySelectorAll('.card-grid article').forEach(c => {
      c.setAttribute('tabindex', '0');
      c.addEventListener('keydown', (e)=> { if (e.key === 'Enter') { const btn = c.querySelector('.det-btn'); btn && btn.click(); } });
    });

  </script>
</section>
<!-- ===================== END MASSIVE REGISTRATION SECTION ===================== -->
<!-- Paste this before </body> -->
<script>
(function(){
  if(window.__global_error_shield_inited) return;
  window.__global_error_shield_inited = true;

  // ---------- Helpers ----------
  const log = (...args) => { try{ console.info('[PATCH]', ...args); }catch(e){} };
  const warn = (...args) => { try{ console.warn('[PATCH]', ...args); }catch(e){} };
  const err = (...args) => { try{ console.error('[PATCH]', ...args); }catch(e){} };

  function safeQuery(sel, root=document){
    try { return root.querySelector(sel); } 
    catch(e){ warn('safeQuery invalid selector', sel, e); return null; }
  }
  function safeQueryAll(sel, root=document){
    try { return Array.from(root.querySelectorAll(sel)); } 
    catch(e){ warn('safeQueryAll invalid selector', sel, e); return []; }
  }

  // ---------- Default placeholder (SVG data URI) ----------
  const SVG_PLACEHOLDER = 'data:image/svg+xml;utf8,' +
    encodeURIComponent(
      `<svg xmlns="http://www.w3.org/2000/svg" width="800" height="480">
         <rect width="100%" height="100%" fill="#f3f4f6"/>
         <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-family="Inter, Helvetica, Arial" font-size="20" fill="#9ca3af">Image placeholder</text>
       </svg>`
    );

  // ---------- Replace broken <img> sources with placeholder ----------
  function attachImageErrorHandlers(root=document){
    safeQueryAll('img', root).forEach(img=>{
      // if already has handler, skip
      if(img.dataset.__patch_img) return;
      img.dataset.__patch_img = '1';
      // If src is empty or starts with http and host is unreachable, onerror will fire.
      img.addEventListener('error', function onImgError(){
        try{
          if(img.dataset.__patched_src) return;
          img.dataset.__patched_src = '1';
          // keep alt text; swap src to placeholder (white / neutral)
          img.src = SVG_PLACEHOLDER;
          img.style.objectFit = img.style.objectFit || 'cover';
          img.title = img.title || 'заглушка';
          log('Replaced broken image with placeholder for', img);
        }catch(e){ warn('img error handler failure', e); }
      }, { once:true });
      // if already failed to load (cached), trigger manually
      if(img.complete && img.naturalWidth === 0){
        // still fire handler
        setTimeout(()=> img.dispatchEvent(new Event('error')), 0);
      }
    });
  }

  // ---------- Mark & cleanup broken external resources (scripts/styles) ----------
  function monitorExternalResources(){
    safeQueryAll('link[rel="stylesheet"], script[src]').forEach(el=>{
      if(el.dataset.__patch_mon) return;
      el.dataset.__patch_mon = '1';
      el.addEventListener('error', () => {
        el.setAttribute('data-broken', 'true');
        err('Resource failed to load:', el.tagName, el.getAttribute('href') || el.getAttribute('src'));
        // Optional: visually mark the page or remove the node to avoid further errors.
        // We won't remove automatically; just mark.
      });
    });
  }

  // ---------- Guard wrapper for functions that often throw because of null selectors ----------
  function safeRun(fn, name){
    try{ return fn(); }
    catch(e){
      warn('safeRun caught error in', name || fn.name || 'anonymous', e);
      return null;
    }
  }

  // ---------- Provide fallback for `template` if missing ----------
  if(typeof window.template === 'undefined'){
    window.template = function(){ return ''; };
    log('Defined fallback window.template() to avoid ReferenceError');
  }

  // ---------- Global error & promise handlers (do not swallow, but log friendly) ----------
  window.addEventListener('error', function(ev){
    try{
      const { message, filename, lineno, colno } = ev;
      err('Global error caught:', message, filename + ':' + lineno + ':' + colno);
      // don't call ev.preventDefault() — but helpful to know
    }catch(e){}
  });

  window.addEventListener('unhandledrejection', function(ev){
    try{
      err('Unhandled promise rejection:', ev.reason);
    }catch(e){}
  });

  // ---------- Prevent double clicks / double opens on buttons with data-action ----------
  // Behavior: when a button with data-action is clicked, lock it for 400ms to avoid double events
  document.body.addEventListener('click', function(e){
    try{
      const btn = e.target.closest && e.target.closest('[data-action]');
      if(!btn) return;
      // if already locked, prevent further handling
      if(btn.dataset.__patch_locked){
        e.preventDefault();
        e.stopImmediatePropagation && e.stopImmediatePropagation();
        return;
      }
      // lock the button very briefly
      btn.dataset.__patch_locked = '1';
      setTimeout(()=> { try{ delete btn.dataset.__patch_locked; } catch(_){} }, 420);
      // also ensure at least one click handler will run (do not prevent default).
    }catch(e){ warn('double-click protection error', e); }
  }, { capture: true });

  // ---------- Prevent double modal opens: track open state by modal id ---------- 
  const openModals = new Set();
  function markModalOpen(modalEl){
    try{
      const id = modalEl && (modalEl.id || modalEl.dataset.modalId || modalEl.dataset.role || modalEl.tagName);
      if(!id) return false;
      if(openModals.has(id)) return false;
      openModals.add(id);
      return id;
    }catch(e){ return null; }
  }
  function markModalClose(modalEl){
    try{
      const id = modalEl && (modalEl.id || modalEl.dataset.modalId || modalEl.dataset.role || modalEl.tagName);
      if(!id) return;
      openModals.delete(id);
    }catch(e){}
  }
  // Observe DOM for modal open/close toggles and keep set clean
  // (This is optional; user code should call markModalOpen/Close if integrating deeply.)

  // ---------- Accessibility: focus trap helper (light) ----------
  function lightTrapFocus(container){
    if(!container) return function(){};
    const focusable = Array.from(container.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])'))
      .filter(el => !el.disabled);
    if(!focusable.length) return function(){};
    const first = focusable[0], last = focusable[focusable.length-1];
    const handler = (e) => {
      if(e.key !== 'Tab') return;
      if(e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
      else if(!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
    };
    container.addEventListener('keydown', handler);
    return () => container.removeEventListener('keydown', handler);
  }

  // ---------- UI quick fixes: make arrows / close icons white if present ----------
  function applyUiTweaks(){
    try{
      // arrows with class .arrow or data-arrow
      safeQueryAll('.arrow, .arrow svg, .arrow *').forEach(el => { el.style.color = '#ffffff'; el.style.fill = '#ffffff'; el.style.stroke = '#ffffff'; });
      // close buttons
      safeQueryAll('.cs-close, .modal-close, .close, .close-btn').forEach(b => { b.style.color = '#ffffff'; b.style.background = 'transparent'; });
      log('UI tweaks applied: arrows/close icons set to white where found.');
    }catch(e){ warn('UI tweak failed', e); }
  }

  // ---------- Ensure handlers run after DOM ready ----------
  function initAll(){
    try{
      attachImageErrorHandlers(document);
      monitorExternalResources();
      applyUiTweaks();
      // Also attach handlers to any dynamic areas (if single-page, user can call attachImageErrorHandlers when new content added)
      log('PATCH init complete — image handlers attached, resource monitor enabled.');
    }catch(e){ warn('initAll error', e); }
  }

  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', initAll);
  } else {
    // already ready
    setTimeout(initAll, 10);
  }

  // ---------- Public helpers for manual use in console (optional) ----------
  window.__patch_utils = {
    attachImageErrorHandlers,
    monitorExternalResources,
    safeQuery,
    safeQueryAll,
    lightTrapFocus,
    markModalOpen,
    markModalClose,
    SVG_PLACEHOLDER
  };

  // ---------- Extra: auto-run attach on subsequent DOM mutations (images added later) ----------
  try{
    const mo = new MutationObserver(muts => {
      let added = false;
      for(const m of muts){
        if(m.addedNodes && m.addedNodes.length){
          added = true; break;
        }
      }
      if(added) {
        // small debounce
        clearTimeout(window.__patch_img_timer);
        window.__patch_img_timer = setTimeout(()=> attachImageErrorHandlers(document), 120);
      }
    });
    mo.observe(document.documentElement || document.body, { childList: true, subtree: true });
  }catch(e){ /* not critical */ }

  // ---------- Final console note ----------
  log('Global patch loaded. Use window.__patch_utils in console for manual actions.');
})();
</script>

<script src="js/main.js" defer></script>

</body>
</html>
